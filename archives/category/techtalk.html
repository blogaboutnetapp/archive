<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>about NetApp   &raquo; techtalk</title>

<link rel="stylesheet" href="../../wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />
<link rel="alternate" type="application/rss+xml" title="about NetApp RSS Feed" href="../../feed" />
<link rel="pingback" href="../../xmlrpc.php.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6" />

</head>

<body>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="../../index.html" title="about NetApp: Системы хранения данных как предмет разговора">about NetApp</a></h1>
		<p>Системы хранения данных как предмет разговора</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="../../index.html">
<input type="text" size="20" name="s" id="s" value="Поиск..."  onblur="if(this.value=='') this.value='Поиск...';" onfocus="if(this.value=='Поиск...') this.value='';"/>
</form>
	</div> 
	<!-- Search ends here-->
		
</div>

<div id="navbar">
<ul id="nav">
	<li><a href="../../index.html">Home</a></li>
	<li class="page_item page-item-153"><a href="../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul>
</div>
<div id="wrapper">

	<div id="content">

	
			<p>Archive for the &#8216;techtalk&#8217; Category.</p>

 				
		<div class="navigation">
			<div class="alignleft"><a href="techtalk/page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>

						
			<div class="post" id="post-1377">
				<h2 class="posttitle"><a href="../1377/trackback.html" rel="bookmark" title="Permanent Link to NetApp AFF: All-Flash FAS. Комментарии специалиста.">NetApp AFF: All-Flash FAS. Комментарии специалиста.</a></h2>
				<div class="postmetadata">7 Июль 2014, 11:00 <!-- от  --></div>
				<div class="postentry">
					<p>Автор блога <a href="http://www.ntapgeek.com">NTAPgeek</a> расспросил <a href="http://www.linkedin.com/in/ntriantos">Ника Триантоса</a>, одного из ведущих инженеров NetApp, по поводу All-Flash FAS систем, стоящих за ними технических решений, и чем AFF отличается от других flash-стораджей, в том числе и тех, что производит сам NetApp, например уже известного вам EF550.</p>
<p>Ник говорит: </p>
<p>“Наибольшая проблема для нас была не в том, как WAFL пишет; на деле это как раз большой плюс архитектуры. Основные проблемы и задачи при разработке были:</p>
<p><strong>Оптимизация под многоядерные процессоры</strong> – Долгое время Data ONTAP не умела эффективно использовать многоядерность процессоров. Проект по проведению оптимизации под многоядерность стартовал с версии 7.3 и продолжался вплоть до релиза Data ONTAP 8. Я уверен, что вам доводилось видеть ситуацию, когда один CPU работает с загрузкой 90% и другой - на 20%! Если нагрузка упирается на уровне ONTAP domain, который должен выплняться на одном единственном ядре, то возникает узкое место для роста производительности. ?? при этом неважно, что другие ядра были недозагружены. Эта задача была, в итоге, решена.</p>
<p><strong>Управление метаданными</strong> – Когда вы используете маленькие блоки данных, например у NetApp это 4K, то при этом вы получаете множество метаданых, которыми нужно управлять. Для того, чтобы получить максимально быстрый доступ к даным, вам нужно сперва максимально быстро получить доступ к их метаданным. А где быстрее всего доступ к метаданым? В оперативной памяти. Вот почему мы используем так много оперативной памяти на контроллерах серий FAS2500 и FAS8000; мы стараемся как можно больше метаданных при работе держать в быстрой памяти контроллера.</p>
<p><strong>Защита данных</strong> – Это связано с темой выше. Системы AFF имеют больше возможностей по защите данных, чем любая другая система c flash (и, кстати, не только flash) на сегодняшнем рынке. Хотя это и полезная штука, есть определенные недостатки. Недостатки состоят в более динных путях ввода-вывода, так как метаданные размещаются и валидируются отдельно от блоков данных.     <br />Как вы защищаетесь от lost writes? Что случится, если вы торговая компания, и на вашей системе хранения SSD сказал, что данные записаны, а на деле он их не записал, или записал не так или не туда? Вы рискуете огромными финансовыми потерями. Data ONTAP не только обнаруживает такие ситуации, но и защищает, а также помогает восстановить данные, испорченые в результате lost writes (это крайне коварная проблема).”</p>
<p>Потерянные операции записи, или “Lost writes”, это редкая, но при этом очень трудно обнаруживаемая ошибка, и самое плохое с ней то, что вы не знаете, что она уже произошла, и&#160; обнаруживаете ее только дни или даже месяцы спустя. Но когда она случилась, она повреждает ваши данные! ?? тут можно только пожелать удачи вам, в поисках бэкапа, снэпшота или точки репликации, в котором эта ошибка еще не проявилась и данные еще не повреждены. Конечно же, любые фичи по зашите данных имеют свои побочные эффекты и недостатки.</p>
<p>Другими словами, хорошая скорость работы и устойчивость к отказам сразу двух дисков – недостаточны для того, чтобы считать, что ваши данные надежно защишены. В особенности, когда flash-хранилища используются для бизнес-критичных приложений. Вам следует проанализировать возможные ситуации отказов, и убедиться, что ваше хранилище устойчиво к ним, а данные - защищены. Более 20 лет мы совершенствеум и развиваем Data ONTAP, и достигли в ней очень высокого уровня надежности и устойчивости против всех видов отказов и различных их комбинаций.”</p>
<p>Напомним, бандлы NetApp AFF имеют:</p>
<ol>
<li><strong>Больше памяти</strong>       <br />Больший объем кэша чтения-записи в FAS8000, что позволяет держать в нем больше метаданных </li>
<li><strong>Более быстрый NVRAM</strong>       <br />Быстрее отрабатываются ACK, как следствие – ниже отклик и задержки </li>
<li><strong>Значительно оптимизированную многоядерную эффективность OS        <br /></strong>Проводилась начиная с Data ONTAP 7.3 </li>
<li><strong>Continuous Segment Size Cleaning (CSS)</strong>       <br />Переменный размер сегмента Data ONTAP&#160; (4K-256K) </li>
<li><strong>??нтеллектуальные алгоритмы упреждающего чтения, определяющие типовые паттерны операций:</strong>
<ul>
<li>Последовательное чтение с тем же (например 32k) и различными размерами блоков (4k,64k,4k,64k) </li>
<li>Скачущее (strided) чтение: Начнем с блока N и прочитаем, считая с него, блоки 10 и 12, но пропустим блок 11 </li>
<li>Обратное чтение: Начнем с блока N, и прочитаем –10 блоков, считая от него </li>
<li>Несколько потоков чтения, читающих из разных точек </li>
</ul>
</li>
</ol>
<p>Бандлы NetApp AFF доступны к заказу с 23 июня 2014 года.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/aff.html" rel="tag">aff</a>, <a href="../tag/all-flash.html" rel="tag">all-flash</a>, <a href="../tag/fas.html" rel="tag">FAS</a>, <a href="../tag/flash/index.html" rel="tag">flash</a>, <a href="../tag/netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>,  <a href="news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1377/trackback.html#comments" title="Комментарий к записи NetApp AFF: All-Flash FAS. Комментарии специалиста.">Комментарии (10)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1376">
				<h2 class="posttitle"><a href="../1376/trackback.html" rel="bookmark" title="Permanent Link to NetApp AFF: All-Flash FAS">NetApp AFF: All-Flash FAS</a></h2>
				<div class="postmetadata">3 Июль 2014, 15:28 <!-- от  --></div>
				<div class="postentry">
					<p>??з всей троицы продуктов, появившихся у NetApp этим летом, а именно: <strong>FAS2500</strong>, <strong>FAS8080EX</strong> и <strong>NetApp AFF</strong>, совершенно неожиданно для меня именно последний стал предметом преткновения, пост про который я пишу уже вторую неделю. Если про FAS2500 я <a href="../1369/trackback.html">написал сразу</a>, и там, в целом, все ясно по прочтении техспек и&#160; Technical FAQ / SE Presentation, если c FAS8080ES тоже все ясно, это “больше, выше, сильнее”, вот, в общем, и все что про него можно рассказать, я даже отдельно про него писать не стану, то вот в отношении All-Flash FAS такая ясность долго не наступала. ?? далее я попробую рассказать, в чем, собствено, состоял предмет затруднения.</p>
<p>   <a href="../1376/trackback.html#more-1376" class="more-link"><small>Continue reading &#8216;NetApp AFF: All-Flash FAS&#8217; &raquo;</small></a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/aff.html" rel="tag">aff</a>, <a href="../tag/all-flash-fas.html" rel="tag">all-flash-fas</a>, <a href="../tag/flash/index.html" rel="tag">flash</a>, <a href="../tag/flash-cache.html" rel="tag">flash cache</a>, <a href="../tag/flash-pool.html" rel="tag">flash pool</a>, <a href="../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../tag/ssd/index.html" rel="tag">ssd</a><br />					Раздел: <a href="review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>,  <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>,  <a href="news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1376/trackback.html#comments" title="Комментарий к записи NetApp AFF: All-Flash FAS">Комментарии (4)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1345">
				<h2 class="posttitle"><a href="../1345/trackback.html" rel="bookmark" title="Permanent Link to SnapCreator вблизи. Часть 1.">SnapCreator вблизи. Часть 1.</a></h2>
				<div class="postmetadata">28 Апрель 2014, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Вот уже несколько лет, как среди программных продуктов NetApp есть такая штука, как SnapCreator. К сожалению, как я обратил внимание, он не только очень плохо известен пользователям, но даже те, кто знает про него, используют его крайне редко. А ведь это штука, которая, благодаря своей гибкости, может решить многие задачи, связанные с защитой данных на системе хранения и в прикладных системах, ее использующих.</p>
<p>SnapCreator первоначально был разработан в 2007 году как &#8220;служебный&#8221;, внутренний продукт, внутри подразделения Professional Services и Rapid Responce Engineering Group, для того, чтобы облегчить построение систем защиты данных в снэпшоты системы хранения для пользовательских прикладных систем, не входящих в список поддерживаемых &#8220;официальным&#8221; продуктом NetApp - SnapManager.<br />
То есть, если у вас используется MS SQL Server, MS Exchange, Sharepoint, Oracle, SAP, Hyper-V или vSphere (и у вас есть деньги на лицензию SnapManager), то все относительно просто. Вы устанавливаете SnapManager для соответствующего программного продукта, и дальше он делает все сам.</p>
<p>Зачем нужен SnapManager, и почему нельзя обойтись просто командой snap create из консоли, или переданной через ssh или rsh? Ну, например потому, что некоторые программы требуют некоей согласованной последовательности действий на своей стороне, чтобы состояние данных, записанных на дисках системы хранения, было корректным, или еще говорят &#8220;консистентным&#8221;. Ведь, например, какие-то данные могут оказаться в буферах кэша сервера, как на стороне программы, так и файловой системы, базы SQL могут иметь незавершенные транзакции, и так далее. Все это требует, чтобы перед тем, как будет сделан &#8220;снимок&#8221;, снэпшот состояния данных, эти данные на дисках уже находились какое-то время в некоем стабильном, непротиворечивом состоянии, то есть все равно нужен некий &#8220;агент&#8221; на стороне программного продукта, умеющий с ним взаимодействовать.</p>
<p>Таким образом, если у вас используется какой-нибудь MySQL, Sybase, Xen, KVM или что-то подобное, вам <em>нельзя так просто взять и сделать снэпшот</em>. Нужно написать какую-то систему-посредник, между вашим софтом, и софтом Data ONTAP. Вот для того, чтобы облегчить такую задачу для специалистов Professional Services и был написан SnapCreator.</p>
<p>SnapCreator - это платформа, или, иначе говоря, фреймворк, для написания скриптов и агентов, взаимодействующих с вашей прикладной программной системой, с системой хранения, обеспечивающий автоматизацию взятия корректных, консистентных снэпшотов для данных этой программной системы. Вначале, первые несколько своих версий, это была закрытая внутренняя разработка, начиная с версии 3 она стала ограниченно доступна всем желающим. В настоящий момент для скачивания и использования доступна уже версия 4.1</p>
<p>Официально в настоящее время существуют две линейки, официальная, и так называемая Community Edition. Последняя это, так сказать, unstable, developers edition, где обкатываются все мульки, которые потом деплоятся в официальную поддерживаемую компанией ветку.</p>
<p>Архитектурно SnapCreator является клмент-серверным приложением. Существует так называемый SnapCreator Server, выполняющий код компонента Workflow Engine, который многопоточно обрабатывает поступающие от Агентов и собственного GUI и/или CLI запросы. Так как API открыт, то использовать SnapCreator могут любые внешние системы, например это могут быть коммандлеты PowerShell, другие продукты NetApp, такие как Unified Manager (для него есть свой собственный API), и даже собственные самописанные системы клиентов.</p>
<p><a href="/pics//snapcreatorserverarch.png"><img src="/pics//snapcreatorserverarch.png" alt="" title="snapcreatorserverarch" width="500" height="247" class="alignnone size-full wp-image-1346" /></a></p>
<p>&#8220;Другим концом&#8221; Snap Creator Server взаимодействует с внутренним API Data ONTAP, обеспечивая все нужные вызовы и отдачу команд.<br />
Конфигурации, jobs, и метаданные плагинов хранятся в специальной структуре - Репозитории (Repository / Extended Repository). Расписания задач, сами задачи (jobs), пользователи и их права доступа (RBAC) хранятся в базе данных (Database).</p>
<p>Наконец, специальный API есть для &#8220;клиентов&#8221;, агентов SnapCreator.</p>
<p>Посмотрим теперь подробнее на систему SnapCreator со стороны Агента.</p>
<p><a href="/pics//snapcreatoragentarch.png"><img src="/pics//snapcreatoragentarch.png" alt="" title="snapcreatoragentarch" width="500" height="242" class="alignnone size-full wp-image-1347" /></a></p>
<p>Агент - это программный продукт, написанный на Java, чтобы многопоточно выполняться на всех поддерживаемых OS. В ранних версиях в качестве транспорта использовался обычный HTTP, начиная с версии 4.1 взаимодействие Агента и Сервера полностью шифруется в HTTPS.<br />
Основным компонентом, ядром SC Agent является Operation/Execution Manager.<br />
Ядро выполняет запросы от плагинов, которые могут быть как нативными на Джава, так и поддерживаться ранее написанные плагины &#8220;не-Java&#8221; (значительное их количество для разных программных систем было написано для версий SC 3.6 и 4.0, существовавших ранее), в том числе и на разных скриптовых языках, Perl, PowerShell, даже на UNIX Shell. </p>
<p>В следующих постах разберем то, как пишутся собственно плагины для SnapCreator.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../tag/snapcreator.html" rel="tag">snapcreator</a><br />					Раздел: <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>,  <a href="utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;" rel="category tag">utilities</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1345/trackback.html#comments" title="Комментарий к записи SnapCreator вблизи. Часть 1.">Комментарии (7)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1335">
				<h2 class="posttitle"><a href="../1335/trackback.html" rel="bookmark" title="Permanent Link to Четыре порта 10G в Cluster Interconnect">Четыре порта 10G в Cluster Interconnect</a></h2>
				<div class="postmetadata">14 Апрель 2014, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>После выхода FAS8000 и Data ONTAP 8.2.1, обновилась рекомендация NetApp по использованию и числу портов 10G Ethernet, задействованных в кластерном интерконнекте, закрытой внутренней сети обмена данными между контроллерами, входящими в один кластер (тот, что именно <em>кластер</em>, в терминах clustered Data ONTAP, или, по старому,  C-mode).<br />
Если раньше для подключения в Interconnect использовались два порта 10G на каждом контроллере (каждый - в свой коммутатор, конечно, для надежности и отказоустойчивости, то новая <strong>рекомендация</strong> - использовать для старших систем по два таких порта, итого - четыре на контроллер. Так как onboard портов у FAS8040/8060 как раз четыре на контроллер, то эта рекомендация не будет создавать особенных сложностей.</p>
<p>Связана эта рекомендация с увеличившейся мощностью контроллеров, способных загрузить трафиком  один порт &#8220;с горкой&#8221;, и упереться уже в производительность интерконнекта быстрее, чем в ограничения по пропускной внутри контроллера и его процессор.</p>
<p><a href="/pics//four-port-fas8000.png"><img src="/pics//four-port-fas8000-300x203.png" alt="" title="four-port-fas8000" width="300" height="203" class="alignnone size-medium wp-image-1336" /></a></p>
<p>Трафик интерконнекта состоит, в первую очередь, из трафика между LIF, то есть логического интерфейса SVM, Stotage Virtual Machine (или, по старому, VServer), и ее данными, которые могут оказаться, например в результате миграции SVM, на дисках, обслуживаемых другими контролерами. В этом случае трафик, входя через физические порты, привязанные к LIF с одного контроллера, достигнет своих данных, расположенных на дисках другого контроллера, пройдя через кластерный интерконнект (в терминах NetApp это называется remote workload).<br />
А так как увеличившаяся мощность контроллера и объем NVRAM существенно лучше обрабатывают ряд &#8220;трудных&#8221; для контроллеров NetApp нагрузок, например linear-типа, способных нагрузить интерконнект трафиком, возникла необходимость рекомендовать решение, снимающее это <em>потенциальное</em> узкое место.</p>
<p><a href="/pics//fas8040a-4-cluster-interconnects.png"><img src="/pics//fas8040a-4-cluster-interconnects-300x292.png" alt="" title="fas8040a-4-cluster-interconnects" width="300" height="292" class="alignnone size-medium wp-image-1352" /></a></p>
<p>Конечно, если вы используете 7-mode и младшие модели, то вас это все пока не очень касается, но если вы строите по настоящему мощную систему, то советую заранее присмотреться к этой рекомендации. Кстати, следует отметить, что сама процедура добавления дополнительных портов в интерконнект сравнительно проста, доступна для уже построенной системы, и никаких значительных перенастроек в ней не требуется, все внутренние компоненты Data ONTAP, использующие интерконнект, самостоятельно перебалансируются, обнаружив дополнительный интерфейс.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/10g.html" rel="tag">10G</a>, <a href="../tag/cluster/index.html" rel="tag">cluster</a>, <a href="../tag/cluster-mode/index.html" rel="tag">cluster-mode</a>, <a href="../tag/clustered.html" rel="tag">clustered</a>, <a href="../tag/interconnect.html" rel="tag">interconnect</a>, <a href="../tag/netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1335/trackback.html#comments" title="Комментарий к записи Четыре порта 10G в Cluster Interconnect">Комментарии (3)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1329">
				<h2 class="posttitle"><a href="../1329/trackback.html" rel="bookmark" title="Permanent Link to FAS8000 - новая платформа масштабируемого хранилища">FAS8000 - новая платформа масштабируемого хранилища</a></h2>
				<div class="postmetadata">3 Март 2014, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>В Tech ONTAP (это, если вы не получаете, ежемесячный newsletter у NetApp), <a href="https://communities.netapp.com/docs/DOC-32558?REF_SOURCE=EMMtot-1402&#038;h">статья Стивена Миллера</a>, старшего технического директора NetApp и архитектора платформ, фактического &#8220;создателя&#8221;, на протяжении 6 лет, всех платформ NetApp, начиная от FAS3100.<br />
Статья техническая, и, как всегда, &#8220;по делу&#8221;, посвященная подробностям и деталям устройства новых контроллеров FAS8000.</p>
<p>Вот вам, для затравки, картинка задней панели новых контроллеров, 8020 и 8040/8060:</p>
<p><img src="https://communities.netapp.com/servlet/JiveServlet/downloadImage/102-32627-13-24954/feat_fig4.jpg" alt="FAS8020-8040-8060-rear-view" /></p>
<p>Некоторые факты и реплики, показавшиеся интересными и выдернутые из текста:<br />
&#8220;Мы используем специальные инструкции, появившиеся в семействе процессоров Sandy Bridge, и сотрудничаем с Intel, чтобы использовать (в будущих релизах софта? romx) инструкции для шифрования, компрессии, а также Advanced Vector Extensions, которая позволяет одной инструкцией обрабатывать множественные фрагменты данных&#8221;</p>
<p>&#8220;Мы используем схему с одним DIMM на канал памяти, чтобы максимально расширить полосу пропускания и увеличить производительность памяти. FAS8060 дает до 85Gb/s пропускной канала от ядер к памяти&#8221;</p>
<p>&#8220;Новый дизайн NVRAM. Нынешний NVRAM9 имеет вдвое шире полосу пропускания, чем NVRAM8 (в 3200/6200, romx)&#8221;<br />
&#8220;Увеличенный NVRAM улучшает производительность записей большого объема последовательного доступа. Многие нагрузки произвольного характера также имеют значительную последовательную компоненту, например в OLTP последовательно пишутся логи.&#8221;</p>
<p>&#8220;NetApp - первопроходец технологии PCIe Gen3, на протяжении двух лет мы вылавливали баги и нестабильности, чтобы обеспечить стабильную работу новой платформы. Все FAS8000 построены с использованием PCIe Gen3. В FAS8060 используется 80 каналов Gen3 (вместо 72 Gen2 каналов в 6220), что удвоило полосу пропускания ввода-вывода. В FAS8040 и FAS8020 используется по 40 каналов Gen3, что в 10 раз расширяет их внутреннюю полосу пропускания, в сравнении с предшественниками.&#8221;</p>
<p>&#8220;Каждый контроллер FAS8000 оснащен четырьмя основными типами &#8220;набортных&#8221; портов: GbE, SAS, 10GbE, и Unified Target Adapter 2 (UTA2). В FAS8020 по два порта каждого типа (четыре на HA-пару), а в FAS8040 и FAS8060 по четыре порта каждого типа (восемь на HA-пару).&#8221;</p>
<p>&#8220;Порты UTA2 применены впервые в индустрии. Порты, сконфигурированные как FC 16G оптимальны для подключения внешних, виртуализуемых систем хранения, через FlexArray. Если у вас нет FC, то вы можете сконфигурировать эти порты как 10Ge, для FCoE, iSCSI, NFS или SMB, так что ничего не пропадет.&#8221;</p>
<p>&#8220;Порты UTA2 также доступны в виде карт расширения PCIe Gen3, они также могут быть установлены в FAS3220, 3250 и во все модели 6200&#8243;</p>
<p>&#8220;Порты onboard 10Ge используются для cluster interconnect в Clustered ONTAP, а также для подключения клиентов. Могут быть использованы вместе с портами UTA2.&#8221;</p>
<p>&#8220;Появились карты расширения 10Gbase-T, работающие по Cat6А и выше. Порты поддерживают 10G и Gigabit Ethernet&#8221;</p>
<p>&#8220;Контроллеры FAS8000 поддерживают all-flash конфигурацию. Поставляются SSD емкостью 200GB, 400GB, 800GB, и 1.6TB.&#8221;</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/fas8000.html" rel="tag">fas8000</a>, <a href="../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../tag/techontap.html" rel="tag">techontap</a><br />					Раздел: <a href="review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>,  <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1329/trackback.html#comments" title="Комментарий к записи FAS8000 - новая платформа масштабируемого хранилища">Комментарии (7)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1310">
				<h2 class="posttitle"><a href="../1310/trackback.html" rel="bookmark" title="Permanent Link to Аггрегация и балансировка на нескольких eth">Аггрегация и балансировка на нескольких eth</a></h2>
				<div class="postmetadata">25 Ноябрь 2013, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>А вот вы знаете, что у нас тут есть <a href="https://communities.netapp.com/groups/netapp-ru">русскоязычный форум</a>, с участием же русскоязычных специалистов, работающих в NetApp? Не знали? А он - есть :)<br />
Это я к чему, к тому, что недавно там был обнаружен интересный топик, который будет полезен тем, кто пытается разобраться с непростой темой аггрегации etherchannel и балансировки по нескольким линкам.<br />
<a href="https://communities.netapp.com/thread/32967">https://communities.netapp.com/thread/32967</a></p>
<p>Если вы занимаетесь NetApp, и при этом еще не там - рекомендую зарегистрироваться (читать можно и так), и подписаться на rss. ??ногда там бывают полезные для жизни темы. Да и возможность спросить на русском тоже бывает порой неоценима.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/aggregation.html" rel="tag">aggregation</a>, <a href="../tag/eth.html" rel="tag">eth</a>, <a href="../tag/forum.html" rel="tag">forum</a>, <a href="../tag/multipath.html" rel="tag">multipath</a>, <a href="../tag/netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;" rel="category tag">howto</a>,  <a href="review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>,  <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1310/trackback.html#respond" title="Комментарий к записи Аггрегация и балансировка на нескольких eth">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1300">
				<h2 class="posttitle"><a href="../1300/trackback.html" rel="bookmark" title="Permanent Link to Storage QoS в Clustered Data ONTAP 8.2">Storage QoS в Clustered Data ONTAP 8.2</a></h2>
				<div class="postmetadata">28 Октябрь 2013, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Как вы уже заметили, в NetApp вот уже пару лет как перевели “семерку”, Data ONTAP 7-mode, куда входят как “классическая” линейка 7.х.х, так и Data ONTAP 8.x 7-mode, в состояние stable, и новые фичи в них практически не появляются, а все усилия разработчиков направлены на развитие и разработку Cluster mode, или как она сейчас стала часто называться в документации Clustered Data ONTAP. Уже само появление “личного имени” свидетельствует о том, что это – окончательный продукт, в представлении NetApp (затянувшийся) переходный период подошел к концу. Это, безусловно, очень рискованный период в жизни компании (любой компании), так как Clustered Data ONTAP пока еще не стал массовым и все еще не “мэйнстрим” в представлениях клиентов. Однако, NetApp не теряет терпения, и новыми фичами, такими как SMB 3.0, NFS 4.1 и pNFS, и прочими полезными штуками, старается перетянуть пользователей на новую, прогрессивную платформу с большим будущим.</p>
<p>Одной из новинок Clustered ONTAP стал полноценный Storage QoS. В принципе, <em>псевдо-QoS</em> в нетапповских стораджах был и раньше, он назывался <a href="../602/trackback.html">FlexShare</a>, но говоря о нем NetApp всегда старался уточнить, что это, ну, “не совсем настоящий QoS”, как, допустим, кооперативная многозадачность ранних Windows и MacOS Classic была лишь “псевдо”-многозадачностью. Конечно, это лучше чем ничего, многие стораджи, других вендоров, и такой-то не имеют. Но все же не следует забывать, что FlexShare это просто способ отдать побольше приоритета в тиках системы тому, данные с которого мы считаем важными, за счет того, что мы заберем их у того тома, данные с которого мы считаем не такими важными.</p>
<p>Однако подлинный QoS это не просто перераспределение приоритетов системы, это возможность задать некоторую гарантированную “полосу” в ресурсах. В особенности это стало важно после того, как появилась Clustered Data ONTAP, в которой multi-tenancy, то есть “сожительство” нескольких разнородных задач в рамках одной системы и одного контроллера такой системы стала не экзотикой, а нормальной повседневной работой. Для такой работы несомненно нужен полноценный QoS в рамках системы в целом, гибко назначаемый по потребителям, которые могут мигрировать по контроллерам кластерной системы, а не просто смещенные приоритеты обслуживания для какого-то тома, привязанные к данному контроллеру.</p>
<p>?? вот, в 8.2 появился полноценный планировщик ввода-вывода, который позволяет назначать политики с лимитами на отдельный SVM, <a href="../1258/trackback.html">Storage Virtual Machine</a>, как теперь, если вы помните, решено, для упрощения понимания, называть Vserver в Clustered ONTAP.</p>
<p>Вы можете задать на отдельный “виртуальный нетапп”, живущий в кластерной системе, и ресурсов в нем, его лимиты по IOPS или же по MB/s ввода-вывода (но не одновременно, отметьте это ограничение). Следуя модели “политик” (policy), ограничение задается для такой созданной политики, которая затем назначается для SVM (Vserver) в целом, или же на его отдельный том, LUN, или файлы в нем. На кластер контроллеров вы можете задать до 3500 политик, то есть решение подойдет даже для довольно больших по масштабам систем.</p>
<p>“Внутри” назначенных политик действует правило равных долей для всех объектов, которым назначена эта политика, например томов или LUN-ов. Таким образом, задача с более активной рабочей нагрузкой не “съест” все ресурсы ввода-вывода у задач с меньшим траффиком, они в равной мере получат заданный в политике лимит ресурса.</p>
<p>QoS не разделяет операции чтения или записи, соответственно нельзя отдельно ограничить поток ввода-вывода только на чтение или только на запись.</p>
<p>??спользовать QoS можно, например, для ограничения производительности ввода-вывода определенных приложений, к примеру сервер резервного копирования может, при начавшемся процессе резервного копирования, очень быстро “съесть” всю доступную полосу ввода-вывода контроллера, “задавив” трафиком при этом всех своих соседей по кластеру. Можно ограничить ресурсы SVM ряда подразделений, живущих в том же кластере, например задачи R&amp;D, чтобы случайный эксперимент на их SVM не смог повлиять на доступность продакшн-систем в том же кластере. Наконец, можно обеспечивать гарантированную полосу или величину IOPS (SLA) для особо критичных задач в облачной структуре, либо наоборот, максимально доступные им ресурсы.</p>
<p>Storage QoS включена в Clustered Data ONTAP 8.2, и не требует лицензии, и работает на любой системе, поддерживающей cDOT 8.2.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/cdot.html" rel="tag">cDOT</a>, <a href="../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../tag/qos.html" rel="tag">qos</a><br />					Раздел: <a href="review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>,  <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1300/trackback.html#comments" title="Комментарий к записи Storage QoS в Clustered Data ONTAP 8.2">Комментарии (11)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1296">
				<h2 class="posttitle"><a href="../1296/trackback.html" rel="bookmark" title="Permanent Link to Reallocation в Data ONTAP. Часть 3.">Reallocation в Data ONTAP. Часть 3.</a></h2>
				<div class="postmetadata">14 Октябрь 2013, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>??так, в прошлом посте я мельком упомянул, что кроме <em>volume reallocation</em> у NetApp есть еще <em>aggregate reallocation</em> (ключ команды запуска reallocate –A). ?? вот с ним начинается некоторое непонимание. Дело в том, что, как я показывал на примере в постах ранее, одной из необходимых операций при расширении aggregate является проведение reallocation блоков тома, для более равномерного распределения их по дискам aggregate. При этом, хотя операция проводится над <em>aggregate</em>, но используется НЕ aggregate reallocate, а совсем вовсе даже <em>volume reallocation</em>! </p>
<p>?? вот это принципиальный момент, вызывающий путаницу. Почему оптимизируя <strong>aggregate</strong>, мы делаем это через<em> <strong>volume</strong></em> reallocate, почему не <em>aggregate</em> reallocate, и что же тогда делает этот <em>aggregate reallocation</em>?</p>
<p>Data ONTAP выражается тут однозначно:</p>
<p><code>NOTE: -A is for aggregate (freespace) reallocation. <strong>Do NOT use -A after growing an aggregate if you wish to optimize the layout of existing data</strong>; instead use reallocate start -f /vol/ for each volume in the aggregate.</code></p>
<p>Для начала давайте посмотрим чуть более сложную структуру aggregate, которую я рисовал в прошлый раз.</p>
<p>На aggregate у нас расположены, как правило, не один, а множество <em>volume</em>.</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/0b25e8774da2_FE34/image.png" width="605" height="476" /></p>
<p>Volume reallocate выполняется для отдельного тома, НО НЕ для всех томов aggregate разом. Вы, в случае рассматриваемой процедуры изменения размеров aggregate и увеличения нижележащих в нем дисков, должны последовательно провести reallocation для всех томов на aggregate.</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/0b25e8774da2_FE34/image_3.png" width="601" height="182" /></p>
<p>Как вы видите на рисунке выше, если мы сделали reallocate для тома А, и не делали для тома В, то мы получим что-то, похожее на рисунок выше. Один том – перераспределился на добавленные диски, а второй – нет. К тому же у нас неравномерно распределилость оставшееся свободное место, как вы помните, непрерывность кусков свободного пространства для хорошей работы механизма выделения экстентов очень важно. а представьте теперь, что на aggregate не два тома, а несколько десятков или даже сотен, как это бывает? ?? при этом reallocate кому-то сделали, а кому-то – нет?</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/0b25e8774da2_FE34/image_4.png" width="601" height="166" /></p>
<p>Дальше, как вы видите, том В начал заплняться неравномерно по дискам, как мы уже рассмотрели выше в предыдущем посте, с потенциальным образованием “дисковых хотспотов”</p>
<p>Что же сделает <em>aggregate reallocation</em> (<code>reallocate –A</code>), если, к примеру, на части его томов будет проведен volume reallocation, а на части нет? Он, как и написано выше, оптимизирует свободное пространство на aggregate, при этом оставив часть томов в неоптимизированном состоянии.</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/0b25e8774da2_FE34/image_5.png" width="601" height="166" /></p>
<p>Как вы видите на рисунке выше, свободное место на aggregate действительно “оптимизировалось”, с точки зрения aggregate, да. Поэтому в случае использования reallocate после расширения aggregate новыми томами, и более равномерного “растасовывания” блоков томов по новому пространству aggregate, сперва выполните volume reallocate для КАЖДОГО тома на aggregate, а вот потом уже начинайте, если это необходимо, использовать aggregate reallocate.</p>
<p>Таким образом, вы видите, что <em>volume reallocate</em> и <em>aggregate reallocate</em> это ДВА РАЗНЫХ вида реаллокации блоков. В первом случае реаллоцируются блоки, принадлежащие тому, указанному в качестве аргумента команды, а во втором, при запуске ее с ключом –А, реаллоцируется своеобразный “том, состоящий из свободных блоков” на aggregate, и упорядочивается свободное пространство, сжимаются “дыры” в нем, и пространство, незанятое данными, становится “более непрерывным”, но при этом сами тома, с блоками данных, в ходе этой операции не оптимизируются, и если они были неоптимально размещены по дискам, то так неоптимальными и останутся, несмотря на завершившийся процесс<em> aggregate reallocation</em>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/aggregate.html" rel="tag">aggregate</a>, <a href="../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../tag/reallocate.html" rel="tag">reallocate</a>, <a href="../tag/reallocation.html" rel="tag">reallocation</a>, <a href="../tag/volume.html" rel="tag">volume</a><br />					Раздел: <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1296/trackback.html#comments" title="Комментарий к записи Reallocation в Data ONTAP. Часть 3.">1 комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1294">
				<h2 class="posttitle"><a href="../1294/trackback.html" rel="bookmark" title="Permanent Link to Reallocation в Data ONTAP. Часть 2.">Reallocation в Data ONTAP. Часть 2.</a></h2>
				<div class="postmetadata">30 Сентябрь 2013, 12:11 <!-- от  --></div>
				<div class="postentry">
					<p>На прошлой неделе мы начали собирать в кучку все то, что мы знаем о процессе reallocate в Data ONTAP. В части первой я особо остановился на том, чем отличается знакомая вам всем “фрагментация” на файловых системах типа FAT, и чем она отличается от inode-овых экстентных FS, ведущих свое происхождение от BSD, и почему нельзя напрямую называть <em>non-contiguous block allocation</em> – “фрагментацией”, как это часто делается в <em>говнилках</em>. Равно как и называть процесс reallocate – “дефрагментацией”, хотя отчасти в его задачу действительно входит процедура оптимизации размещения блоков WAFL. Сегодня сосредоточимся именно на reallocate и его работе.</p>
<p>Одна из ключевых проблем WAFL, требующих использования reallocate, это так называемые “дисковые hot spots” аномально загруженные физические диски в нем, если брать их в сравнении с остальными дисками на aggregate. Происходит это вот от чего обычно.</p>
<p>Представим себе, что у нас есть aggregate из нескольких дисков. Диски постепенно заполняются данными.</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/cbaf94be46c1_DF2A/image.png" width="507" height="321" /></p>
<p>В какой-то момент мы решаем, что aggregate нужно расширить, и добавляем в него несколько физических дисков. Это возможно, и довольно часто используется.</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/cbaf94be46c1_DF2A/image_3.png" width="689" height="156" /></p>
<p>Но как вы, должно быть помните, принципы работы WAFL таковы, что записываемые, и даже изменяемые в уже записанных блоках данные, не записываются в “старые места”, а пишутся на пространство в пуле свободных блоков. В ситуации же, когда основные диски уже были почти полны (как это и бывает обычно перед расширением), а новых добавлено немного, у нас получается картина, когда пространство пула свободных блоков почти все сосредоточено на этих нескольких добавленных (и поэтому, естественно, пока пустых) дисках. А так как изменяемые и записываемые данные обычно автоматически являются и самыми “горячими”, ведь скорее всего вы и прочитаете те данные, которые только что записали, они свежие и активные, куда активнее чем то, что там где-то в глубинах терабайтов лежит, то возникает ситуация, когда на добавленные в aggregate новые диски постепенно перенесутся все, или большая часть новых, оперативных данных, и, следовательно, существенная часть дисковой нагрузки всего aggregate как на запись, так и на чтение.</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/cbaf94be46c1_DF2A/image_4.png" width="672" height="238" /></p>
<p>Возникает так называемый <font color="#ff0000">disk hot spot</font>.</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/cbaf94be46c1_DF2A/image_5.png" width="672" height="269" /></p>
<p><em>(“свежие”, а потому активные данные, скопились на нескольких добавленных дисках)</em></p>
<p>Оценить сравнительную загрузку физических дисков в aggregate можно с помощью <a href="../1116/trackback.html">вывода команды stats</a>, или искользуя скрипты, их использующие, о некоторых я <a href="../725/trackback.html">уже писал</a>. Если вы уже побежали мерять свою систему, замечание вдогонку: вы, возможно, заметите на ней два сильно недозагруженных, по сравнению с прочими, диска в каждой RAID-группе (это видно и на скриншоте в посте выше). Да, это Parity и Double Parity диски RAID-группы, при штатной работе системы это нормально, не обращайте на это внимания, смотрите на те, которые выше и постоянно выше среднего по группе загружены.</p>
<p><img title="netapp-disk-hotspot" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="netapp-disk-hotspot" src="/pics/cbaf94be46c1_DF2A/netapp-disk-hotspot.jpg" width="642" height="184" /></p>
<p><em>(обратите внимание на параметр ut% (utilization) для диска 0d.26 на скриншоте выше)</em></p>
<p>Кстати сказать, описанная выше ситуация не является эксклюзивной для NetApp, например та же проблема встречается в <a href="../969/trackback.html">disk pools на EMC VNX</a>, и это именно та причина, по которой EMC не рекомендует добавлять в пул лишь по нескольку отдельных дисков, а только в количестве, кратном уже имеющейся емости RAID-групп пула, что очевидно, довольно жестокая негибкость для кастомера. У VNX ситуация усложняется еще и тем, что довольно долго после релиза системы у них не было вообще никаких средств реаллокации блоков и способов развномерно “растасовать” блоки при расширении пула.</p>
<p>Вот как раз в такой ситации нам на помошь придеть reallocation. С его помощью вы сможете равномерно перераспределить блоки с имеющихся дисков, на все, включая новые добавленые. Одна из причин возникновения “хотспотов” таким образом будет устранена. Помните, однако, что вам необходимо проделать это со <strong>всеми</strong> томами данного aggregate, о этом аспекте мы поговорим подробнее в части третьей. На приведенном рисунке я нарисовал простейшую схему с одним томом на aggregate, обычно же у вас несколько томов, а операция <em>volume reallocate</em> работает с отдельным томом, а не с aggregate в целом. Существует, однако, опция <em>aggregate reallocation</em>, но она предназначена для другого, об этом также отдельно.</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/cbaf94be46c1_DF2A/image_6.png" width="672" height="269" /></p>
<p>Вот в чем причина, почему в случае расширения aggregate вам скорее всего будет крайне полезно сделать <em>reallocate</em>. Польза от его использования зависит, как вы видите из изложенного выше, от многих факторов. Когда-то она может и вовсе не проявиться, когда-то быть довольно существенной.</p>
<p>Например в communities.netapp я однажды нашел такое мини-исследование по результатам добавления дисковой полки к системе FAS2020 (aggr0 – 10 дисков, default RAID group size (16)). Дискова полка на 14 дисков к уже имеющимся 12 дискам&#160; – это не тот случай, который вызовет явно наблюдаемые хотспоты дисков, но все же результаты интересные:</p>
<p>&#160;</p>
<p><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics/cbaf94be46c1_DF2A/image_7.png" width="929" height="344" /></p>
<p>Крайние правые столбцы – система на нагрузке под SQL Server до добавления дисков (64K blocks, 100% random, 65% read/35% write). Средняя группа столбцов – сразу после добавления и без reallocate. Как вы видите, предсказуемо выросли IOPS, уменьшился responce time. Однако после добавления полки и измерения была проведена <em>volume reallocation</em> (в процессе ее CPU util - ~70-75%, disk util ~65%) с параметрами: </p>
<p><code>reallocate –f –p /vol/volX</code></p>
<p>Вы видите, что в результате несколько выросли показатели по IOPS, и несколько снизились показатели response time. Непринципиально, но процентов 15 таким образом удалось на системе наковырять. По моим оценкам польза от reallocation (и, кстати, соответственно, “вред” от пресловутой “фрагментации на NetApp”, вниманию любителей верить говнилкам) примерно в 10-15% и укладывается, в самых синтетически ужасных случаях на моих тестах – 20-25%.</p>
<p>Продлолжение следует.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/fragmentation.html" rel="tag">fragmentation</a>, <a href="../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../tag/reallocate.html" rel="tag">reallocate</a>, <a href="../tag/reallocation.html" rel="tag">reallocation</a><br />					Раздел: <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1294/trackback.html#comments" title="Комментарий к записи Reallocation в Data ONTAP. Часть 2.">1 комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1293">
				<h2 class="posttitle"><a href="../1293/trackback.html" rel="bookmark" title="Permanent Link to Переписка с читателями :)">Переписка с читателями :)</a></h2>
				<div class="postmetadata">26 Сентябрь 2013, 22:04 <!-- от  --></div>
				<div class="postentry">
					<p>Человеку, который вот уже вторую неделю ходит в блог по поисковой фразе <em>“дефолтный пароль netapp в консоли”</em> (и, разумеется, ничего не находит, но почему-то продолжает ходить): да нету у него никакого “дефолтного пароля”, это же не D-Link какой-нибудь. :)</p>
<p>Когда система включается в первый раз, с проводящего это включение в принудительном порядке спрашивается пароль суперпользователя, и пока он его не введет, процесс установки невозможно продолжить. Таким образом, никакого “дефолтного пароля” у NetApp в консоли – НЕТ. Есть пароль, в явном виде установленный самостоятельно его владельцем.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../tag/console/index.html" rel="tag">console</a>, <a href="../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../tag/password.html" rel="tag">password</a>, <a href="../tag/root.html" rel="tag">root</a><br />					Раздел: <a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1293/trackback.html#comments" title="Комментарий к записи Переписка с читателями :)">Комментарии (7)</a>									 </div>
			</div>
	
		
		<div class="navigation">
			<div class="alignleft"><a href="techtalk/page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>
		
	
	</div>
	<div id="sidebar">
		<ul>
			
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Автор</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li class="pagenav"><h2>Страницы</h2><ul><li class="page_item page-item-153"><a href="../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul></li>
			<li><h2>Рубрики</h2>
				<ul>
					<li class="cat-item cat-item-89"><a href="commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;">commands</a>
</li>
	<li class="cat-item cat-item-37"><a href="howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;">howto</a>
</li>
	<li class="cat-item cat-item-52"><a href="justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;">justread</a>
</li>
	<li class="cat-item cat-item-51"><a href="review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;">review</a>
</li>
	<li class="cat-item cat-item-3 current-cat"><a href="techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;">techtalk</a>
</li>
	<li class="cat-item cat-item-71"><a href="tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;">tricks</a>
</li>
	<li class="cat-item cat-item-95"><a href="utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;">utilities</a>
</li>
	<li class="cat-item cat-item-44"><a href="whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;">whoisho</a>
</li>
	<li class="cat-item cat-item-1"><a href="news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;">новости</a>
</li>
	<li class="cat-item cat-item-387"><a href="opros.html" title="Просмотреть все записи в рубрике &laquo;опрос&raquo;">опрос</a>
</li>
	<li class="cat-item cat-item-8"><a href="translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;">переводы</a>
</li>
	<li class="cat-item cat-item-40"><a href="citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;">цитаты</a>
</li>
				</ul>
			</li>

			<li><h2>Архивы</h2>
				<ul>
					<li><a href='../date/2018/01.html' title='Январь 2018'>Январь 2018</a></li>
	<li><a href='../date/2015/10.html' title='Октябрь 2015'>Октябрь 2015</a></li>
	<li><a href='../date/2015/04.html' title='Апрель 2015'>Апрель 2015</a></li>
	<li><a href='../date/2015/03.html' title='Март 2015'>Март 2015</a></li>
	<li><a href='../date/2015/01.html' title='Январь 2015'>Январь 2015</a></li>
	<li><a href='../date/2014/12.html' title='Декабрь 2014'>Декабрь 2014</a></li>
	<li><a href='../date/2014/11.html' title='Ноябрь 2014'>Ноябрь 2014</a></li>
	<li><a href='../date/2014/10.html' title='Октябрь 2014'>Октябрь 2014</a></li>
	<li><a href='../date/2014/09.html' title='Сентябрь 2014'>Сентябрь 2014</a></li>
	<li><a href='../date/2014/08.html' title='Август 2014'>Август 2014</a></li>
	<li><a href='../date/2014/07.html' title='Июль 2014'>Июль 2014</a></li>
	<li><a href='../date/2014/06.html' title='Июнь 2014'>Июнь 2014</a></li>
	<li><a href='../date/2014/05.html' title='Май 2014'>Май 2014</a></li>
	<li><a href='../date/2014/04.html' title='Апрель 2014'>Апрель 2014</a></li>
	<li><a href='../date/2014/03.html' title='Март 2014'>Март 2014</a></li>
	<li><a href='../date/2014/02.html' title='Февраль 2014'>Февраль 2014</a></li>
	<li><a href='../date/2014/01.html' title='Январь 2014'>Январь 2014</a></li>
	<li><a href='../date/2013/12.html' title='Декабрь 2013'>Декабрь 2013</a></li>
	<li><a href='../date/2013/11.html' title='Ноябрь 2013'>Ноябрь 2013</a></li>
	<li><a href='../date/2013/10.html' title='Октябрь 2013'>Октябрь 2013</a></li>
	<li><a href='../date/2013/09.html' title='Сентябрь 2013'>Сентябрь 2013</a></li>
	<li><a href='../date/2013/08.html' title='Август 2013'>Август 2013</a></li>
	<li><a href='../date/2013/07.html' title='Июль 2013'>Июль 2013</a></li>
	<li><a href='../date/2013/06.html' title='Июнь 2013'>Июнь 2013</a></li>
	<li><a href='../date/2013/05.html' title='Май 2013'>Май 2013</a></li>
	<li><a href='../date/2013/04.html' title='Апрель 2013'>Апрель 2013</a></li>
	<li><a href='../date/2013/03.html' title='Март 2013'>Март 2013</a></li>
	<li><a href='../date/2013/02.html' title='Февраль 2013'>Февраль 2013</a></li>
	<li><a href='../date/2013/01.html' title='Январь 2013'>Январь 2013</a></li>
	<li><a href='../date/2012/12.html' title='Декабрь 2012'>Декабрь 2012</a></li>
	<li><a href='../date/2012/11.html' title='Ноябрь 2012'>Ноябрь 2012</a></li>
	<li><a href='../date/2012/10.html' title='Октябрь 2012'>Октябрь 2012</a></li>
	<li><a href='../date/2012/09.html' title='Сентябрь 2012'>Сентябрь 2012</a></li>
	<li><a href='../date/2012/08.html' title='Август 2012'>Август 2012</a></li>
	<li><a href='../date/2012/07.html' title='Июль 2012'>Июль 2012</a></li>
	<li><a href='../date/2012/06.html' title='Июнь 2012'>Июнь 2012</a></li>
	<li><a href='../date/2012/05.html' title='Май 2012'>Май 2012</a></li>
	<li><a href='../date/2012/04.html' title='Апрель 2012'>Апрель 2012</a></li>
	<li><a href='../date/2012/03.html' title='Март 2012'>Март 2012</a></li>
	<li><a href='../date/2012/02.html' title='Февраль 2012'>Февраль 2012</a></li>
	<li><a href='../date/2012/01.html' title='Январь 2012'>Январь 2012</a></li>
	<li><a href='../date/2011/12.html' title='Декабрь 2011'>Декабрь 2011</a></li>
	<li><a href='../date/2011/11.html' title='Ноябрь 2011'>Ноябрь 2011</a></li>
	<li><a href='../date/2011/10/index.html' title='Октябрь 2011'>Октябрь 2011</a></li>
	<li><a href='../date/2011/09/index.html' title='Сентябрь 2011'>Сентябрь 2011</a></li>
	<li><a href='../date/2011/08.html' title='Август 2011'>Август 2011</a></li>
	<li><a href='../date/2011/07/index.html' title='Июль 2011'>Июль 2011</a></li>
	<li><a href='../date/2011/06/index.html' title='Июнь 2011'>Июнь 2011</a></li>
	<li><a href='../date/2011/05/index.html' title='Май 2011'>Май 2011</a></li>
	<li><a href='../date/2011/04/index.html' title='Апрель 2011'>Апрель 2011</a></li>
	<li><a href='../date/2011/03/index.html' title='Март 2011'>Март 2011</a></li>
	<li><a href='../date/2011/02.html' title='Февраль 2011'>Февраль 2011</a></li>
	<li><a href='../date/2011/01.html' title='Январь 2011'>Январь 2011</a></li>
	<li><a href='../date/2010/12.html' title='Декабрь 2010'>Декабрь 2010</a></li>
	<li><a href='../date/2010/11/index.html' title='Ноябрь 2010'>Ноябрь 2010</a></li>
	<li><a href='../date/2010/10/index.html' title='Октябрь 2010'>Октябрь 2010</a></li>
	<li><a href='../date/2010/09/index.html' title='Сентябрь 2010'>Сентябрь 2010</a></li>
	<li><a href='../date/2010/08.html' title='Август 2010'>Август 2010</a></li>
	<li><a href='../date/2010/07/index.html' title='Июль 2010'>Июль 2010</a></li>
	<li><a href='../date/2010/06.html' title='Июнь 2010'>Июнь 2010</a></li>
	<li><a href='../date/2010/05.html' title='Май 2010'>Май 2010</a></li>
	<li><a href='../date/2010/04/index.html' title='Апрель 2010'>Апрель 2010</a></li>
	<li><a href='../date/2010/03/index.html' title='Март 2010'>Март 2010</a></li>
	<li><a href='../date/2010/02.html' title='Февраль 2010'>Февраль 2010</a></li>
	<li><a href='../date/2010/01.html' title='Январь 2010'>Январь 2010</a></li>
	<li><a href='../date/2009/12/index.html' title='Декабрь 2009'>Декабрь 2009</a></li>
	<li><a href='../date/2009/11/index.html' title='Ноябрь 2009'>Ноябрь 2009</a></li>
	<li><a href='../date/2009/10.html' title='Октябрь 2009'>Октябрь 2009</a></li>
	<li><a href='../date/2009/09.html' title='Сентябрь 2009'>Сентябрь 2009</a></li>
	<li><a href='../date/2009/08/index.html' title='Август 2009'>Август 2009</a></li>
	<li><a href='../date/2009/07/index.html' title='Июль 2009'>Июль 2009</a></li>
	<li><a href='../date/2009/06.html' title='Июнь 2009'>Июнь 2009</a></li>
	<li><a href='../date/2009/05.html' title='Май 2009'>Май 2009</a></li>
	<li><a href='../date/2009/04.html' title='Апрель 2009'>Апрель 2009</a></li>
	<li><a href='../date/2009/03.html' title='Март 2009'>Март 2009</a></li>
	<li><a href='../date/2009/02.html' title='Февраль 2009'>Февраль 2009</a></li>
	<li><a href='../date/2009/01.html' title='Январь 2009'>Январь 2009</a></li>
	<li><a href='../date/2008/12.html' title='Декабрь 2008'>Декабрь 2008</a></li>
	<li><a href='../date/2008/11.html' title='Ноябрь 2008'>Ноябрь 2008</a></li>
	<li><a href='../date/2008/10.html' title='Октябрь 2008'>Октябрь 2008</a></li>
	<li><a href='../date/2008/09.html' title='Сентябрь 2008'>Сентябрь 2008</a></li>
	<li><a href='../date/2008/08.html' title='Август 2008'>Август 2008</a></li>
	<li><a href='../date/2008/03.html' title='Март 2008'>Март 2008</a></li>
	<li><a href='../date/2008/02.html' title='Февраль 2008'>Февраль 2008</a></li>
	<li><a href='../date/2007/12.html' title='Декабрь 2007'>Декабрь 2007</a></li>
	<li><a href='../date/2007/11.html' title='Ноябрь 2007'>Ноябрь 2007</a></li>
	<li><a href='../date/2007/10.html' title='Октябрь 2007'>Октябрь 2007</a></li>
	<li><a href='../date/2007/09.html' title='Сентябрь 2007'>Сентябрь 2007</a></li>
	<li><a href='../date/2007/08.html' title='Август 2007'>Август 2007</a></li>
	<li><a href='../date/2007/07/index.html' title='Июль 2007'>Июль 2007</a></li>
	<li><a href='../date/2007/06.html' title='Июнь 2007'>Июнь 2007</a></li>
	<li><a href='../date/2007/05.html' title='Май 2007'>Май 2007</a></li>
				</ul>
			</li>

			
					</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a href="../../feed">Entries (RSS)</a> and <a href="../../comments/feed">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br />
	Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a> and <a href="http://srinig.com/wordpress/themes/fluid-blue/">Fluid Blue theme</a>.<br />
	<!-- 15 queries. 0.100 seconds. -->
	</div>
</div> <!-- page -->
</body>
</html>
