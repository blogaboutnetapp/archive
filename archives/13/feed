<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	>
<channel>
	<title>Комментарии к записи: ??ОПСы и как их измерить.</title>
	<atom:link href="http://blog.aboutnetapp.ru/archives/13/feed" rel="self" type="application/rss+xml" />
	<link>http://blog.aboutnetapp.ru/archives/13</link>
	<description>Системы хранения данных как предмет разговора</description>
	<pubDate>Wed, 07 Apr 2021 12:07:46 +0000</pubDate>
	<generator>http://wordpress.org/?v=2.6</generator>
		<item>
		<title>Автор: Кривцов М.С</title>
		<link>http://blog.aboutnetapp.ru/archives/13#comment-1998</link>
		<dc:creator>Кривцов М.С</dc:creator>
		<pubDate>Mon, 05 Dec 2011 11:35:28 +0000</pubDate>
		<guid isPermaLink="false">http://blog.aboutnetapp.ru/archives/13#comment-1998</guid>
		<description>Правильно ли я понял, в случае, когда приложение на запись генерирует блок 1.5Mbyte, если том отформатирован с размером кластера 8Kbyte, то это приложение должно потреблять 1.5*1024/6 = 192 IOPS?</description>
		<content:encoded><![CDATA[<p>Правильно ли я понял, в случае, когда приложение на запись генерирует блок 1.5Mbyte, если том отформатирован с размером кластера 8Kbyte, то это приложение должно потреблять 1.5*1024/6 = 192 IOPS?</p>
]]></content:encoded>
	</item>
	<item>
		<title>Автор: romx</title>
		<link>http://blog.aboutnetapp.ru/archives/13#comment-1997</link>
		<dc:creator>romx</dc:creator>
		<pubDate>Mon, 05 Dec 2011 11:00:20 +0000</pubDate>
		<guid isPermaLink="false">http://blog.aboutnetapp.ru/archives/13#comment-1997</guid>
		<description>Stripe Size это размер блока чередования в RAID. Он задается при создании RAID. Для оптимизации работы массива данные в RAID4-5-6 чередуются не посекторно, а более протяженными блоками - "страйпами" (в RAID-3 как раз секторами, и это очень сильно сказывается на быстродействии).

Allocation Unit Size это адресуемый блок в понятиях файловой системы. Это участок данных, к которому можно обратиться, извлечь его или записать, методами работы OS с файловой системой.

Block Size это размер блока, которым оперирует приложение.

Общий принцип выбора таков: чем больше последовательных обращений, тем выгоднее использование больших блоков, так как на чтение или запись одного блока (allocation unit size, etc) расходуется одна "операция". Однако при росте random-ных операций, эффективность сильно падает, так как если приложению нужен один байт из кластера секторов размером 4...64 килобайта, то 4...64 килобайта - 1 байт будут считаны напрасно, и лишь зря займут bandwith канала при чтении-записи и место в кэше. Чем больше random-операций - тем менее выгодно увеличение размера "блока операций".
В деталях, к сожалению, многое зависит от конкретной реализации.</description>
		<content:encoded><![CDATA[<p>Stripe Size это размер блока чередования в RAID. Он задается при создании RAID. Для оптимизации работы массива данные в RAID4-5-6 чередуются не посекторно, а более протяженными блоками - &#8220;страйпами&#8221; (в RAID-3 как раз секторами, и это очень сильно сказывается на быстродействии).</p>
<p>Allocation Unit Size это адресуемый блок в понятиях файловой системы. Это участок данных, к которому можно обратиться, извлечь его или записать, методами работы OS с файловой системой.</p>
<p>Block Size это размер блока, которым оперирует приложение.</p>
<p>Общий принцип выбора таков: чем больше последовательных обращений, тем выгоднее использование больших блоков, так как на чтение или запись одного блока (allocation unit size, etc) расходуется одна &#8220;операция&#8221;. Однако при росте random-ных операций, эффективность сильно падает, так как если приложению нужен один байт из кластера секторов размером 4&#8230;64 килобайта, то 4&#8230;64 килобайта - 1 байт будут считаны напрасно, и лишь зря займут bandwith канала при чтении-записи и место в кэше. Чем больше random-операций - тем менее выгодно увеличение размера &#8220;блока операций&#8221;.<br />
В деталях, к сожалению, многое зависит от конкретной реализации.</p>
]]></content:encoded>
	</item>
	<item>
		<title>Автор: Кривцов М.С</title>
		<link>http://blog.aboutnetapp.ru/archives/13#comment-1996</link>
		<dc:creator>Кривцов М.С</dc:creator>
		<pubDate>Mon, 05 Dec 2011 10:36:13 +0000</pubDate>
		<guid isPermaLink="false">http://blog.aboutnetapp.ru/archives/13#comment-1996</guid>
		<description>Помогите разобраться в следующих вопросах, или посоветуйте литературу(статьи).
1) Как между собой связаны Stipped Size при создании тома, Allocation Unit Size при форматировании диска, и Block Size которое генерирует приложение.
2) Есть массив, хранящий видео файлы. Одно приложение, работающее с видео (100% чтения) по данным PerfMon генерирует нагрузку Block Size - 40Kbyte, Read Operation/s - 100, Read MBytes/s ~ 4, Queue Average Lenght/Read - 0.22. При создании на дисковом массиве (12 Дисков Raid 5) размер Stipe size указывался 128kByte, при форматировании тома Allocation Unit Size - 8Kbyte. 
Если IOMeter c паттерном: размер блока 40Kbyte 100% Read 0% Random выдаст результат 4000IOPS при глубине очереди (32 64 128, приблизительно одинаково), могу ли утверждать, что этот дисковый массив выдержит нагрузку от 40 пользователей?(Возможно степень рэндома здесь помешает, если это так - подскажите как ее померить)</description>
		<content:encoded><![CDATA[<p>Помогите разобраться в следующих вопросах, или посоветуйте литературу(статьи).<br />
1) Как между собой связаны Stipped Size при создании тома, Allocation Unit Size при форматировании диска, и Block Size которое генерирует приложение.<br />
2) Есть массив, хранящий видео файлы. Одно приложение, работающее с видео (100% чтения) по данным PerfMon генерирует нагрузку Block Size - 40Kbyte, Read Operation/s - 100, Read MBytes/s ~ 4, Queue Average Lenght/Read - 0.22. При создании на дисковом массиве (12 Дисков Raid 5) размер Stipe size указывался 128kByte, при форматировании тома Allocation Unit Size - 8Kbyte.<br />
Если IOMeter c паттерном: размер блока 40Kbyte 100% Read 0% Random выдаст результат 4000IOPS при глубине очереди (32 64 128, приблизительно одинаково), могу ли утверждать, что этот дисковый массив выдержит нагрузку от 40 пользователей?(Возможно степень рэндома здесь помешает, если это так - подскажите как ее померить)</p>
]]></content:encoded>
	</item>
	<item>
		<title>Автор: romx</title>
		<link>http://blog.aboutnetapp.ru/archives/13#comment-1939</link>
		<dc:creator>romx</dc:creator>
		<pubDate>Thu, 24 Nov 2011 01:28:47 +0000</pubDate>
		<guid isPermaLink="false">http://blog.aboutnetapp.ru/archives/13#comment-1939</guid>
		<description>Кривцов М.С.:

&gt; Как узнать максимально возможное?

Максимально возможная величина зависит от множества параметров. От размеров блока операции, например. От характера доступа (последовательно или рандомно), от соотношения чтения/записи. Наконец от объемов кэша и эффективности работы алгоритмов кэширования и количества физических дисков.
Если бы было все так просто и детерминировано, то давно была бы уже написана формула, куда только подставь свои данные и получишь результат.

&gt; Каким инструментом можно с имитировать такую нагрузку, чтобы узнать предельный порог IOPS для изучаемой нами дисковой подсистемы.

Множество таких программ. ??з "синтетических" load generators это dynamo из состава IOmeter, Iozone, SQLIO, и так далее. Посмотрите мои статьи про IOmeter в этом блоге, например.</description>
		<content:encoded><![CDATA[<p>Кривцов М.С.:</p>
<p>> Как узнать максимально возможное?</p>
<p>Максимально возможная величина зависит от множества параметров. От размеров блока операции, например. От характера доступа (последовательно или рандомно), от соотношения чтения/записи. Наконец от объемов кэша и эффективности работы алгоритмов кэширования и количества физических дисков.<br />
Если бы было все так просто и детерминировано, то давно была бы уже написана формула, куда только подставь свои данные и получишь результат.</p>
<p>> Каким инструментом можно с имитировать такую нагрузку, чтобы узнать предельный порог IOPS для изучаемой нами дисковой подсистемы.</p>
<p>Множество таких программ. ??з &#8220;синтетических&#8221; load generators это dynamo из состава IOmeter, Iozone, SQLIO, и так далее. Посмотрите мои статьи про IOmeter в этом блоге, например.</p>
]]></content:encoded>
	</item>
	<item>
		<title>Автор: Кривцов М.С.</title>
		<link>http://blog.aboutnetapp.ru/archives/13#comment-1938</link>
		<dc:creator>Кривцов М.С.</dc:creator>
		<pubDate>Wed, 23 Nov 2011 20:08:56 +0000</pubDate>
		<guid isPermaLink="false">http://blog.aboutnetapp.ru/archives/13#comment-1938</guid>
		<description>Disk Writes/sec и Disk Reads/sec показывают текущее кол-во операций к дисковой подсистеме. Как узнать максимально возможное? Каким инструментом можно с имитировать такую нагрузку, чтобы узнать предельный порог IOPS для изучаемой нами дисковой подсистемы.</description>
		<content:encoded><![CDATA[<p>Disk Writes/sec и Disk Reads/sec показывают текущее кол-во операций к дисковой подсистеме. Как узнать максимально возможное? Каким инструментом можно с имитировать такую нагрузку, чтобы узнать предельный порог IOPS для изучаемой нами дисковой подсистемы.</p>
]]></content:encoded>
	</item>
</channel>
</rss>
