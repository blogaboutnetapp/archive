<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>about NetApp   &raquo; 2010 &raquo; Март</title>

<link rel="stylesheet" href="../../../../wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />
<link rel="alternate" type="application/rss+xml" title="about NetApp RSS Feed" href="../../../../feed" />
<link rel="pingback" href="../../../../xmlrpc.php.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6" />

</head>

<body>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="../../../../index.html" title="about NetApp: Системы хранения данных как предмет разговора">about NetApp</a></h1>
		<p>Системы хранения данных как предмет разговора</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="../../../../index.html">
<input type="text" size="20" name="s" id="s" value="Поиск..."  onblur="if(this.value=='') this.value='Поиск...';" onfocus="if(this.value=='Поиск...') this.value='';"/>
</form>
	</div> 
	<!-- Search ends here-->
		
</div>

<div id="navbar">
<ul id="nav">
	<li><a href="../../../../index.html">Home</a></li>
	<li class="page_item page-item-153"><a href="../../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul>
</div>
<div id="wrapper">

	<div id="content">

	
			<p>Archive for Март 2010</p>

				
		<div class="navigation">
			<div class="alignleft"><a href="page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>

						
			<div class="post" id="post-560">
				<h2 class="posttitle"><a href="../../../560/trackback.html" rel="bookmark" title="Permanent Link to Полезные команды: led_on">Полезные команды: led_on</a></h2>
				<div class="postmetadata">31 Март 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>??ногда в работе админа случается необходимость найти и идентифицировать, например в целом шкафу дисков, какой-то конкретный. Допустим, вы не ведете подробную документацию по установленой системе (а зря), и расположение дисков и полок системы у вас не записано. Допустим вы хотите извлечь из стойки spare disk и переставить его в другую полку. Как найти правильный диск, и не выдернуть, ненароком, неправильный, рабочий?</p>
<p>На помошь приходит специальная команда led_on</p>
<p><code>fas1&gt; priv set advanced</code> – включаем режим повышенного приоритета (будьте осторожны!)     <br /><code>fas1&gt; led_on 0c.54</code> – зажигает на диске с данным номером светодиод (LED) желтого цвета     <br /><code>fas1&gt; led_off 0c.54</code> – гасит светодиод на диске с данным номером     <br /><code>fas1&gt; priv set</code> – выводит консоль из режима повышенных привелегий</p>
<p>Аналогично работает команда blink_on/blink_off, с понятным отличием, она светодиодом мигает.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/commands/index.html" rel="tag">commands</a>, <a href="../../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../../tag/tipstricks/index.html" rel="tag">tips&amp;tricks</a><br />					Раздел: <a href="../../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;" rel="category tag">commands</a>,  <a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;" rel="category tag">tricks</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../560/trackback.html#respond" title="Комментарий к записи Полезные команды: led_on">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-557">
				<h2 class="posttitle"><a href="../../../557/trackback.html" rel="bookmark" title="Permanent Link to Полезные команды: source">Полезные команды: source</a></h2>
				<div class="postmetadata">29 Март 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Хотя в Data ONTAP и нет таких мощных скриптовых средств командной строки, как bash или PowerShell в Windows, но что-то для простейших скриптовых действий все же есть.</p>
<p>Команда называется source, и просто воспроизводит из поданного на вход файла команды одну за другой.</p>
<p><code>fas1&gt; source /etc/my_scripts/vol_create.txt</code></p>
<p>Она может применяться, например, для массового и однообразного изменения каких-то параметров, например на множестве идентичных томов.</p>
<p>Сама по себе команда весьма примитивна, и имет множество недостатков и ограничений, о которых стоит помнить, начиная ее использовать.</p>
<ul>
<li>??сполнение не прерывается и не останавливается в случае ошибок, так что следует быть особенно внимательным при создании скрипта, условием в котором является обязательное выполнение каких-то предшествующих шагов. Особенно внимательно проверяйте опечатки и ошибки в аргументах и ключах.</li>
<li>Команда не умеет делать пайп (|) или перенаправление вывода в лог-файл.</li>
<li>Не поддерживаются wildcards (?, *, %).</li>
<li>Нет условного выполнения (IF THEN ELSE)</li>
<li>Нет операции паузы, так что команды выполняются последовательно и одна за другой, даже если какая-то команда может быть и не завершила операцию (например процесс выполнения команды продолжителен). Простой workaround – запускать команду sysstat между командами.</li>
<li>Почти единственное отклонение от простого листинга команд – возможность использовать # в качестве знака комментария. Строка, начинающаяся с # в подаваемой на вход source последователности команд, игнорируется. </li>
</ul>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/commands/index.html" rel="tag">commands</a>, <a href="../../../tag/console/index.html" rel="tag">console</a>, <a href="../../../tag/netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="../../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;" rel="category tag">commands</a>,  <a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;" rel="category tag">tricks</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../557/trackback.html#respond" title="Комментарий к записи Полезные команды: source">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-568">
				<h2 class="posttitle"><a href="../../../568/trackback.html" rel="bookmark" title="Permanent Link to Новая книга для администраторов VMware vSphere">Новая книга для администраторов VMware vSphere</a></h2>
				<div class="postmetadata">27 Март 2010, 11:37 <!-- от  --></div>
				<div class="postentry">
					<p>Подготовлена к печати в издательстве ДМК-пресс новая и чрезвычайно полезная книга: <strong>Администрирование VMware vSphere</strong>. Книгу написал <a href="http://www.linkedin.com/in/mikhailmikheev">Михаил Михеев</a>, крупный специалист в области продуктов VMware, преподаватель курсов “Микроинформ”, а также блоггер, владелец и ведущий&#160; <a href="http://vm4.ru">http://vm4.ru.</a></p>
<p><a href="/pics//1269282124clip89kb1.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="1269282124-clip-89kb[1]" border="0" alt="1269282124-clip-89kb[1]" src="/pics//1269282124clip89kb1-thumb.png" width="409" height="583" /></a> </p>
<p>Несмотря на внешний вид обложки, больше напоминающую ротапринтированную методичку ;) внутри, насколько мне удалось “подглядеть из-за плеча”, консультируя по относящимся к моей специфике главам, все очень дельно, подробно и хорошо.</p>
<p>Книжка стоит 349 рублей, по <a href="https://spreadsheets.google.com/viewform?formkey=dHFOcnJRa0p3WWlwS20yZ0Y2amg4V1E6MA">предзаказу</a> есть 10% скидка, в скором времени будет продаваться на “Озоне”. Возможно будет и электронный вариант (но, по понятными причинам, нескоро, и не в приоритетных для издательства задачах). В качестве примера – <a href="https://docs.google.com/fileview?id=0B1G3G2bemfixM2VjNjQ1NjItZmI5NS00OWQyLTg2NDktODQ3YTdhNWY2OGZm&amp;hl=en">оглавление</a>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/vmware/index.html" rel="tag">vmware</a>, <a href="../../../tag/vsphere/index.html" rel="tag">vsphere</a>, <a href="../../../tag/knigi.html" rel="tag">книги</a><br />					Раздел: <a href="../../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../568/trackback.html#comments" title="Комментарий к записи Новая книга для администраторов VMware vSphere">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-556">
				<h2 class="posttitle"><a href="../../../556/trackback.html" rel="bookmark" title="Permanent Link to Полезные команды: dd">Полезные команды: dd</a></h2>
				<div class="postmetadata">25 Март 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Несмотря на то, что Data ONTAP не только не является “Линуксом”, она даже UNIX в общепринятом смысле этого слова <a href="../../../12/trackback.html">не является</a> (не устаю это повторять снова и снова, потому что это один из самых распространенных мифов в отношении NetApp), тем не менее, для удобства администраторов, а первыми администраторами систем хранения NetApp были, конечно же, администраторы UNIX-систем, в ней многое сделано “очень похожим на UNIX”. Структура директорий, правила именования файлов, и даже большинство команд похожи на свои аналоги из мира Юникса.</p>
<p>Вот, например, даже имется хорошо известная команда dd, хотя она и немного спрятана.</p>
<p>Отдайте в консоли команду</p>
<p><code>fas1&gt; priv set advanced </code></p>
<p>Эта команда переведет вас в специальный “расширенный режим”, в котором вы получаете доступ к расширенному набору команд, но, ВН??МАН??Е, эти команды могут быть опасны для работы системы, и для сохранности данных! Пользуйтсь ими с ответственностью, и исключительно на свой страх и риск!    <br />После ввода этой команды вы заметите изменившийся значок подсказки. Он указывает вам на то, что вы работаете в режиме повышенных привилегий. Для того, чтобы вернуться на обычный уровень, введите команду <strong>priv set admin</strong> или просто <strong>priv set</strong></p>
<p>Среди множества дополнительных команд вам будет доступна и команда <strong>dd</strong> – disk dump, прямого посектороного копирования.</p>
<p><code>fas1*&gt; dd if=/vol/vol0/etc/rc of=/vol/newroot/etc/rc</code> – копирование rc в новое место&#160; <br />&#160;&#160; <br />Обратите внимание, вы НЕ можете запустить команду <strong>dd</strong> в фоне (еще раз напомню, что Data ONTAP это не линукс, и внешняя схожесть команд еще не значит внутреннего подобия), поэтому, если вы используете <strong>dd</strong>, то все копирование будет происходить “основной задачей”, наберитесь терпения. Кстати это еще один повод использовать вместо <strong>dd</strong> что-нибудь более продвинутое, например <strong>ndmpcopy</strong>.     <br />Прервать работу <strong>dd</strong> можно нажатием Ctrl-C</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/commands/index.html" rel="tag">commands</a>, <a href="../../../tag/console/index.html" rel="tag">console</a>, <a href="../../../tag/netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="../../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;" rel="category tag">commands</a>,  <a href="../../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;" rel="category tag">howto</a>,  <a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;" rel="category tag">tricks</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../556/trackback.html#respond" title="Комментарий к записи Полезные команды: dd">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-555">
				<h2 class="posttitle"><a href="../../../555/trackback.html" rel="bookmark" title="Permanent Link to NetApp System Analyser for CIFS">NetApp System Analyser for CIFS</a></h2>
				<div class="postmetadata">22 Март 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Продолжая тему контроля пользователей NAS, начатую постом про команду <strong>cifs top</strong>, хочу отметить любопытную утилиту, доступную на сайте NOW: <a href="http://now.netapp.com/NOW/download/tools/ntapsa_cifs/">NetApp System Analyser for CIFS</a></p>
<p>Это автономная утилита под x32 и x64 Windows, помогает контролировать и анализировать загрузку NAS-системы пользователями по протоколу CIFS.</p>
<p><a href="/pics//image33.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/pics//image-thumb18.png" width="652" height="433" /></a> </p>
<p>Утилита состоит из четырех компонент:</p>
<p><strong>Dashboard:</strong> основная панель, показывающая обзор состояния контроллера системы хранения, таких его параметров, как CPU utilization, объемы трафика, счетчики производительности CIFS и общую информацию по системе.</p>
<p><a href="/pics//image34.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/pics//image-thumb19.png" width="266" height="368" /></a> </p>
<p><strong>Analyzer:</strong> Создает отчеты и делает рекомендации по вашей ситуации, определяя возможные источники проблем.</p>
<p><a href="/pics//image35.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/pics//image-thumb20.png" width="321" height="230" /></a> </p>
<p><strong>User Statistics:</strong> Показывает статистику по пользователям,&#160; позволяет оценить кто из пользователей (а также серверов или приложений) и сколько использует ресурсов CIFS.</p>
<p>&#160;</p>
<p><strong>Support Report:</strong> Собирает данные, необходимые для работы NetApp Support, для анализа и устранения проблем, связанных с CIFS. Вывод может быть послан непосредственно в NetApp из самой утилиты, или записан и отослан отдельно.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/cifs.html" rel="tag">cifs</a>, <a href="../../../tag/nas.html" rel="tag">nas</a>, <a href="../../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../../tag/tools.html" rel="tag">tools</a><br />					Раздел: <a href="../../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>,  <a href="../../../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;" rel="category tag">utilities</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../555/trackback.html#comments" title="Комментарий к записи NetApp System Analyser for CIFS">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-547">
				<h2 class="posttitle"><a href="../../../547/trackback.html" rel="bookmark" title="Permanent Link to Syslog Translator">Syslog Translator</a></h2>
				<div class="postmetadata">18 Март 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Несмотря на то, что в целом ONTAP стремится быть понятной и “самоописательной”, как в своих командах, так и в сообщениях в логах, в них нередко встречаются сообщения довольно “загадочные”.</p>
<p>Для того, чтобы лучше разобраться в сообщениях syslog, на сайте NOW (NetApp on Web) есть полезная служба: <a href="https://now.netapp.com/eservice/ems">System Log Translator</a><em>     <br />ниже – скриншот:</em></p>
<p><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/pics//image31.png" width="878" height="181" /> </p>
<p>Например, мы видим в логе сообщение:</p>
<p>[scsitarget.partnerPath.misconfigured:error]: FCP Partner Path Misconfigured - Host I/O access through a non-primary and non-optimal path was detected. </p>
<p>Введенное в Syslog Translator оно покажет следующее:</p>
<p><a href="/pics//image32.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="/pics//image-thumb17.png" width="667" height="161" /></a> </p>
<p>Уже гораздо понятнее что делать и куда бечь.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../../tag/now.html" rel="tag">now</a>, <a href="../../../tag/support.html" rel="tag">support</a>, <a href="../../../tag/tools.html" rel="tag">tools</a>, <a href="../../../tag/web.html" rel="tag">web</a><br />					Раздел: <a href="../../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;" rel="category tag">howto</a>,  <a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;" rel="category tag">tricks</a>,  <a href="../../../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;" rel="category tag">utilities</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../547/trackback.html#respond" title="Комментарий к записи Syslog Translator">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-548">
				<h2 class="posttitle"><a href="../../../548/trackback.html" rel="bookmark" title="Permanent Link to Полезные команды: cifs top">Полезные команды: cifs top</a></h2>
				<div class="postmetadata">15 Март 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Если с занимающими много места на дисках пользователями NAS можно справиться механизмом квот, то что делать с пользователями, которые используют много, но не места, а системных ресурсов, например загружая систему большим числом операций ввода-вывода?</p>
<p>Прежде всего таких следует найти и оценить загрузку от них. В этом поможет команда <strong>cifs top</strong>.</p>
<p>Для начала нам надо включить системную опцию:</p>
<p><code>fas1&gt; options cifs.per_client_stats.enable on </code></p>
<p>Далее, собрав некоторую статистику, введем команду:</p>
<p><code>fas1&gt; cifs top –n 3 –s w</code> - показать трех самых активных пользователей, отсортировав список по объемам записи</p>
<p><code>&#160;&#160;&#160; ops/s&#160; reads(n, KB/s) writes(n, KB/s) suspect/s&#160;&#160; IP&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name      <br />&#160;&#160;&#160;&#160; 263 |&#160;&#160;&#160;&#160; 29&#160;&#160; 215 |&#160;&#160;&#160;&#160; 137&#160;&#160; 627 |&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0 | 10.56.10.120 ENGR\varun       <br />&#160;&#160;&#160;&#160; 248 |&#160;&#160;&#160;&#160; 27&#160;&#160; 190 |&#160;&#160;&#160;&#160; 126&#160;&#160; 619 |&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1 | 10.56.10.120 ENGR\jill       <br />&#160;&#160;&#160;&#160; 246 |&#160;&#160;&#160;&#160; 26&#160;&#160; 195 |&#160;&#160;&#160;&#160; 125&#160;&#160; 616 |&#160;&#160;&#160;&#160;&#160;&#160; 19 | 10.56.12.118 MKTG\bob       <br /></code></p>
<p>&#160;</p>
<p>Более подробно о доступных ключах команды можно узнать из встроенной документации и манов.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/cifs.html" rel="tag">cifs</a>, <a href="../../../tag/commands/index.html" rel="tag">commands</a>, <a href="../../../tag/nas.html" rel="tag">nas</a>, <a href="../../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../../tag/tipstricks/index.html" rel="tag">tips&amp;tricks</a><br />					Раздел: <a href="../../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;" rel="category tag">commands</a>,  <a href="../../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;" rel="category tag">howto</a>,  <a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;" rel="category tag">tricks</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../548/trackback.html#respond" title="Комментарий к записи Полезные команды: cifs top">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-543">
				<h2 class="posttitle"><a href="../../../543/trackback.html" rel="bookmark" title="Permanent Link to Полезные команды: logger">Полезные команды: logger</a></h2>
				<div class="postmetadata">11 Март 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Простая, малоизвестная, но весьма полезная команда – <strong>logger</strong>. Эта команда пишет данную ей в аргументе текстовую строку в системный лог (/etc/messages). С ее помошью можно заносить в лог определенные записи, например отмечать там свои действия.</p>
<p><code>fas1&gt; logger&#160;&#160; *** Starting shelf firmware upgrade ***</code> </p>
<p>Запущенная без аргумента она ожидает ввода со stdin (клавиатуры), завершаемого “по юниксному” – точкой в начале новой строки</p>
<p><code>fas1&gt; logger&#160; <br />&#8212;&#8211; &gt; System going down for UPS system maintenance&#160; &lt; &#8212;&#8211;       <br />System is expected to halt ungracefully while we test battery duration       <br />-&#160; &gt; Sysadmin       <br />.</code></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/commands/index.html" rel="tag">commands</a>, <a href="../../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../../tag/tipstricks/index.html" rel="tag">tips&amp;tricks</a>, <a href="../../../tag/useful.html" rel="tag">useful</a><br />					Раздел: <a href="../../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;" rel="category tag">commands</a>,  <a href="../../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;" rel="category tag">howto</a>,  <a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;" rel="category tag">tricks</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../543/trackback.html#respond" title="Комментарий к записи Полезные команды: logger">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-542">
				<h2 class="posttitle"><a href="../../../542/trackback.html" rel="bookmark" title="Permanent Link to Мониторинг среды: команда environment">Мониторинг среды: команда environment</a></h2>
				<div class="postmetadata">8 Март 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Малоизвестная, но полезная команда консоли <strong>environment</strong> позволит наблюдать за различными показателями “среды обитания” системы хранения, таких как, например, температура, скорости вращения вентиляторов охлаждения, или состояние блоков питания.</p>
<p><code>fas&gt; environment status</code> – показывает всю доступную информацию&#160; <br /><code>fas&gt; environment shelf</code> – показывает информацию, относящуюся к дисковым полкам&#160; <br /><code>fas&gt; environment chassis all</code> – показывает информацию о шасси контроллера     <br /><code>fas&gt; environment chassis list-sensors</code> – показыват все датчики шасси, их состояния и пороги </p>
<p>Пример вывода команды environment status shelf:</p>
<pre>          Environment for adapter 3:
                  Shelves monitored: 1    enabled: yes
                  Swap in progress? no    Environmental failure? no

                  EDM 1 (active):
                  SES Configuration, via loop id 3 in shelf 0x0:
                   logical identifier=0x3003040000000000
                   vendor identification=EuroLogc
                   product identification=Eurologic EDM
                   product revision level=0x01000101
                  Vendor-specific information:
                   backplane byte=0x1e     cabinet id=0x0
                   Backplane Type : Single Fibre Channel Backplane
                   Backplane Function : Storage System
                   Kernel Version : 1.0.A          App. Version : 1.1.A
                  Shelf:0         SES path:3.3    Device mask: 0x7f
                  Power Supply present: 0x3; with error: 0x0
                  Fans present: 0x3; with error: 0x0
                  Temperature Sensor present: 0x1; with error: 0x0
                  SES Electronics present: 0x1; with error: 0x0
                  Shelf temperature: 29C (84F)
                  High thresholds: critical: 55C (131F); warning 50C (122F)
                  Low thresholds: critical: 0C (32F); warning 10C (50F)

                  Disks physically present on adapter 3
                    Devices 0x1f-0x00: 0000007f
                    Devices 0x3f-0x20: 00000000
                    Devices 0x5f-0x40: 00000000
                    Devices 0x7f-0x60: 00000000</pre>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/commands/index.html" rel="tag">commands</a>, <a href="../../../tag/monitoring.html" rel="tag">monitoring</a>, <a href="../../../tag/netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="../../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;" rel="category tag">commands</a>,  <a href="../../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;" rel="category tag">howto</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../542/trackback.html#respond" title="Комментарий к записи Мониторинг среды: команда environment">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-541">
				<h2 class="posttitle"><a href="../../../541/trackback.html" rel="bookmark" title="Permanent Link to Banner message в консоли">Banner message в консоли</a></h2>
				<div class="postmetadata">4 Март 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>В админской консоли, будь то терминал консольного порта, телнет или ssh, при подключении можно вывести на экран подключающегося (до ведения логина) какую-нибудь полезную информацию. В Linux/UNIX это часто называется banner или motd (message of the day).</p>
<p>Например туда можно написать какую-нибудь полезную информацию о контакте с дежурным админом:</p>
<p><code>В экстренных случаях, для контакта с системным администратором данной системы, позвоните по номеру +7-916-1234567 (круглосуточно)</code> </p>
<p>??ли принадлежности данной системы в большом хозяйстве датацентра:</p>
<p><code>Данная система хранения принадлежит отделу автоматизации ОАО Проммехавтоматика (комната 414, здание Б), ответственный Приходько Б.П.</code> </p>
<p>??ли вывесить в нем строгое предупреждение любителям посканировать открытые порты:</p>
<p><code>Все что вы получаете на свой компьютер может быть использовано против вас. Обращение к данной системе записывается, оставайтесь на месте, за вами выехали.</code> </p>
<p>Для того, чтобы вывести сообщение при подключении, запишите его в файл /etc/issue или /etc/motd</p>
<p>Самым простым способом будет сделать это непосредственно из консоли с помощью команды wrfile, которая перенаправляет нажатия клавиш в файл, завершить запись файла можно нажатием Ctrl-C:</p>
<p><code>fas&gt; wrfile /etc/issue      <br />Warning: This system to be accessed only by Acme Corporation employees.       <br />Have a nice day.       <br />&#160; <br />&lt;Ctrl+C&gt; error: broken pipe </code></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../../tag/console/index.html" rel="tag">console</a>, <a href="../../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../../tag/tipstricks/index.html" rel="tag">tips&amp;tricks</a><br />					Раздел: <a href="../../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;" rel="category tag">howto</a>,  <a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;" rel="category tag">tricks</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../541/trackback.html#respond" title="Комментарий к записи Banner message в консоли">Комментарий</a>									 </div>
			</div>
	
		
		<div class="navigation">
			<div class="alignleft"><a href="page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>
		
	
	</div>
	<div id="sidebar">
		<ul>
			
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Автор</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li class="pagenav"><h2>Страницы</h2><ul><li class="page_item page-item-153"><a href="../../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul></li>
			<li><h2>Рубрики</h2>
				<ul>
					<li class="cat-item cat-item-89"><a href="../../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;">commands</a>
</li>
	<li class="cat-item cat-item-37"><a href="../../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;">howto</a>
</li>
	<li class="cat-item cat-item-52"><a href="../../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;">justread</a>
</li>
	<li class="cat-item cat-item-51"><a href="../../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;">review</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;">techtalk</a>
</li>
	<li class="cat-item cat-item-71"><a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;">tricks</a>
</li>
	<li class="cat-item cat-item-95"><a href="../../../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;">utilities</a>
</li>
	<li class="cat-item cat-item-44"><a href="../../../category/whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;">whoisho</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;">новости</a>
</li>
	<li class="cat-item cat-item-387"><a href="../../../category/opros.html" title="Просмотреть все записи в рубрике &laquo;опрос&raquo;">опрос</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;">переводы</a>
</li>
	<li class="cat-item cat-item-40"><a href="../../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;">цитаты</a>
</li>
				</ul>
			</li>

			<li><h2>Архивы</h2>
				<ul>
					<li><a href='../../2018/01.html' title='Январь 2018'>Январь 2018</a></li>
	<li><a href='../../2015/10.html' title='Октябрь 2015'>Октябрь 2015</a></li>
	<li><a href='../../2015/04.html' title='Апрель 2015'>Апрель 2015</a></li>
	<li><a href='../../2015/03.html' title='Март 2015'>Март 2015</a></li>
	<li><a href='../../2015/01.html' title='Январь 2015'>Январь 2015</a></li>
	<li><a href='../../2014/12.html' title='Декабрь 2014'>Декабрь 2014</a></li>
	<li><a href='../../2014/11.html' title='Ноябрь 2014'>Ноябрь 2014</a></li>
	<li><a href='../../2014/10.html' title='Октябрь 2014'>Октябрь 2014</a></li>
	<li><a href='../../2014/09.html' title='Сентябрь 2014'>Сентябрь 2014</a></li>
	<li><a href='../../2014/08.html' title='Август 2014'>Август 2014</a></li>
	<li><a href='../../2014/07.html' title='Июль 2014'>Июль 2014</a></li>
	<li><a href='../../2014/06.html' title='Июнь 2014'>Июнь 2014</a></li>
	<li><a href='../../2014/05.html' title='Май 2014'>Май 2014</a></li>
	<li><a href='../../2014/04.html' title='Апрель 2014'>Апрель 2014</a></li>
	<li><a href='../../2014/03.html' title='Март 2014'>Март 2014</a></li>
	<li><a href='../../2014/02.html' title='Февраль 2014'>Февраль 2014</a></li>
	<li><a href='../../2014/01.html' title='Январь 2014'>Январь 2014</a></li>
	<li><a href='../../2013/12.html' title='Декабрь 2013'>Декабрь 2013</a></li>
	<li><a href='../../2013/11.html' title='Ноябрь 2013'>Ноябрь 2013</a></li>
	<li><a href='../../2013/10.html' title='Октябрь 2013'>Октябрь 2013</a></li>
	<li><a href='../../2013/09.html' title='Сентябрь 2013'>Сентябрь 2013</a></li>
	<li><a href='../../2013/08.html' title='Август 2013'>Август 2013</a></li>
	<li><a href='../../2013/07.html' title='Июль 2013'>Июль 2013</a></li>
	<li><a href='../../2013/06.html' title='Июнь 2013'>Июнь 2013</a></li>
	<li><a href='../../2013/05.html' title='Май 2013'>Май 2013</a></li>
	<li><a href='../../2013/04.html' title='Апрель 2013'>Апрель 2013</a></li>
	<li><a href='../../2013/03.html' title='Март 2013'>Март 2013</a></li>
	<li><a href='../../2013/02.html' title='Февраль 2013'>Февраль 2013</a></li>
	<li><a href='../../2013/01.html' title='Январь 2013'>Январь 2013</a></li>
	<li><a href='../../2012/12.html' title='Декабрь 2012'>Декабрь 2012</a></li>
	<li><a href='../../2012/11.html' title='Ноябрь 2012'>Ноябрь 2012</a></li>
	<li><a href='../../2012/10.html' title='Октябрь 2012'>Октябрь 2012</a></li>
	<li><a href='../../2012/09.html' title='Сентябрь 2012'>Сентябрь 2012</a></li>
	<li><a href='../../2012/08.html' title='Август 2012'>Август 2012</a></li>
	<li><a href='../../2012/07.html' title='Июль 2012'>Июль 2012</a></li>
	<li><a href='../../2012/06.html' title='Июнь 2012'>Июнь 2012</a></li>
	<li><a href='../../2012/05.html' title='Май 2012'>Май 2012</a></li>
	<li><a href='../../2012/04.html' title='Апрель 2012'>Апрель 2012</a></li>
	<li><a href='../../2012/03.html' title='Март 2012'>Март 2012</a></li>
	<li><a href='../../2012/02.html' title='Февраль 2012'>Февраль 2012</a></li>
	<li><a href='../../2012/01.html' title='Январь 2012'>Январь 2012</a></li>
	<li><a href='../../2011/12.html' title='Декабрь 2011'>Декабрь 2011</a></li>
	<li><a href='../../2011/11.html' title='Ноябрь 2011'>Ноябрь 2011</a></li>
	<li><a href='../../2011/10/index.html' title='Октябрь 2011'>Октябрь 2011</a></li>
	<li><a href='../../2011/09/index.html' title='Сентябрь 2011'>Сентябрь 2011</a></li>
	<li><a href='../../2011/08.html' title='Август 2011'>Август 2011</a></li>
	<li><a href='../../2011/07/index.html' title='Июль 2011'>Июль 2011</a></li>
	<li><a href='../../2011/06/index.html' title='Июнь 2011'>Июнь 2011</a></li>
	<li><a href='../../2011/05/index.html' title='Май 2011'>Май 2011</a></li>
	<li><a href='../../2011/04/index.html' title='Апрель 2011'>Апрель 2011</a></li>
	<li><a href='../../2011/03/index.html' title='Март 2011'>Март 2011</a></li>
	<li><a href='../../2011/02.html' title='Февраль 2011'>Февраль 2011</a></li>
	<li><a href='../../2011/01.html' title='Январь 2011'>Январь 2011</a></li>
	<li><a href='../12.html' title='Декабрь 2010'>Декабрь 2010</a></li>
	<li><a href='../11/index.html' title='Ноябрь 2010'>Ноябрь 2010</a></li>
	<li><a href='../10/index.html' title='Октябрь 2010'>Октябрь 2010</a></li>
	<li><a href='../09/index.html' title='Сентябрь 2010'>Сентябрь 2010</a></li>
	<li><a href='../08.html' title='Август 2010'>Август 2010</a></li>
	<li><a href='../07/index.html' title='Июль 2010'>Июль 2010</a></li>
	<li><a href='../06.html' title='Июнь 2010'>Июнь 2010</a></li>
	<li><a href='../05.html' title='Май 2010'>Май 2010</a></li>
	<li><a href='../04/index.html' title='Апрель 2010'>Апрель 2010</a></li>
	<li><a href='index.html' title='Март 2010'>Март 2010</a></li>
	<li><a href='../02.html' title='Февраль 2010'>Февраль 2010</a></li>
	<li><a href='../01.html' title='Январь 2010'>Январь 2010</a></li>
	<li><a href='../../2009/12/index.html' title='Декабрь 2009'>Декабрь 2009</a></li>
	<li><a href='../../2009/11/index.html' title='Ноябрь 2009'>Ноябрь 2009</a></li>
	<li><a href='../../2009/10.html' title='Октябрь 2009'>Октябрь 2009</a></li>
	<li><a href='../../2009/09.html' title='Сентябрь 2009'>Сентябрь 2009</a></li>
	<li><a href='../../2009/08/index.html' title='Август 2009'>Август 2009</a></li>
	<li><a href='../../2009/07/index.html' title='Июль 2009'>Июль 2009</a></li>
	<li><a href='../../2009/06.html' title='Июнь 2009'>Июнь 2009</a></li>
	<li><a href='../../2009/05.html' title='Май 2009'>Май 2009</a></li>
	<li><a href='../../2009/04.html' title='Апрель 2009'>Апрель 2009</a></li>
	<li><a href='../../2009/03.html' title='Март 2009'>Март 2009</a></li>
	<li><a href='../../2009/02.html' title='Февраль 2009'>Февраль 2009</a></li>
	<li><a href='../../2009/01.html' title='Январь 2009'>Январь 2009</a></li>
	<li><a href='../../2008/12.html' title='Декабрь 2008'>Декабрь 2008</a></li>
	<li><a href='../../2008/11.html' title='Ноябрь 2008'>Ноябрь 2008</a></li>
	<li><a href='../../2008/10.html' title='Октябрь 2008'>Октябрь 2008</a></li>
	<li><a href='../../2008/09.html' title='Сентябрь 2008'>Сентябрь 2008</a></li>
	<li><a href='../../2008/08.html' title='Август 2008'>Август 2008</a></li>
	<li><a href='../../2008/03.html' title='Март 2008'>Март 2008</a></li>
	<li><a href='../../2008/02.html' title='Февраль 2008'>Февраль 2008</a></li>
	<li><a href='../../2007/12.html' title='Декабрь 2007'>Декабрь 2007</a></li>
	<li><a href='../../2007/11.html' title='Ноябрь 2007'>Ноябрь 2007</a></li>
	<li><a href='../../2007/10.html' title='Октябрь 2007'>Октябрь 2007</a></li>
	<li><a href='../../2007/09.html' title='Сентябрь 2007'>Сентябрь 2007</a></li>
	<li><a href='../../2007/08.html' title='Август 2007'>Август 2007</a></li>
	<li><a href='../../2007/07/index.html' title='Июль 2007'>Июль 2007</a></li>
	<li><a href='../../2007/06.html' title='Июнь 2007'>Июнь 2007</a></li>
	<li><a href='../../2007/05.html' title='Май 2007'>Май 2007</a></li>
				</ul>
			</li>

			
					</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a href="../../../../feed">Entries (RSS)</a> and <a href="../../../../comments/feed">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br />
	Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a> and <a href="http://srinig.com/wordpress/themes/fluid-blue/">Fluid Blue theme</a>.<br />
	<!-- 14 queries. 0.084 seconds. -->
	</div>
</div> <!-- page -->
</body>
</html>
