<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>about NetApp   &raquo; 2009 &raquo; Август</title>

<link rel="stylesheet" href="../../../wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />
<link rel="alternate" type="application/rss+xml" title="about NetApp RSS Feed" href="../../../feed" />
<link rel="pingback" href="../../../xmlrpc.php.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6" />

</head>

<body>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="../../../index.html" title="about NetApp: Системы хранения данных как предмет разговора">about NetApp</a></h1>
		<p>Системы хранения данных как предмет разговора</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="../../../index.html">
<input type="text" size="20" name="s" id="s" value="Поиск..."  onblur="if(this.value=='') this.value='Поиск...';" onfocus="if(this.value=='Поиск...') this.value='';"/>
</form>
	</div> 
	<!-- Search ends here-->
		
</div>

<div id="navbar">
<ul id="nav">
	<li><a href="../../../index.html">Home</a></li>
	<li class="page_item page-item-153"><a href="../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul>
</div>
<div id="wrapper">

	<div id="content">

	
			<p>Archive for Август 2009</p>

				
		<div class="navigation">
			<div class="alignleft"><a href="08/page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>

						
			<div class="post" id="post-373">
				<h2 class="posttitle"><a href="../../373/trackback.html" rel="bookmark" title="Permanent Link to Надежность RAID 5, качество SATA, и Дед Мороз.">Надежность RAID 5, качество SATA, и Дед Мороз.</a></h2>
				<div class="postmetadata">31 Август 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Сокращенный перевод <a href="http://blogs.netapp.com/msenviro/2009/08/raid-5-reliability-sata-quality-and-the-easter-bunny.html">поста</a> Chris Lionetti, Reference Architect – Microsoft Solutions Engineering</p>
<p>Этот пост рассматривает проблему Unrecoverable Error Rate (UER), «Уровня невосстановимых ошибок» на жестких дисках. </p>
<p>Диски типа SATA оптимизируются по соотношению GB/$ и GB/Watt, в то время, как диски с интерфейсом FC и SAS по параметрам IOPS/$ и IOPS/Watt. Это означает, что в плане плотности записи и механики, диски типа SATA решительно отличаются от дисков FC/SAS <strong>*1</strong>. Диски FC/SAS трехлетней давности имеют Unrecoverable Error Rate равный одному блоку на 10^15 бит данных (UER15). Диски SATA имеют этот параметр равный 1 блоку на 10^14 бит данных (UER14), что означает, что один блок (512Bytes) может быть потерян в среднем каждые 11TB считанных данных. Для UER15 это означает 1 блок каждые 110TB данных, и UER16 значит 1 блок каждые 1100TB пространства.</p>
<p>Давайте используем те же 9-дисковые наборы, что и в первой части поста. Берем 9-дисковый RAID 5 (8+1), 10-дисковый RAID DP/6 (8+2), и 16-дисковый RAID 10 (8+8). Предполагаем, что мы используем ту же инфраструктурную схему, при которой используется суммарно 800 дисков с данными. </p>
<p>Также возьмем за предположение величину отказа в 3%. Это означает 27 ребилдов для RAID 5 (см. <a href="../../345/trackback.html">предыдущую статью</a> почему так). Допустим, что мы используем диски на 1TB, что означает, что когда в нашей дисковой инфраструктуре случается отказ (по нашим расчетам это может происходить до 27 раз в год) у меня есть шанс 8 из 11 (72% вероятность) что я получу ошибочно прочитанный UER-блок во время ребилда. Так как в случае&#160; возникновения UER она воздействует на весь страйп в наборе RAID 5, она влияет на объем данных, равный <strong>Stripe Element size * stripe size</strong>. Это означает, что вы можете получить до <strong>64KB x 8 = 512KB</strong> поврежденных данных посреди вашего датасета, не узнав об этом. Хорошая новость в том, что, скорее всего, вы используете более надежные диски. </p>
<p>Если вы используете так называемые «enterprise class» диски вместо недорогих дисков «Desktop class SATA», то вы получаете диски с уровнем UER15. Такие более высококачественные диски, с более высоким UER, будут повреждать данные всего в 7.2% случаев во время каждого ребилда. В случае использования дисков FC 15K/10K, эта величина понизится до 0.72% во время каждого ребилда.</p>
<p>В случае RAID10, опасность гораздо ниже, так как ребилд производится всего с одного диска, а не с целой их группы. Смотрите таблицу. </p>
<p>Данные в таблице берут за основу параметры: 3% AFR, 8 дисков данных, и рассматривают вероятность для каждой операции ребилда. </p>
<table border="0" cellspacing="0" cellpadding="2" width="600">
<tbody>
<tr>
<td valign="top" width="166">Вероятность повреждения</td>
<td valign="top" width="166">RAID-5 (8+1)</td>
<td valign="top" width="166">RAID-10 (8+8)</td>
</tr>
<tr>
<td valign="top" width="200">1 блок на 10^14 бит</td>
<td valign="top" width="200">72,7%</td>
<td valign="top" width="200">9,1%</td>
</tr>
<tr>
<td valign="top" width="200">1 блок на 10^15 бит</td>
<td valign="top" width="200">7,3%</td>
<td valign="top" width="200">0,9%</td>
</tr>
<tr>
<td valign="top" width="200">1 блок на 10^16 бит</td>
<td valign="top" width="200">0,7%</td>
<td valign="top" width="200">0,1%</td>
</tr>
<tr>
<td valign="top" width="200">Величина поврежденного участка</td>
<td valign="top" width="200">512KByte</td>
<td valign="top" width="200">64KByte</td>
</tr>
</tbody>
</table>
<p>&#160;</p>
<p>Диски типа Enterprise SATA обычно приближаются к величине UER15, в то время, как в случае дисков FC и SAS 15K RPM всегда говорят о UER16.</p>
<p><strong>Скрытые проблемы на Enterprise SATA</strong>.     <br />Аргумент, который всегда приводится, это что SATA имеют теперь тот же уровень ошибок, что и «enterprise drives». SATA на протяжении последних лет постепенно улучшают свои показатели, с UER14 до UER15, но, одновременно с этим, учетверяют свой объем. Стали ли диски боле надежными? Да, но не в 10 раз, как вы могли бы подумать, глядя на техспеки. За то же самое время диски enterprise FC улучшили показатель надежности с UER15 до UER16, достигнув при этом примерно половины емкости от дисков SATA.</p>
<p>Существует также некая возможность в дисках SATA, которая позволяет индустрии дисков SATA достигать уровня UER15. Эта возможность называется «heroic recovery» <strong>*2</strong>. Этот вариант восстановления ошибочно считанных данных при чтении означает, что диск прочитывает очень большой фрагмент данных и пытается восстановить неустойчиво прочтенный блок с использованием избыточности, чтобы потом переписать его куда-нибудь в другое место. Результатом замедления работы при «heroic recovery» может быть то, что диск перестает вовремя отвечать на запросы, и, в результате, вываливается из RAID. </p>
<p>Большинство (если не все) контроллеров RAID выключает на своих дисках «heroic recovery». Вопрос, ответ на который невозможно получить ни от одного вендора жестких дисков, это то, измерен ли UER этих диско с выключенной heroic recovery? Если вы утверждаете, что heroic recovery блока может восстановить данные с 9 из 10 неустойчиво читающихся блоков, то выключение этой возможности означает снижение для диска UER15 до UER14. Я включил в график данные как для UER14, так и для UER15, ваши диски будут располагаться где-то между этими двумя. Этот график показывает как оптимистичные, так и пессимистичные оценки вероятностей в RAID 5 и RAID 10 для объемов ваших данных, могущих быть поврежденными на протяжении года.</p>
<p><a href="/pics//raid5uerrorsrate.jpg"><img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="RAID5-uerrors-rate" border="0" alt="RAID5-uerrors-rate" src="/pics//raid5uerrorsrate-thumb.jpg" width="539" height="341" /></a> </p>
<p>&#160; <br /><strong>Выводы</strong>     <br />У вас есть две возможности избежать неприятностей. Вы можете либо выбрать использовать RAID6, либо использовать диски с UER16. Этот пост написан не с целью продать вам диски SATA или FC, но лишь только помочь вам осознать опасности использования RAID5, а также опасность использования дисков SATA не имея способ смягчить возможные последствия. Вот в чем смысл нашего сегодняшнего заголовка. Все эти три понятия - сказочные. </p>
<p><em>(прим. romx: долго подмывало вместо Деда Мороза написать Честный Милиционер, или что-то в этом духе. В оригинале был Easter Bunny, «пасхальный кролик»)</em></p>
<p>Самое главное, что вы должны уяснить, дочитав это пост, это то, что больше нельзя доверять RAID 5. У вас есть сравнительно небольшой риск того, что ваши данные будут полностью потеряны, но существует гораздо более высокий риск того, что поврежденные данные приведут к замедлению работы, если попадутся в момент операции ребилда.</p>
<p>&#8211;    <br /><strong>*1 </strong>Willis Whittington – WINHEC05 presentation on enterprise drives     <br /><strong>*2</strong> <a href="http://www.wdc.com/en/products/products.asp?driveid=403">http://www.wdc.com/en/products/products.asp?driveid=403</a> Читайте про time limited recovery. Целых 7 секунд!. Эта проблема существует по всей индустрии SATA, а не только у Western Digital.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../tag/techtalk/index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../373/trackback.html#respond" title="Комментарий к записи Надежность RAID 5, качество SATA, и Дед Мороз.">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-370">
				<h2 class="posttitle"><a href="../../370/trackback.html" rel="bookmark" title="Permanent Link to PAM-I, PAM-II&#8230; SSD?">PAM-I, PAM-II&#8230; SSD?</a></h2>
				<div class="postmetadata">29 Август 2009, 0:53 <!-- от  --></div>
				<div class="postentry">
					<p>По некоторым признакам, кроме PAM, все же будут у NetApp и обычные SSD в виде &#8220;дисков&#8221;.<br />
Некоторе сведения об этом найдены тут: <a href="http://itknowledgeexchange.techtarget.com/storage-soup/netapp-plans-ssds-in-arrays-by-end-of-2009/">SearchStorage</a></p>
<blockquote><p>Третьим шагом будет поддержка SSD в самих дисковых массивах, которую сейчас предлагают все крупные производители. &#8220;Позже в этом году мы проведем сертификацию дисков SSD в дисковых полках&#8221;, сказал Jay Kidd (NetApp&#8217;s Chief Marketing Officer). &#8220;Вы сможете добавить их к существующим системам, возможно с помощью дополнительных дисковых полок, которые поддерживают SSD&#8221;<br />
Kidd сказал, что NetApp будет использовать SSD с нативным интерфейсом SAS.</p>
</blockquote>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../tag/news/index.html" rel="tag">новости</a><br />					Раздел: <a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>,  <a href="../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;" rel="category tag">цитаты</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../370/trackback.html#respond" title="Комментарий к записи PAM-I, PAM-II&#8230; SSD?">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-366">
				<h2 class="posttitle"><a href="../../366/trackback.html" rel="bookmark" title="Permanent Link to Много новостей.">Много новостей.</a></h2>
				<div class="postmetadata">27 Август 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Объявлена новая стратегия NetApp в области Cloud Systems.<br />
Анонсирован выход в сентябре Data ONTAP 8, продукта объединяющего &#8220;классическую&#8221; 7G и ONTAP GX.</p>
<p>Ну и по мелочи: новая дисковая полка <strong><a href="/pics//ds4243.jpg">DS4243</a></strong> - 24 диска SAS/SATA в корпусе 4U<br />
<strong><a href="/pics//pamii.jpg">PAM II</a></strong> - новая модель в линейке Performance Acceleration Module - 256GB flash-памяти (up to 4TB) (в PAM I была только RAM 16GB)<br />
В начале 2010, с выходом 7.3.3, появится функция <strong><a href="http://media.netapp.com/documents/DS_Data_Motion.pdf">NetApp Data Motion</a> </strong>- средство nondisruptive и прозрачного для приложений перемещения данных между системами NetApp и tier-ами хранения, например между SAS/FC и SATA-разделами.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../tag/news/index.html" rel="tag">новости</a><br />					Раздел: <a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../366/trackback.html#respond" title="Комментарий к записи Много новостей.">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-363">
				<h2 class="posttitle"><a href="../../363/trackback.html" rel="bookmark" title="Permanent Link to Про Usable Space на примере NetApp FAS2050A">Про Usable Space на примере NetApp FAS2050A</a></h2>
				<div class="postmetadata">24 Август 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Мой любимый нетапповский автор, Костадис Руcсос, который в своем блоге на днях закончил длиииинную десятичастную тему, тоже говорил, что в принципе это bad taste in blogging, устраивать такие “сериалы”, так как внимание даже искушенного и лояльного читателя теряется. Надо как-то стараться писать коротко и ясно. Вот всякий раз, как я начинаю в блоге травить анекдоты, сразу налетает толпа, так, на недавний пост с “автопроизводителями”, за три дня пришло почти треть обычной месячной аудитории блога. А то я все умничаю. Во, народу надо доступных зрелищ, это еще древние римляне понимали. ;)</p>
<p>Поэтому пост будет недлинный, нетрудный, и с картинками :)</p>
<p>Одной из основных проблем, с которыми сталкивается начинающий пользователь и админ NetApp является большой расход пространства дисков на небольших системах. NetApp в этом часто (и отчасти справедливо) упрекают.</p>
<p>Давайте рассмотрим это на примере небольшой и относительно недорогой, а потому особенно популярной в России системы начального уровня FAS2050.</p>
<p><a href="/pics/FAS2050.jpg"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="FAS2050" border="0" alt="FAS2050" src="/pics/FAS2050.jpg" width="500" height="223" /></a> </p>
<p>Это система уровня low-enterprise, вторая с “нижнего конца” (младше ее есть еще FAS2020, предназначенная для совсем небольших инсталляций и систем).</p>
<p>Она представляет собой конструктив&#160; высотой 4U, на 20 дисков 3.5”, вставляемых горизонтально “с лица”, и двумя контроллерами (часто мы называем их на жаргоне “головы” или “filer head”), обеспечивающими отказоустойчивую работу в режиме active-active cluster.</p>
<p><a href="/pics/FAS2050rear.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="FAS2050 rear" border="0" alt="FAS2050 rear" src="/pics/FAS2050rear.png" width="500" height="200" /></a> </p>
<p>Каждая “голова” несет на себе (слева-направо):</p>
<ul>
<li>2 порта 4GB FC, которые могут использоваться как FC-target (по простому – к ним можно подключить сервера SAN-сети, и они смогут использовать LUN-ы на NetApp), а также к ним можно подключать дополнительные дисковые “полки” расширения. Дисковые “полки” едины для всех моделей NetApp, могут нести в себе по 14 дисков SATA или FC (каждый тип полки под свои диски), и подключаются к контроллерам по интерфейсу FC (даже если диски в них SATA). </li>
<li>Разъем последовательного порта для непосредственного консольного доступа (аналогичен такому же порту например на оборудовании Cisco, и некоторых других устройств), использует разъем RJ-45, и выглядит как сетевой, но не перепутайте. </li>
<li>Порт сетевого подключения к BMC – Baseboard Management Control, отдельной управляющей подсистеме, с помощью которой можно организовать отдельную “подсеть” управления, если вы, например по соображениям безопасности, не хотите управлять системой из обычной “общей” LAN. Кроме этого, через BMC можно управлять системой на том уровне, когда обычные сетевые контроллеры еще не работают, например при загрузке системы и Mantenance Mode. </li>
<li>Два независимых порта Gigabit Ethernet. Каждый из этих портов может работать независимо, например можно создать две подсети доступа, или по одному из интерфейсов подключаться как к NAS, по протоколам NFS или CIFS, а ко второму – по iSCSI. Можно также объединить эти порты либо в отказоустойчивую схему, либо в транк, при котором скорость передачи данных удваивается. </li>
<li>Выше ряда разъемов интерфейсов располагается заглушка слота PCIe, в которую могут быть установлены платы расширения NetApp, такие как: дополнительные порты FC, Ethernet, аппаратный iSCSI HBA, и даже UW-SCSI, с помощью которой можно подключить к FAS ленточный накопитель, и делать автономный бэкап его содержимого на ленту. </li>
</ul>
<p>Контроллеры или “головы” полностью автономны, и могут работать независимо, каждая со своим набором дисков. В случае выхода из строя одной из них, или отказа, например, доступа по сети к какому-то из них, система переводит диски такого контроллера, а также все ресурсы (имена файловых шар, IP-адреса для NAS, WWN-ы для SAN) на “выживший” контроллер, и, с точки зрения пользователя, работа в случае такого “cluster takeover” продолжается “прозрачно”, без необходимости ручной перенастройки на серверах и клиентах (хотя, конечно, производительность и падает, ведь теперь один контроллер работает “за двоих”).</p>
<p>Устанавливаемые в базовый конструктив диски могут быть либо SAS, либо SATA. Системы семейства FAS2000 впервые начали использовать диски SAS, так как ранее системы FAS использовали диски FibreChannel (FC). ??спользование дисков с интерфейсом SAS позволило несколько снизить стоимость системы, однако не в ущерб надежности. Опубликованные данные говорят о том, что применяемые диски SAS и такие же FC отличаются лишь контроллером и типом интерфейсного разъема. Надежность и быстродействие их идентичны.</p>
<p>Такая система продается в двух вариантах “набивки”, на 12 дисков, и на 20 дисков.</p>
<p>Предположим, вы выбрали конфигурацию на 12 дисков. К примеру, вы выбрали диски SAS 450GB 15K, и посчитали, что 12 дисков дадут вам 5.4TB пространства, чего вам замечательно как раз на все и хватит, и при этом не обратили внимание на предупреждения продававшего вам систему специалиста NetApp или его партнера.</p>
<p>“Неприятности” начнутся на этапе первоначальной установки.</p>
<p>Так как наша система кластерная, и имеет два независимых контроллера, нам надо разделить диски между контроллерами. Если мы делим их поровну, то каждому контроллеру достается по 6 дисков.</p>
<p>Теперь на этих 6 дисках мы создаем RAID-ы. Допустим мы выбираем тип RAID по умолчанию, так называемый RAID-DP, нетапповский вариант RAID-6, но без потерь производительности и быстродействия, характерных для “обычного” RAID-6. В случае дисков SATA это, на сегодня, единственно приемлемый тип, но и в случае SAS это вполне разумный выбор.</p>
<p>При создании aggregate и RAID из наших 6 дисков вычтется один (в случае RAID-4) или два (в случае RAID-DP) диска на хранение parity. Кроме этого, каждому контроллеру надо выдать один диск hot spare.</p>
<p>??того, мы получаем из 12 дисков два RAID по <strong>3</strong> usable диска в каждом. То есть, в случае выбора дисков SAS 450GB: 3&#215;450GB = 1350GB на каждом из контроллеров. Обратите внимание, объединить их, например, чтобы записать на них 2.7TB “одним куском” не получится, только двумя кусками по 1.35TB.</p>
<p><a href="/pics/RAIDeff1.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="RAID-eff-1" border="0" alt="RAID-eff-1" src="/pics/RAIDeff1.png" width="504" height="319" /></a> </p>
<p>На рисунке коричневым показаны диски parity для контроллеров A и B, зеленым – hot spare, и синим – диски данных. Обведен красным диски контроллера А, синим – контроллера B.</p>
<p>Для новичков в NetApp, а именно к таким обычно и попадают обычно младшие модели NetApp с небольшим базовым количеством дисков, результат неожиданный, и, что уж говорить, если начистоту, не особо приятный.</p>
<p>Тем не менее <em>“Ну ужас, да. Но не “ужас-ужас”</em>, как говорила героиня известного анекдота.</p>
<p>Говоря начистоту, никто из наши конкурентов не рассматривает иные типы RAID кроме RAID-10 в качестве основы для хранения primary data, то есть активных рабочих данных, будь то базы данных SQL, почтовая база Exchange или хранилища виртуальных машин.</p>
<p>Поэтому, гипотетический <strike>простой стиральный порошок</strike> сторадж на 12 дисков, какой-нибудь <em>другой компании</em>, при выборе RAID-10, даст ровно тот же результат в 50% usable от общего объема. При этом, прошу отметить, RAID-DP объективно надежнее, практически такой же быстрый, и мы получаем с ним еще и два hotspare диска.</p>
<p>Но самое интересное получается дальше. </p>
<p>Если мы захотим теперь расширить емкость нашего FAS2050, добив его дополнительными 8 дисками до 20 штук в базовом конструктиве, то мы сможем <strong>все эти диски</strong> добавить как диски данных. </p>
<p>В то время как в “обычном сторадже”с RAID-10, в usable будут снова <strong>только половина</strong>.</p>
<p><a href="/pics/RAIDeff2.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="RAID-eff-2" border="0" alt="RAID-eff-2" src="/pics/RAIDeff2.png" width="504" height="320" /></a> </p>
<p>Как видите, с увеличением количества дисков в системе, эффективность использования пространства дисков у NetApp возрастает.</p>
<p>Но это не предел. </p>
<p>Максимальный размер одного RAID для дисков SAS и FC в системах хранения NetApp допускается до 28 дисков*. Рекомендуемая величина (делать “очень длинный RAID” по разным причинам не самая лучшая идея) – 16 дисков.&#160;&#160;&#160; <br />&#160;<a href="/pics/RAIDeff3.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="RAID-eff-3" border="0" alt="RAID-eff-3" src="/pics/RAIDeff3.png" width="504" height="452" /></a> </p>
</p>
<p>Если мы добавим дисковую “полку” расширения к нашей системе, мы сможем довести соотношение usable к raw до <strong>82%</strong>! ??з 34 купленных дисков, мы можем отдать под данные целых 28! При этом не поступившись ни надежностью, ни быстродействием.&#160; <br />Результат более чем впечатляющий.&#160; </p>
<p><strong>Выводы очевидны</strong>.</p>
<ul>
<li>Чем больше дисков в системе у NetApp, тем выше эффективность их использования. </li>
<li>”Побочный” расход дисков на системах NetApp довольно велик для систем с небольшим количеством дисков, но почти не увеличивается при дальнейшем их добавлении. </li>
<li>??збегайте покупать системы NetApp с дисками “впритык” (особенно небольшие), обязательно при покупке уточните вопрос, сколько в результате получится usable space, чтобы избежать неприятных сюрпризов на этапе пусконаладки.</li>
</ul>
<p>&#160;</p>
<p>&#8211;<br />
 <font size=-1>* Один aggregate (и тома на нем) могут располагаться поверх множества независимых RAID-групп (16+16+16…). В пределах заданного при создании aggregate размера RAID, диски добавляются в него, по достижению заданного размера (например 16 дисков) начинается новый. Текущий лимит на размер aggregate/тома для всех систем под ONTAP 7G (кроме 2020) - 16TB</font></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../tag/techtalk/index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../363/trackback.html#comments" title="Комментарий к записи Про Usable Space на примере NetApp FAS2050A">Комментарии (5)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-351">
				<h2 class="posttitle"><a href="../../351/trackback.html" rel="bookmark" title="Permanent Link to NetApp и Cisco, некоторые подробности">NetApp и Cisco, некоторые подробности</a></h2>
				<div class="postmetadata">20 Август 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>NetApp и Cisco давно связывают многие и просто хорошие отношения, и бизнес-инициативы. Недавно был опубликован очередной отчет в success stories.</p>
<p><a href="http://media.netapp.com/documents/cisco.pdf">http://media.netapp.com/documents/cisco.pdf</a></p>
<p>Cisco перевела свыше петабайта своих стораджей под БД Oracle на 4 штуки NetApp FAS6070C по FC и NFS, и за 8 месяцев сэкономила в терминах TCO около 8 миллионов долларов на электропитании и стоимости хранения, и в ближайшее время ожидается еще около 10 миллионов экономии при развертывани новых баз.</p>
<p>67 инстансов (backend Oracle 9.2, 10.2 и frontend 11i), размером некоторых до 30TB, на 22 серверах HP-UX,  с применением thin provisioning и дедупликации удалось сократить в объемах storage footprint на 67 процентов.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/cisco.html" rel="tag">cisco</a>, <a href="../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../tag/story.html" rel="tag">story</a><br />					Раздел: <a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../351/trackback.html#comments" title="Комментарий к записи NetApp и Cisco, некоторые подробности">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-341">
				<h2 class="posttitle"><a href="../../341/trackback.html" rel="bookmark" title="Permanent Link to Проблемы и решения Usable Space. Часть 5.">Проблемы и решения Usable Space. Часть 5.</a></h2>
				<div class="postmetadata">17 Август 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Предыдущие посты серии:</p>
<p><a href="../../269/trackback.html">Первый</a><br />
<a href="../../286/trackback.html">Второй</a><br />
<a href="../../338/trackback.html">Третий</a><br />
<a href="../../339/trackback.html">Четвертый</a></p>
<p>??так, aggregate созданы, а на них созданы, в свою очередь, тома (volumes).<br />
&#8220;Том&#8221; (Volume) есть основной элемент структуры хранения NetApp.<br />
Вся информация, и все вышележащие структуры данных, такие как &#8220;сетевые шары&#8221; и LUN-ы располагаются внутри &#8220;тома&#8221;.<br />
В частности именно на том действуют снэпшоты.</p>
<p>На каждом томе можно создать 254 снэпшота. С учетом максимального количества томов, возможных на системе, получается суммарно около 51 тысячи. Впрочем это скорее теоретическая величина, поэтому заостряться на ней не будем, что же касается снэпшотов то вам их, я полагаю, хватит в любом случае. Напомню, что решения, называющие себя &#8220;снэпшот&#8221;, у конкурентов обычно заметно ограничивают их количество<del datetime="2009-08-26T08:46:38+00:00"> в 14-30</del> на всю систему в целом (см. комментарии). Такое ограничение вызвано не в последнюю очередь тем, что использование snapshots у таких систем <a href="http://blogs.netapp.com/databases/WindowsLiveWriter/image_19.png">резко влияет на производительность</a>, и, обычно, снэпшоты на них массово просто не применяются, так как весьма <a href="http://blogs.netapp.com/dave/2008/02/controversy-net.html">значительно &#8220;сажают&#8221; производительность системы в целом</a>.</p>
<p>Раз мы добрались до тома и его снэпшотов, позвольте подробнее остановиться на непростой, и вызывающей множество непонимания теме &#8220;резервирования&#8221; или snapshot reserve.</p>
<p>Когда-то, давным давно, когда NetApp был только NAS системой, было эмпирическим путем определено количество места, которые отводятся и резервируются под снэпшоты, в 20% от общего объема тома. То есть, для простоты понимания на конкретном примере: из тома в 100MB на блоки, зафиксированные в снэпшоте, мы отводим 20MB (на основные данные остается, соответственно, 80MB).</p>
<p>Для правильного понимания того, как работает резервирование, стоит нарисовать вот такой рисунок:</p>
<p><a href="/pics//snapreserve-pic1.png"><img src="/pics//snapreserve-pic1-215x300.png" alt="" title="snapreserve-pic1" width="215" height="300" class="alignnone size-medium wp-image-348" /></a></p>
<p>В ней, для простоты изображения и понимания, данные, записываемые на том, прирастают снизу.</p>
<p>Блоки, попавшие в снэпшоты, прирастают сверху.</p>
<p>Граница &#8220;резерва под снэпшоты&#8221; это линия, отделяющая верхние 20% емкости, в которых прирастают (условно сверху вниз) данные снэпшотов.<br />
При этом, граница эта &#8220;проходима&#8221; сверху вниз, но не снизу вверх. То есть, если случилось так, что снэпшотов создалось больше, чем на 20% резерва, например на 25, то будет заняты &#8220;сверху&#8221; 20, и плюс еще кусочек на 5% &#8220;сверху&#8221; от активного тома.</p>
<p><a href="/pics//snapreserve-pic2.png"><img src="/pics//snapreserve-pic2.png" alt="" title="snapreserve-pic2" width="215" height="300" class="alignnone size-medium wp-image-350" /></a></p>
<p>Однако, когда мы попытаемся записать активных данных больше 80MB на 100MB-том с резервом в 20%, даже если это резерв и не используется снэпшотами, мы получим сообщение о нехватке места. То же самое произойдет и если двигающиеся &#8220;навстречу&#8221; данные &#8220;активной файловой системы&#8221; и снэпшотов встретятся. </p>
<p><a href="/pics//snapreserve-pic3.png"><img src="/pics//snapreserve-pic3-215x300.png" alt="" title="snapreserve-pic3" width="215" height="300" class="alignnone size-medium wp-image-349" /></a></p>
<p>Перед этим система будет сыпать алертами о исчерпании места, например в уже рассмотренном случае, когда снэпшоты &#8220;вылезли&#8221; из пространства резерва, в сообщении будет говориться о &#8220;заполненности тома на 105%&#8221;. Проценты свыше 100 это как раз то, насколько из резерва вылез хвост объема снэпшотов.</p>
<p>Решить проблему можно удалив часть, возможно уже ненужных снэпшотов, при этом блоки, ими занятые, освобождаются, и поступают &#8220;в распоряжение&#8221; активной файловой системы.</p>
<p><em>Можно ли изменять величину снэпрезерва?</em> Разумеется да.<br />
<em>Можно ли поставить ее в 0%?</em> Да.<br />
<em>Отключит ли это возможность создавать снэпшоты на томе?</em> Нет, просто снэпшоты сразу будут занимать место в пространстве &#8220;активной файловой системы&#8221; тома. Представьте, что граница с рисунка поднята до упора вверх, но она по прежнему проходима для снэпшота, растущего сверху вниз.<br />
<em>Чем это грозит?</em> Да по сути ничем, просто вам надо будет либо не пользоваться снэпшотами (опрометчивый, но имеющий право на существование способ использования стораджа NetApp), либо внимательно контролировать заполнение тома и величину пространства, занятую снэпшотами, чтобы они случайно не исчерпали собой доступное для данных место.<br />
Зачем вообще нужно это резервирование? Ну это просто удобно. Сисадмин системы хранения знает, что у него всегда есть специальный запас места для создания снэпшотов, что туда никто кроме них не залезет и не займет, и снэпшоты, пока это место не переполнится, всегда на томе будет где создать. То есть это просто такое средство немного облегчить жизнь и снизить количество мест, которые надо контролировать.
</p>
<p>Традиционно решение ставить snapreserve в 0% применяется при использовании системы NetApp в качестве чистого SAN, когда на volume создается LUN, равный ему по размерам, а создание снэпшотов не используется, и не планируется.<br />
Однако чаще для такой конфигурации, в особенности когда планируется _использовать_ снэпшоты, рекомендуется устанавливать резервирование в 100%. Тогда, даже в самом наихудшем случае, когда все блоки LUN-а изменены, то места на снэпшот хватит.</p>
<p>Я уже писал подробно про этот вопрос в посте про использование <a href="../../233/trackback.html">&#8220;Fractional Reserve&#8221;</a>.<br />
Там же я рассказывал про другой способ решения проблемы снэпшота для тома с LUN - автоматическое увеличение тома, опция &#8220;autogrow&#8221;, в том случае если на aggregate, где он расположен, есть свободное пространство.<br />
Вы можете не резервировать место при создании тома, а просто в свойствах тома сказать, что, когда понадобится, он может расти, занимая под себя свободное место в aggregate.</p>
<p>??так, мы создали том, и задали ему snapshot reservation ту, какую захотели, например 20, или 15% в случае планов использования данного тома под хранение файлов (NAS), 0 или 100%, или определили fractional reserve, опции autogrow и autodelete, при использовании его для размещения на нем LUN-а.</p>
<p>&#8230;и почти добрались до конца. Теперь давайте посмотрим, что же у нас получилось с usable.<br />
Окончание (надеюсь) в следующий понедельник (надеюсь).</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../tag/techtalk/index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../341/trackback.html#comments" title="Комментарий к записи Проблемы и решения Usable Space. Часть 5.">Комментарии (5)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-354">
				<h2 class="posttitle"><a href="../../354/trackback.html" rel="bookmark" title="Permanent Link to NetApp и VMware VI 3 Best Practices на русском">NetApp и VMware VI 3 Best Practices на русском</a></h2>
				<div class="postmetadata">14 Август 2009, 15:02 <!-- от  --></div>
				<div class="postentry">
					<p>Наконец то дошел до публикации мой перевод Руководства по наилучшим методам  использования и настройки систем хранения NetApp для виртуальных инфраструктур VMware VI версии 3.<br />
Это совместная работа специалистов NetApp и VMware, поможет использующим VMware с этими СХД, впрочем в работе рассматривается много вопросов и &#8220;аппаратно-независимых&#8221;, которые будут полезны при использовании и не только NetApp, например организацию и настройку многопутевых подключений ethernet-системы хранения (iSCSI, NFS) к серверам фермы VMware VI с помощью транкинга.</p>
<p>Шел он к публикации долго. Настолько долго, что за это время уже успел выйти следующий документ, по работе с VSphere (VI 4). Но тут уж не моя вина. Пока не ясно, будем ли мы готовить новый перевод, но если - обязательно сообщу.</p>
<p>По крайней мере, как я знаю, это единственная такая инициатива на русском языке среди производителей систем хранения.</p>
<p>Читать тут:<br />
<a href="http://www.netwell.ru/production/techbiblioteka.php">http://www.netwell.ru/production/techbiblioteka.php</a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/best-practices.html" rel="tag">best practices</a>, <a href="../../tag/netapp/index.html" rel="tag">netapp</a>, <a href="../../tag/vmware/index.html" rel="tag">vmware</a>, <a href="../../tag/news/index.html" rel="tag">новости</a><br />					Раздел: <a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../354/trackback.html#comments" title="Комментарий к записи NetApp и VMware VI 3 Best Practices на русском">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-344">
				<h2 class="posttitle"><a href="../../344/trackback.html" rel="bookmark" title="Permanent Link to Если бы вендоры систем хранения были бы производителями автомобилей">Если бы вендоры систем хранения были бы производителями автомобилей</a></h2>
				<div class="postmetadata">13 Август 2009, 8:24 <!-- от  --></div>
				<div class="postentry">
					<p>Традиционное &#8220;четверговое&#8221; несерьезное. Перевод. Ссылка на автора в конце.</p>
<p>Если бы вендоры систем хранения были бы производителями автомобилей, то кто был бы кем?..</p>
<p><strong>EMC это Mercedes-Benz</strong><br />
Большие. Дорогие. Мощные. Многие говорят, что они - лучшие, но кое-кто поговаривает, что король-то одет как-то&#8230; не очень. Так или иначе, но вы хотите это купить. Но что случилось со всеми этими странными моделями и брендами? Даже модели нижнего уровня стоят вдвое против обычной цены у других, и так трудно сбить ее, даже когда так много конкурентов ходят вокруг… Некоторые думали, что покупка компании из нижнего и массового сегмента (Iomega) &#8220;понизит&#8221; бренд, но на деле это приводит к странной синергии, которую мы только начинаем видеть, не говоря уж о понимать.</p>
<p><strong>HDS это Toyota/Lexus</strong><br />
Топовые модели &#8220;кусаются&#8221; ценником, но все же не так, как у &#8220;больших парней&#8221;. В нижнем сегменте - вкусные штучки, но уже не по той цене, как было когда-то. Они эффективны, мощны и богато выглядят, предлагая все что вам необходимо, и даже то, чего нет ни у кого. Но во всем этом нет изюминки. Неважно насколько они хороши, или сколько стоят, у всех возникает подлое чувство, что вы продешевили, или схватили первое же, что вам дали на тест-драйв.</p>
<p><strong>IBM это General Motors</strong><br />
Они когда-то правили всем рынком, и задавали стандарты всему миру. Они изобрели или популяризовали кажется все что есть в отрасли, имеют огромную долю рынка, и огромный оборот. После нескольких спотыканий и падений, вернулись с отличными продуктами и, кажется, настоящими инновациями. Но, кажется, люди просто не хотят больше давать им в кредит. Ну и пусть они продают как сумасшедшие, но куда-то ушел гламур. Время перестройки, и никто не знает, чем она окончится: будут они править миром вновь, или загнутся окончательно?</p>
<p><strong>HP это Ford</strong><br />
Еще одна компания, думающая что она изобрела все на свете, но инсайдеры-то знают, кто сделал это на самом деле. Конечно, он не правят рынком нынче, но несколько раз этим занимались раньше. Некоторые из их лучших технологий были куплены на стороне, но кто говорит, что это плохо? Соберем все вместе, и это будет настоящая сила на рынке, которая захватит его, пока остальные отвернулись.</p>
<p><strong>Sun это Chrysler</strong><br />
Ни у кого нет такого количества фэнов, как у них. Конечно, они никогда не правили миром, но вот уже десятилетие за десятилетием выкатывают все новые и новые клевые продукты. Все уже сбросили их со счетов, но они всегда возвращаются с чем-нибудь интересным. ?? тогда реалии бизнеса сбивают их с ног. Будет еще один выход на сцену, или на этот раз уже все?</p>
<p><strong>Dell это Hyundai</strong><br />
У них есть широкий спектр предложений, от хороших экономичных моделей, до почти-люксовых, но люди часто обходят или игнорируют их. Может быть это оттого, что основной их бизнес идет с людьми, относящимися к их продуктам без особого фанатения, или, может быть, оттого, что они на рынке (относительно) недавно. Но смотрите внимательно, их новые штуки на подходе, и  очень скоро они могут стать реальным вызовом для рынка!</p>
<p><strong>NetApp это Honda</strong><br />
Они уже не такие недорогие, как были когда-то, но они показывают, что вы можете сделать многое без излишнего расширения (over-extending yourself). Они упорно отказываются делать что-то также как делают все, и продолжают добавлять штучки и усовершенствования до тех пор, пока не становятся реальными конкурентами даже для &#8220;больших парней&#8221;. Если вы спросите их об этом откровенно, они укажут на эту компанию, как на главную для себя угрозу.</p>
<p><strong>3PAR это BMW</strong><br />
Спросите любого владельца, и вы услышите оду, о том, какие они замечательные. Конечно, они дорогие, но также хороши, как лидеры рынка, если не лучше! Они по прежнему небольшая компания, пытающаяся выжать максимум из небольшого набора базовых узлов. Все впечатлены, что они остаются самостоятельными и независимыми так долго, и аналитики продолжают предсказывать, что их скоро купят!</p>
<p><strong>BlueArc это Jaguar</strong><br />
У них есть только несколько моделей, и они предлагают убойную производительность за немалые деньги. Некоторые их клиенты никогда не приобретут больше ничего другого, но остальной мир скребет в затылке и гадает, кто их купит в следуюший раз и когда.</p>
<p><strong>Compellent это Mazda</strong><br />
Они делали какие-то странные штуки ранее, но доказали жизнеспособность.<br />
Они не подойдут любому, но идеальны для некоторых определенных ситуаций.<br />
Хотя их доля рынка невелика, о них продолжают писать необычно много в прессе, за их функциональную необычность и высокую производительность. Но сможет ли этот маленький игрок выжить самостоятельно?</p>
<p><strong>Pillar это Tesla</strong><br />
Великолепны! Вот все, что можно сказать, с тех пор, как они сделали эту свою уникальную штуку. Но как-то трудно найти кого-то, кто бы ей пользовался, и, кажется, они больше заняты поисками инвесторов, чем самим продуктом.</p>
<p><strong>Xiotech это Nissan</strong><br />
Даже их клиенты в целом не слишком впечатлены, но все согласны, что они крепкие и надежные. Но они работают над некоторыми штуками, которые никому не показывают пока, и, может быть, это будет вторым дыханием!</p>
<p><strong>Nexsan это Kia</strong><br />
Они дешевые и прочные, и держатся молодцом. Но пресса и аналитики всегда их игнорируют…</p>
<p><strong>NEC это Mitsubishi</strong><br />
Вы забыли, что они что-то еще делали? Нет, правда, хорошо продаются, и некторые на самом деле их любят. Правда, вам надо взглянуть. Эй, погодите, не уходите!</p>
<p><strong>Texas Memory Systems это Lotus</strong><br />
Вы скорее всего столкнетесь с ними, работая с другим вендором, но они предлагают абсолютно крутейшую производительность, если у вас есть на нее деньги. Но как долго продержится такой крохотный нишевой производитель?</p>
<p><strong>Violin это Spyker</strong><br />
Ктооо? Кто-нибудь видел это вживую вообще?</p>
<p>Взято тут: http://blog.fosketts.net/2009/08/07/storage-vendors-automakers/</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/justread.html" rel="tag">justread</a><br />					Раздел: <a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../344/trackback.html#comments" title="Комментарий к записи Если бы вендоры систем хранения были бы производителями автомобилей">Комментарии (4)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-345">
				<h2 class="posttitle"><a href="../../345/trackback.html" rel="bookmark" title="Permanent Link to RAID-5 - must die!">RAID-5 - must die!</a></h2>
				<div class="postmetadata">10 Август 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Да уже и не must, а почти что almost.</p>
<p>Еще несколько слов аргументации за переход к RAID-6, тем, у кого он не тормозит, не будем показыват пальцем, но: &#8220;Есть такие вендоры!&#8221; ;).<br />
Да, согласен, RAID-10 тоже вполне может пережить отказ двух дисков, если вам повезет, что это произойдет в разных половинах &#8220;зеркала&#8221;. Но только в этом случае.</p>
<p>&#8212;&#8212;&#8212;&#8212;&#8212;<br />
RAID 5 появился в 1987 году, и был вполне адекватен решаемым задачам на протяжении следующих 15 лет непрерывного роста. Обычный размер диска в 1987 был всего 21MB, да, именно МЕГАбайта, и скорость вращения была 3600 RPM. На протяжении следующих 20 лет, диски выросли до 1TB (в 50 тысяч раз больше, но только вдвое-вчетверо в скорости вращения). Этот огромный рост привел к проблеме и продемонстрировал ущербность данного уровня RAID. </p>
<p>Проблема заключается во времени, которое уходит на перестроение большого по объему RAID, которое может исчисляться днями. Это может привести вас к проблеме выхода из строя второго диска на том же RAID, в то время, как процесс ребилда еще не завершился. Величина под названием Annual Failure rate (AFR) для дисков становится лучше год от года, но это не устраняет проблему продолжающегося роста времени ребилда. Другая проблема состоит в том, что в процессе ребилда нагрузка на диски существенно возрастает, что, в свою очередь, увеличивает вероятность отказа, так что процесс ребилда сам по себе может быть для дисков еще опаснее<strong>*1</strong> (до 2.5 раз). </p>
<p>Допустим, AFR (Annual Failure Rate, &#8220;вероятность отказа&#8221;) равен 5%<strong>*2</strong>, и время ребилда равно 1 дню. Мы используем 9-дисковый RAID-5 (8+1). Шансы получить второй дисковый отказ за это время равен 1/365 x 5% x 8 x 2.5= 0.25%. Допустим, у нас используется 100 таких групп по 9 дисков в RAID 5 в системе (900 дисков). Я могу ожидать, что получу 45 отказавших дисков в течении года. Во время прохождения ребилда я &#8220;бросаю кости&#8221;. У меня есть 1 шанс из 400 получить за время ребилда отказ второго диска, приводящий к потере данных, и я &#8220;бросаю&#8221; эти кости 45 раз в год. В течении 5 лет срока службы это означает вероятность 225 из 400 получить катастрофический сбой с потерей данных. </p>
<p>Давайте рассмотрим теперь тот же сценарий, но удвоим размер дисков, и понизим  AFR (Annual Failure Rate, &#8220;вероятность отказа&#8221;) с 5% до 4% (имитировав развитие рынка HDD и выход новых боле емких моделей дисков). Теперь у нас уходит два дня на ребилд, так как удвоился объем, и формула выглядит так: 2/365 x 4% x 8 x 2.5= 0.4%. Те же 100 RAID-групп, те же цифры предположений, но риск двойной ошибки вырос до 1 к 200, хотя я &#8220;бросаю кости&#8221; только 36 раз в год. На протяжении пятилетнего срока службы это означает шанс 180 из 200 получить катастрофический отказ. </p>
<p><a href="/pics//raid-failure-rate.jpg"><img src="/pics//raid-failure-rate-300x141.jpg" alt="" title="raid-failure-rate" width="300" height="141" class="alignnone size-medium wp-image-346" /></a></p>
<p>Это выглядит противоречащим здравому смыслу, но тем не менее это так. Да, диски становятся надежнее, но при этом, тем не менее, риск аварии возрастает.</p>
<p>Примечания:<br />
<em><strong>*1</strong>: http://www.snia.org/education/tutorials/2007/fall/storage/WillisWhittington_Deltas_by_Design.pdf, см. слайд 50<br />
<strong>*2</strong>: Официально опубликованный вендорский AFR для дисков всегда ниже 1%Однако множество источников называют размер этой величины вплоть до 12%, Можно считать, что величина &#8220;консенсуса&#8221; в данном вопросе находится обычно между 3% и 5%.</em><br />
&#8212;&#8212;&#8212;&#8212;-<br />
Найдено и переведено там:<br />
<a href="http://blogs.netapp.com/msenviro/2009/08/the-raid-10-upsell-fudbeast.html ">http://blogs.netapp.com/msenviro/2009/08/the-raid-10-upsell-fudbeast.html </a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/raid.html" rel="tag">raid</a>, <a href="../../tag/techtalk/index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../345/trackback.html#comments" title="Комментарий к записи RAID-5 - must die!">Комментарии (8)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-332">
				<h2 class="posttitle"><a href="../../332/trackback.html" rel="bookmark" title="Permanent Link to Специалист подобен флюсу - полнота его односторонняя. (с)">Специалист подобен флюсу - полнота его односторонняя. (с)</a></h2>
				<div class="postmetadata">6 Август 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>&#8220;<em>Специалист подобен флюсу - полнота его односторонняя</em>&#8221; сказал классик.<br />
Одной из распространеннейших проблем competitive analisys-а между устройствами конкурирующих фирм заключается в частой слабой компетенции специалистов той или иной компании в &#8220;тонких моментах&#8221; и деталях технологии конкурентов. Хорошо владея особенностями своего железа, и, зачастую слабо чужими (см. эпиграф), в особенности если они хоть чуть-чуть отличаются от &#8220;мэйнстрима&#8221;  &#8220;мэйнстримовых идей&#8221;, как это получается у NetApp, они демонстрируют попытки достижения пределов компетентности, иногда весьма прискорбных.</p>
<p>То для сравнения возьмут какую-нибудь позапрошлую модель конкурентов и сравнят ее со своей текущей, то понастраивают на чужом сторадже что-нибудь этакое, что хоть падай.<br />
По этой причине я всегда с настороженностью и применением поговорки &#8220;Doverjai, no proverjai&#8221; отношусть к такм данным. ?? уж точно почти всегда воздерживаюсь от откровенного &#8220;говнения&#8221; конкурентов. Зачем? Во первых я убежден, что современные технологии достигли таких высот, что в, наверное, 80 процентах случаев разница в enterprise-class системах практически нивелирована, разве вы только используете какие-то особеные, уникальные возможности конкретного оборудования, но у &#8220;мэйнстрима, в отличие от нетаппа, их, на деле, не столь много.<br />
Во вторых, я считаю, что рынок России огромен, и на нем есть место для всех (и еще останется). Так что устраивать тут &#8220;собачий бой в грязи&#8221; на потеху покупающей публике, не даст нужного результата, кроме того, что все в ней изваляются :)</p>
<p>Но это так, лирика.<br />
От себя хочу добавить, что когда вы читаете у меня какие-то не вполне достоверные мнения, в особенности о продуках конкурентов, которые вы знаете, не сомневаюсь, лучше меня, никогда не стсняйтесь мне на это указать, комменты тут есть и открыты даже для openid-пользователей, что позволяет вам оставлять коммнтарии даже не создавая специального логина тут.</p>
<p>Ну так что же о флюсах?</p>
<p>Хороший пример всплыл недавно. С некоторых пор к традиционному &#8220;кусальщику NetApp-а&#8221; в лице Чака Холлиса (EMC) добавились &#8220;корпоративные блоггеры&#8221; HP. В стратегическом смысле это не может не радовать, &#8220;нападают - значит боятся&#8221;, впрочем давно пора, системы хранения NetApp уже не первый год стабильно и последовательно откусывают заметные куски у рынка &#8220;Настоящего FibreChannel&#8221;, чтобы это можо было продолжать публично не замечать.<br />
Но вот уровень компетентности при этом демонстрируемый заствил меня написать этот пост из разряда: &#8220;Посмотри, и никогда так не делай&#8221;.</p>
<p>В посте блоггер HP предьявляет, по его мнению, <noindex><nofollow><a href="http://www.communities.hp.com/online/blogs/datastorage/archive/2009/07/14/are-netapp-performance-claims-logical.aspx">убийственные вопросы</a></nofollow></noindex>, на которые NetApp будет вынужден ответить &#8220;да&#8221;, и вслед за этим, рыдая, на коленях, рвя волосы ползти вслед за кастомерами, и молить их о снисхождении за многолетний обман, раскрытый доблестными и бескорыстными рыцарями из HP.</p>
<p>Вопросы выглядели так, будто, например, какой-нибудь американец 40-х из какого-нибудь штата Алабама, спрашивал бы какого-нибудь современного руководителя: <em>&#8220;А что, правда говорят, я конечно не верю, но все же&#8230; что у вас&#8230; (понизив голос) в компании работают ЧЕРНЫЕ? ?? что они, хе-хе, даже в одних комнатах с некоторыми белыми сидят?&#8221; - &#8220;Ну да&#8221; - отвечают ему недоуменно, &#8220;да, отчего бы нет, работают и сидят&#8221;. &#8220;Слышите! Слышите!&#8221; - взвивается тот - &#8220;Он сам, сам признался! У них - ЧЕРНЫЕ! Все в одной комнате! Какой позор! Никто его не заставлял, видели?! Сам сознался!&#8221;</em>, и никак не может понять равнодушного недоумения, которое встречает его активность.</p>
<p>По видимому для нашего блогера HP ожидаемый ответ &#8220;Да&#8221; на вопросы:</p>
<blockquote><p>
Do you build your LUNs on top of a file system?<br />
Does your file system write only to free block space rather than updating the old blocks?<br />
Do you ship a de-fragmentation tool on every NetApp filer?<br />
Do you use software RAID?</p>
</blockquote>
<p>и так далее, &#8220;убивает&#8221; конурента на корню. ?? он никак не может понять (см. комменты) за что же над ним потешается <noindex><nofollow><a href="http://blogs.netapp.com/shadeofblue/">Алекс Макдоналд </a></nofollow></noindex>из NetApp.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../tag/blogs.html" rel="tag">blogs</a>, <a href="../../tag/competitors.html" rel="tag">competitors</a>, <a href="../../tag/netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;" rel="category tag">цитаты</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../332/trackback.html#comments" title="Комментарий к записи Специалист подобен флюсу - полнота его односторонняя. (с)">1 комментарий</a>									 </div>
			</div>
	
		
		<div class="navigation">
			<div class="alignleft"><a href="08/page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>
		
	
	</div>
	<div id="sidebar">
		<ul>
			
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Автор</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li class="pagenav"><h2>Страницы</h2><ul><li class="page_item page-item-153"><a href="../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul></li>
			<li><h2>Рубрики</h2>
				<ul>
					<li class="cat-item cat-item-89"><a href="../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;">commands</a>
</li>
	<li class="cat-item cat-item-37"><a href="../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;">howto</a>
</li>
	<li class="cat-item cat-item-52"><a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;">justread</a>
</li>
	<li class="cat-item cat-item-51"><a href="../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;">review</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;">techtalk</a>
</li>
	<li class="cat-item cat-item-71"><a href="../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;">tricks</a>
</li>
	<li class="cat-item cat-item-95"><a href="../../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;">utilities</a>
</li>
	<li class="cat-item cat-item-44"><a href="../../category/whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;">whoisho</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;">новости</a>
</li>
	<li class="cat-item cat-item-387"><a href="../../category/opros.html" title="Просмотреть все записи в рубрике &laquo;опрос&raquo;">опрос</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;">переводы</a>
</li>
	<li class="cat-item cat-item-40"><a href="../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;">цитаты</a>
</li>
				</ul>
			</li>

			<li><h2>Архивы</h2>
				<ul>
					<li><a href='../2018/01.html' title='Январь 2018'>Январь 2018</a></li>
	<li><a href='../2015/10.html' title='Октябрь 2015'>Октябрь 2015</a></li>
	<li><a href='../2015/04.html' title='Апрель 2015'>Апрель 2015</a></li>
	<li><a href='../2015/03.html' title='Март 2015'>Март 2015</a></li>
	<li><a href='../2015/01.html' title='Январь 2015'>Январь 2015</a></li>
	<li><a href='../2014/12.html' title='Декабрь 2014'>Декабрь 2014</a></li>
	<li><a href='../2014/11.html' title='Ноябрь 2014'>Ноябрь 2014</a></li>
	<li><a href='../2014/10.html' title='Октябрь 2014'>Октябрь 2014</a></li>
	<li><a href='../2014/09.html' title='Сентябрь 2014'>Сентябрь 2014</a></li>
	<li><a href='../2014/08.html' title='Август 2014'>Август 2014</a></li>
	<li><a href='../2014/07.html' title='Июль 2014'>Июль 2014</a></li>
	<li><a href='../2014/06.html' title='Июнь 2014'>Июнь 2014</a></li>
	<li><a href='../2014/05.html' title='Май 2014'>Май 2014</a></li>
	<li><a href='../2014/04.html' title='Апрель 2014'>Апрель 2014</a></li>
	<li><a href='../2014/03.html' title='Март 2014'>Март 2014</a></li>
	<li><a href='../2014/02.html' title='Февраль 2014'>Февраль 2014</a></li>
	<li><a href='../2014/01.html' title='Январь 2014'>Январь 2014</a></li>
	<li><a href='../2013/12.html' title='Декабрь 2013'>Декабрь 2013</a></li>
	<li><a href='../2013/11.html' title='Ноябрь 2013'>Ноябрь 2013</a></li>
	<li><a href='../2013/10.html' title='Октябрь 2013'>Октябрь 2013</a></li>
	<li><a href='../2013/09.html' title='Сентябрь 2013'>Сентябрь 2013</a></li>
	<li><a href='../2013/08.html' title='Август 2013'>Август 2013</a></li>
	<li><a href='../2013/07.html' title='Июль 2013'>Июль 2013</a></li>
	<li><a href='../2013/06.html' title='Июнь 2013'>Июнь 2013</a></li>
	<li><a href='../2013/05.html' title='Май 2013'>Май 2013</a></li>
	<li><a href='../2013/04.html' title='Апрель 2013'>Апрель 2013</a></li>
	<li><a href='../2013/03.html' title='Март 2013'>Март 2013</a></li>
	<li><a href='../2013/02.html' title='Февраль 2013'>Февраль 2013</a></li>
	<li><a href='../2013/01.html' title='Январь 2013'>Январь 2013</a></li>
	<li><a href='../2012/12.html' title='Декабрь 2012'>Декабрь 2012</a></li>
	<li><a href='../2012/11.html' title='Ноябрь 2012'>Ноябрь 2012</a></li>
	<li><a href='../2012/10.html' title='Октябрь 2012'>Октябрь 2012</a></li>
	<li><a href='../2012/09.html' title='Сентябрь 2012'>Сентябрь 2012</a></li>
	<li><a href='../2012/08.html' title='Август 2012'>Август 2012</a></li>
	<li><a href='../2012/07.html' title='Июль 2012'>Июль 2012</a></li>
	<li><a href='../2012/06.html' title='Июнь 2012'>Июнь 2012</a></li>
	<li><a href='../2012/05.html' title='Май 2012'>Май 2012</a></li>
	<li><a href='../2012/04.html' title='Апрель 2012'>Апрель 2012</a></li>
	<li><a href='../2012/03.html' title='Март 2012'>Март 2012</a></li>
	<li><a href='../2012/02.html' title='Февраль 2012'>Февраль 2012</a></li>
	<li><a href='../2012/01.html' title='Январь 2012'>Январь 2012</a></li>
	<li><a href='../2011/12.html' title='Декабрь 2011'>Декабрь 2011</a></li>
	<li><a href='../2011/11.html' title='Ноябрь 2011'>Ноябрь 2011</a></li>
	<li><a href='../2011/10/index.html' title='Октябрь 2011'>Октябрь 2011</a></li>
	<li><a href='../2011/09/index.html' title='Сентябрь 2011'>Сентябрь 2011</a></li>
	<li><a href='../2011/08.html' title='Август 2011'>Август 2011</a></li>
	<li><a href='../2011/07/index.html' title='Июль 2011'>Июль 2011</a></li>
	<li><a href='../2011/06/index.html' title='Июнь 2011'>Июнь 2011</a></li>
	<li><a href='../2011/05/index.html' title='Май 2011'>Май 2011</a></li>
	<li><a href='../2011/04/index.html' title='Апрель 2011'>Апрель 2011</a></li>
	<li><a href='../2011/03/index.html' title='Март 2011'>Март 2011</a></li>
	<li><a href='../2011/02.html' title='Февраль 2011'>Февраль 2011</a></li>
	<li><a href='../2011/01.html' title='Январь 2011'>Январь 2011</a></li>
	<li><a href='../2010/12.html' title='Декабрь 2010'>Декабрь 2010</a></li>
	<li><a href='../2010/11/index.html' title='Ноябрь 2010'>Ноябрь 2010</a></li>
	<li><a href='../2010/10/index.html' title='Октябрь 2010'>Октябрь 2010</a></li>
	<li><a href='../2010/09/index.html' title='Сентябрь 2010'>Сентябрь 2010</a></li>
	<li><a href='../2010/08.html' title='Август 2010'>Август 2010</a></li>
	<li><a href='../2010/07/index.html' title='Июль 2010'>Июль 2010</a></li>
	<li><a href='../2010/06.html' title='Июнь 2010'>Июнь 2010</a></li>
	<li><a href='../2010/05.html' title='Май 2010'>Май 2010</a></li>
	<li><a href='../2010/04/index.html' title='Апрель 2010'>Апрель 2010</a></li>
	<li><a href='../2010/03/index.html' title='Март 2010'>Март 2010</a></li>
	<li><a href='../2010/02.html' title='Февраль 2010'>Февраль 2010</a></li>
	<li><a href='../2010/01.html' title='Январь 2010'>Январь 2010</a></li>
	<li><a href='12/index.html' title='Декабрь 2009'>Декабрь 2009</a></li>
	<li><a href='11/index.html' title='Ноябрь 2009'>Ноябрь 2009</a></li>
	<li><a href='10.html' title='Октябрь 2009'>Октябрь 2009</a></li>
	<li><a href='09.html' title='Сентябрь 2009'>Сентябрь 2009</a></li>
	<li><a href='08/index.html' title='Август 2009'>Август 2009</a></li>
	<li><a href='07/index.html' title='Июль 2009'>Июль 2009</a></li>
	<li><a href='06.html' title='Июнь 2009'>Июнь 2009</a></li>
	<li><a href='05.html' title='Май 2009'>Май 2009</a></li>
	<li><a href='04.html' title='Апрель 2009'>Апрель 2009</a></li>
	<li><a href='03.html' title='Март 2009'>Март 2009</a></li>
	<li><a href='02.html' title='Февраль 2009'>Февраль 2009</a></li>
	<li><a href='01.html' title='Январь 2009'>Январь 2009</a></li>
	<li><a href='../2008/12.html' title='Декабрь 2008'>Декабрь 2008</a></li>
	<li><a href='../2008/11.html' title='Ноябрь 2008'>Ноябрь 2008</a></li>
	<li><a href='../2008/10.html' title='Октябрь 2008'>Октябрь 2008</a></li>
	<li><a href='../2008/09.html' title='Сентябрь 2008'>Сентябрь 2008</a></li>
	<li><a href='../2008/08.html' title='Август 2008'>Август 2008</a></li>
	<li><a href='../2008/03.html' title='Март 2008'>Март 2008</a></li>
	<li><a href='../2008/02.html' title='Февраль 2008'>Февраль 2008</a></li>
	<li><a href='../2007/12.html' title='Декабрь 2007'>Декабрь 2007</a></li>
	<li><a href='../2007/11.html' title='Ноябрь 2007'>Ноябрь 2007</a></li>
	<li><a href='../2007/10.html' title='Октябрь 2007'>Октябрь 2007</a></li>
	<li><a href='../2007/09.html' title='Сентябрь 2007'>Сентябрь 2007</a></li>
	<li><a href='../2007/08.html' title='Август 2007'>Август 2007</a></li>
	<li><a href='../2007/07/index.html' title='Июль 2007'>Июль 2007</a></li>
	<li><a href='../2007/06.html' title='Июнь 2007'>Июнь 2007</a></li>
	<li><a href='../2007/05.html' title='Май 2007'>Май 2007</a></li>
				</ul>
			</li>

			
					</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a href="../../../feed">Entries (RSS)</a> and <a href="../../../comments/feed">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br />
	Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a> and <a href="http://srinig.com/wordpress/themes/fluid-blue/">Fluid Blue theme</a>.<br />
	<!-- 14 queries. 0.108 seconds. -->
	</div>
</div> <!-- page -->
</body>
</html>
