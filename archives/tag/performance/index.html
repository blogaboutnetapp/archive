<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>about NetApp   &raquo; performance</title>

<link rel="stylesheet" href="../../../wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />
<link rel="alternate" type="application/rss+xml" title="about NetApp RSS Feed" href="../../../feed" />
<link rel="pingback" href="../../../xmlrpc.php.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6" />

</head>

<body>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="../../../index.html" title="about NetApp: Системы хранения данных как предмет разговора">about NetApp</a></h1>
		<p>Системы хранения данных как предмет разговора</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="../../../index.html">
<input type="text" size="20" name="s" id="s" value="Поиск..."  onblur="if(this.value=='') this.value='Поиск...';" onfocus="if(this.value=='Поиск...') this.value='';"/>
</form>
	</div> 
	<!-- Search ends here-->
		
</div>

<div id="navbar">
<ul id="nav">
	<li><a href="../../../index.html">Home</a></li>
	<li class="page_item page-item-153"><a href="../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul>
</div>
<div id="wrapper">

	<div id="content">

	
			<p>Posts tagged &#8216;performance&#8217;</p>

	 		
		<div class="navigation">
			<div class="alignleft"><a href="page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>

						
			<div class="post" id="post-1402">
				<h2 class="posttitle"><a href="../../1402/trackback.html" rel="bookmark" title="Permanent Link to Производительность SMB 3.0 в MS Hyper-V">Производительность SMB 3.0 в MS Hyper-V</a></h2>
				<div class="postmetadata">4 Сентябрь 2014, 11:00 <!-- от  --></div>
				<div class="postentry">
					<p>Некоторые читатели все еще раздумывают о том, насколько производителен SMB 3.0, в сравнении с более привычными FC и iSCSI, в среде Hyper-V. Специально для них NetApp опубликовал короткий отчет со сравнением производительности протоколов на одной и той же конфигурации, отличающейся только способами подключения датасторов.</p>
<p>Результаты показательны:</p>
<p>Это – IOPS (за 100% принят FCP)</p>
<p><a href="/pics//image162.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics//image-thumb54.png" width="644" height="243" /></a></p>
<p>Это – latency.</p>
<p><a href="/pics//image163.png"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="/pics//image-thumb55.png" width="644" height="247" /></a></p>
<p>Полный отчет с описанием конфигурации можно взять и посмотреть тут: <a href="http://www.netapp.com/us/media/tr-4175.pdf">TR-4175 Microsoft Windows Server 2012 Hyper-V Storage Performance: Measuring SMB 3.0, iSCSI, and FC Protocols</a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../hyper-v.html" rel="tag">hyper-v</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="index.html" rel="tag">performance</a>, <a href="../smb.html" rel="tag">smb</a>, <a href="../smb-30.html" rel="tag">smb 3.0</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1402/trackback.html#comments" title="Комментарий к записи Производительность SMB 3.0 в MS Hyper-V">Комментарии (5)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1380">
				<h2 class="posttitle"><a href="../../1380/trackback.html" rel="bookmark" title="Permanent Link to NetApp&ndash;чемпион! :)">NetApp&ndash;чемпион! :)</a></h2>
				<div class="postmetadata">14 Июль 2014, 11:00 <!-- от  --></div>
				<div class="postentry">
					<p>??нтересную визуализацию построили в Silverton Consulting (SCI) для результатов тестов SPC-1</p>
<p><img src="https://communities.netapp.com/servlet/JiveServlet/downloadImage/38-13972-26265/620-437/SANchart.jpg" /></p>
<p>Хотя придиры могли бы придраться, что SPC-1 это, мол, не совсем “OLTP”, и нельзя так их сопоставлять, но мы отметем эти реплики как неорганизованные, ведь общепризнанно, что SPC-1 тест по методике крайне жесткий, в чем-то куда жестче для стораджей, чем традиционный профайл, который принято считать “OLTP” (100% random, 75/25 R/W, 4-8KB block)</p>
<p>Полный текст весьма лестного для NetApp обзора можно посмотреть <a href="http://www.netapp.com/us/media/ar-netapp-fas6240-clustered-san.pdf">тут</a>.</p>
<p>Результаты для SPECsfs2008 также есть в таком, “квадрантном”, представлении, например для <a href="https://communities.netapp.com/servlet/JiveServlet/showImage/38-13972-26260/NFSChart.jpg">NFSv3</a> и <a href="https://communities.netapp.com/servlet/JiveServlet/showImage/38-13972-26261/CIFSchart.jpg">SMB</a>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="index.html" rel="tag">performance</a>, <a href="../spc-1.html" rel="tag">spc-1</a>, <a href="../specsfs2008.html" rel="tag">specsfs2008</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1380/trackback.html#comments" title="Комментарий к записи NetApp&ndash;чемпион! :)">1 комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1337">
				<h2 class="posttitle"><a href="../../1337/trackback.html" rel="bookmark" title="Permanent Link to OnCommand Performance Manager 1.0">OnCommand Performance Manager 1.0</a></h2>
				<div class="postmetadata">7 Апрель 2014, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Я чуть раньше уже упоминал о выходе нового продукта в семействе OnCommand - OnCommand Performance Manager (OPM). Несколько слов про него подробнее.<br />
Это - Virtual Appliance, то есть образ преконфигуренной виртуальной машины, запускаемой в среде VMware ESXi, на базе ядра Linux (2.6.32) и с веб-интерфейсом, и предназначен для анализа и слежения за производительностью кластерной (clustered Data ONTAP) системы хранения. Обратите внимание, системы 7-mode - не поддерживаются, только для Clustered ONTAP.</p>
<p>OPM следит и анализирует состояние производительности кластерной системы хранения, отображая ее состояние на веб-дашборде.</p>
<p><a href="/pics//opmdashboard.jpg"><img src="/pics//opmdashboard-300x165.jpg" alt="" title="opmdashboard" width="300" height="165" class="alignnone size-medium wp-image-1338" /></a></p>
<p>Анализируется и отслеживается несколько ключевых точек и компонентов системы.</p>
<p><a href="/pics//opmanalytics.jpg"><img src="/pics//opmanalytics-300x108.jpg" alt="" title="opmanalytics" width="300" height="108" class="alignnone size-medium wp-image-1339" /></a></p>
<p>На рисунке выше показана потенциальная проблема в data processing.<br />
Тут же можно посмотреть отчет о соответствующем инциденте.</p>
<p><a href="/pics//opmincident-report1.png"><img src="/pics//opmincident-report1-300x264.png" alt="" title="opmincident-report1" width="300" height="264" class="alignnone size-medium wp-image-1341" /></a></p>
<p>?? посмотреть рекомендации по устранению.</p>
<p><a href="/pics//opm-suggested-actions.jpg"><img src="/pics//opm-suggested-actions-300x100.jpg" alt="" title="opm-suggested-actions" width="300" height="100" class="alignnone size-medium wp-image-1342" /></a></p>
<p>В заключение следует отметить, что OnCommand Performance Manager бесплатен для клиентов NetApp, не требует покупки лицензий, и бесплатно доступен для загрузки из support.netapp.com.<br />
Отметьте, что для многовендорных, больших инсталляций сходные задачи решаются другим продуктом, OnCommand Insight, который, будучи значительно более мощным и объемным, а также поддерживающим оборудование разных вендоров в составе IT-инфраструктуры, уже стоит существенных денег. Однако если ваши задачи ограничиваются анализом и контролем производительности одного кластера из контроллеров NetApp FAS, то этот продукт - прекрасный вариант решения.</p>
<p>UPD: В <a href="http://www.cosonok.com/">блоге Видада Коснока</a> очень детальный <a href="http://www.cosonok.com/2014/04/oncommand-performance-manager-10rc1.html">Quick Install Guide</a>, который поможет разобраться с установкой.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../cluster-mode/index.html" rel="tag">cluster-mode</a>, <a href="../clustered-ontap.html" rel="tag">clustered ontap</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../oncommand.html" rel="tag">oncommand</a>, <a href="index.html" rel="tag">performance</a><br />					Раздел: <a href="../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1337/trackback.html#comments" title="Комментарий к записи OnCommand Performance Manager 1.0">Комментарии (3)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1326">
				<h2 class="posttitle"><a href="../../1326/trackback.html" rel="bookmark" title="Permanent Link to FAS8040 2-node cluster: результаты SPC-1">FAS8040 2-node cluster: результаты SPC-1</a></h2>
				<div class="postmetadata">25 Февраль 2014, 18:58 <!-- от  --></div>
				<div class="postentry">
					<p>Ну вот, и <a href="http://www.storageperformance.org/results/benchmark_results_spc1/#netapp_spc1">результаты SPC-1</a>, то есть для &#8220;тяжелого&#8221; блочного доступа, подоспели.<br />
<del datetime="2014-02-26T15:11:41+00:00">Правда, пока не готов Full Disclosure Report</del>, а есть только <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/NetApp/A00141_NetApp_FAS8040_2node-cluster/a00141_NetApp_FAS8040_2-node-cluster_SPC-1_executive-summary.pdf">Executive Summary</a>, в котором многие важные детали опускаются.<br />
Но посмотреть все равно интересно. <del datetime="2014-02-26T15:05:28+00:00">Ждем выкладки детального отчета</del>. -  Опубликован и <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/NetApp/A00141_NetApp_FAS8040_2node-cluster/a00141_NetApp_FAS8040_2-node-cluster_SPC-1_full-disclosure-report.pdf">Full Disclosure Report</a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../benchmark/index.html" rel="tag">benchmark</a>, <a href="../fc.html" rel="tag">fc</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="index.html" rel="tag">performance</a>, <a href="../spc-1.html" rel="tag">spc-1</a><br />					Раздел: <a href="../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>,  <a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1326/trackback.html#comments" title="Комментарий к записи FAS8040 2-node cluster: результаты SPC-1">Комментарии (31)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1279">
				<h2 class="posttitle"><a href="../../1279/trackback.html" rel="bookmark" title="Permanent Link to Несколько слов про параметр $/IOPS в SPC-1">Несколько слов про параметр $/IOPS в SPC-1</a></h2>
				<div class="postmetadata">12 Август 2013, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Раз уж тут мы много поговорили про бенчмарк SPC-1, хотелось бы добавить, в завершение темы, еще несколько слов.</p>
<p>В этом бенчмарке, кроме, так сказать, самого результата в достигнутых IOPS, а также сопутствующих ему параметров, таких как latency, есть в принципе очень полезная метрика – результат “цены за IOPS”, или $/IOPS. Этот параметр позволяет оценить, во сколько обошелся результат в денежном выражении. Методика SPC-1 требует раскрывать стоимость протестированой конфигурации. К сожалению, что считать “стоимостью” системы определено недостаточно четко, что тут же стало предметом, если не открытого мошенничества, то достаточно жульнических махинаций многих вендоров. Дело в том, представляя результаты своих систем на тест, они искусственно занижают ее цену, указывая эту цену с произвольной скидкой с “цены листа” (listprice), и, тем самым, уменьшая значение “в числителе”, улучшают результаты $/IOPS совершенно искусственным образом.</p>
<p>Чтобы было понятно, о чем идет речь, несколько слов об общепринятом ценообразовании в “энтерпрайзе”. Принципы ценообразования тут существенно отличаются от, скажем так, массового компьютерного рынка, где торгуют “по прайслисту”, и больше напоминают восточный базар.</p>
<p>Многие, впервые сталкивающиеся с ценами в энтерпрайз-сегменте бывают удивлены и разозлены тем, как сложно бывает, порой, получить цену продукта, и какие высокие цены получаются, когда их все же удается раздобыть. Дело тут в том, что на здешнем “базаре” существует некая условная цена, которая называется “листпрайс”. Это, еще раз отмечу, <em>условная</em>, в значительной мере фиктивная цена, которая фигурирует в документах, и является, на практике, “максимально возможной” ценой. Маленький секрет тут в том, что за эту цену никто ничего не покупает <strike>(ну, если вы не полный лох)</strike>.</p>
<p>Когда вы приходите со своим интересом в компанию-партнера какого-либо вендора, и просите цены на вот такую вот конфигурацию, вам, в первый раз, назовут вот эту вот, в значительной мере несуразно высокую цену. Тут, если вы опытный покупатель, и знаете все эти маленькие секреты (в особенности если вы были в Турции, Египте, ??ндии и прочих странах с хорошо развитой “базарной” кульурой), вы не будете возмущаться, и гордо уходить, хлопая дверью, рассказывая потом в блогах про “диск SATA за полторы штуки долларов”. Нет, вы вежливо выслушаете предложенную цену, покажете свою заинтересованость, посетуете на высокую цену (продавец сочувственно покивает, цена и в самом деле высока), и предложите <em>обсудить вопрос цены</em>. Дальше начинается диалог и игра терпений, в которой выигрывает самый терпеливый и настойчивый, а это терпение вознаграждается разницей, между первоначально названной ценой, и той, за которую вы в результате ваш товар покупаете.</p>
<p>Я уже как-то, было дело, писал текст, несколько лет бывший очень популярным на этом блоге – <a href="../../290/trackback.html">“Как просить и получать скидки”</a>. Рекомендую, в особенности, если вы только недавно на наш базар пришли. :)</p>
<p>Хочу пояснить, что я, может быть, тоже не в восторге от всей этой, откровенно говоря, дурацкой схемы. Но вот так уж сложилось, что в энтерпоайзе, как и на восточном базаре,&#160; не торгуют по ценнику, тут нельзя приехать в супермаркет, погрузить в тележку midrange-сторадж на шесть дисковых полок SAS, и проехать на кассу. Ну, вот – нет такого. Не мы это все затеяли, не нам и заканчивать, и вообще в чужом монастыре, раз уж пришли, свои правила не устанавливают. Вот так тут торгуют по дурацки всю жизнь, смиритесь :-/ Вы их не переделаете своим возмущением и требованием “показать прайс-лист”. :)</p>
<p>Как же все это соотносится с темой топика, спросите вы? Дело в том, что, да, никто не покупает за цену прайслиста, это некая бумажная, “мнимая величина”. Однако это, фактически, единственная “твердая” цена, существующая в природе. Кстати, несмотря на свою мнимость, она очень даже участвует в бюджетных расчетах вендора, и некоторых других местах. Все остальные цены, а также величина дисконта – индивидуальны, и зависят от множества факторов. Дисконт может быть большим или маленьким, но он непостоянен, нефиксирован, он зависит от разных факторов, и индивидуален для клиента. Единственная зафиксированная цена в данном случае – это пресловутый “листпрайс”.</p>
<p>Ситуация, в которой Вендор А показывает на тесте в спецификации цену листпрайса, а Вендор B – цену листпрайса с дисконтом 45%, и считает от нее результат $/IOPS, напоминает мне соревнования по бегу, в которой один спортсмен пробегает сотню за 10 секунд, а другой – за 4, но если у первого под “сотней” – понимается сотня метров, то у второго – сотня футов (ну или сто метров с дисконтом 70% от листа ;). Можно ли считать второго – рекордсменом и победителем только на основании того, что у него результат его “забега” – меньше, чем у первого? По-моему ответ очевиден.</p>
<p>К сожалению, спецификация с ценами в бенчмарке SPC-1 находится в длинном <strike>и нудном</strike> Full Disclosure Report, а результат $/IOPS, из него получаемый – в самом начале Executive Report, в красивой цветной табличке, на которую все смотрят в первую очередь. Это, к сожалению, порождает повод для, ну, скажем так, не вполне честного поведения в “серой” зоне. Официальное описание бенчмарка не определяет то, какую цену вендор обнародует и берет при расчете, нужно только указать полную спецификацию, поэтому на совести вендора остается то, как именно он эту цену показывает. Не удивительно, что многие пользуются этой лазейкой, чтобы показать результат в $/IOPS лучше, чем у конкурента, особенно если конкурент, как честная маша, пишет в своем расчете единственную свою официальную (и самую высокую по факту) цену – листпрайс.</p>
<p>Поэтому, сравнивая системы по $/IOPS, всегда обращайте внимание на то, сколько метров было в стометровке, которую пробежал участник с таким выдающимся результатом. :)</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../benchmark/index.html" rel="tag">benchmark</a>, <a href="../iops.html" rel="tag">iops</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="index.html" rel="tag">performance</a>, <a href="../spc-1.html" rel="tag">spc-1</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1279/trackback.html#comments" title="Комментарий к записи Несколько слов про параметр $/IOPS в SPC-1">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1243">
				<h2 class="posttitle"><a href="../../1243/trackback.html" rel="bookmark" title="Permanent Link to Сборка fio под Windows x64">Сборка fio под Windows x64</a></h2>
				<div class="postmetadata">4 Февраль 2013, 13:49 <!-- от  --></div>
				<div class="postentry">
					<p>Одним из самых перспективных средств тестирования дискового перформанса на сегодняшний день является утилита <a href="http://git.kernel.dk/?p=fio.git;a=summary">fio</a>.<br />
??сторически я пользовался много лет для этого популярным IOmeter, и даже писал несколько подробных <a href="../../../index.html%3Fs=iometer.html">постов </a>о нем, неизменно приводящих в этот блог читателей с поисковиков.</p>
<p>Однако IOmeter достаточно давно затормозился в развитии, и на сегодняшний день имеет <a href="http://iometer.org/doc/downloads.html">stable </a>в версии аж 2006(!) года, а <a href="http://sourceforge.net/projects/iometer/?source=directory">собираемый community</a> имеет версию 1.1RC1 и обновлялся аж летом 2011 года, что никак нельзя назвать приемлемым. К тому же отдельные версии (Linux x64, например) имеют крайне досадные баги, сводящие на нет его применимость под эти платформы.</p>
<p>Поэтому все больше людей для тестирования производительности ищут более современные инструменты. По этой причине несколько месяцев назад мне попался на глаза очень активно развивающийся проект такой утилиты измерения производительности - <a href="http://freecode.com/projects/fio">fio </a>(flexible input-output tester).<br />
О тестировании дисковой подсистемы с помощью fio можно почитать например вот <a href="http://habrahabr.ru/post/154235/">в этой статье</a>.</p>
<p>К сожалению до недавних пор fio существовал только под Linux, поэтому было очень любопытно обнаружить в блоге нетапповского инженера Neto статью <a href="https://communities.netapp.com/community/netapp-blogs/databases/blog/2013/01/31/compiling-fio-flexible-io-tester-on-windows-64-bits">о сборке fio под Windows x64</a>.</p>
<p>Нет смысла перепощивать ее сюда, там коротенько и совершенно понятно как и что делать, даже без перевода, так что просто сошлюсь на нее <a href="https://communities.netapp.com/community/netapp-blogs/databases/blog/2013/01/31/compiling-fio-flexible-io-tester-on-windows-64-bits">здесь</a>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../benchmark/index.html" rel="tag">benchmark</a>, <a href="../fio.html" rel="tag">fio</a>, <a href="../iometer.html" rel="tag">iometer</a>, <a href="index.html" rel="tag">performance</a><br />					Раздел: <a href="../../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;" rel="category tag">utilities</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1243/trackback.html#comments" title="Комментарий к записи Сборка fio под Windows x64">Комментарии (6)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1234">
				<h2 class="posttitle"><a href="../../1234/trackback.html" rel="bookmark" title="Permanent Link to Производительность в Cluster-mode: опубликованы результаты">Производительность в Cluster-mode: опубликованы результаты</a></h2>
				<div class="postmetadata">15 Ноябрь 2012, 7:00 <!-- от  --></div>
				<div class="postentry">
					<p>Мы уже весь этот год понемногу <a href="../cluster-mode/index.html">говорим</a> о новой для пользователей NetApp “классической”, 7-mode архитектуры, схеме <a href="../../1113/trackback.html">Cluster-mode</a>. В отрасли все еще довлеет определенный груз недоверия, Cluster-mode считается, во-первых,&#160; дорогим (но о  цене и спецпредложении двухузловой cluster-mode по цене HA-пары 7-mode, и о “Cisco Nexus за 1$” мы <a href="../../1118/trackback.html">уже говорили ранее</a>), сложным в развертывании и установке (но рекомендую сделать поиск по <a href="http://www.netapp.com/us/library/">Techlibrary</a> по слову “cluster-mode”) и имеющим значительный оверхед по производительности, в сравнении с системой 7-mode. ?? вот об этом последнем мы поговорим сегодня.</p>
<p>К моему глубокому сожалению некоторые такие предрассудки о производительности системы в Cluster-mode&#160; разделяли и отдельные знакомые мне специалисты самого NetApp.</p>
<p>Поэтому так интересно было посмотреть на официально опубликованный отчет по измерению и сравнению производительности системы Cluster-mode и 7-mode.</p>
<p>Была протестирована производительность работы системы хранения FAS6240 под задачи четырехнодового Oracle RAC на OLTP нагрузке, под всеми поддерживаемыми протоколами, в конфигурации хранилища как 7-mode, так и Cluster-mode, в максимально идентичной конфигурации OS, базы, настроек оборудования. Для затравки вам картинка, остальное по ссылке на <a href="http://media.netapp.com/documents/tr-4109.PDF">полный отчет</a> с описанием методики тестирования.</p>
<p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/--Cluster-mode--_8D22/image.png" width="783" height="443" /></p>
<p>Как вы видите, согласно этому тесту производительность Cluster-mode ниже аналогичной системы 7-mode не более чем на 7% в наихудшем случае, при, безусловно, значительно большем количестве возможностей, “фич” и перспективах масштабирования решения Cluster-mode.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../cluster-mode/index.html" rel="tag">cluster-mode</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../oracle/index.html" rel="tag">oracle</a>, <a href="index.html" rel="tag">performance</a>, <a href="../rac.html" rel="tag">rac</a>, <a href="../testing.html" rel="tag">testing</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1234/trackback.html#comments" title="Комментарий к записи Производительность в Cluster-mode: опубликованы результаты">Комментарии (11)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1225">
				<h2 class="posttitle"><a href="../../1225/trackback.html" rel="bookmark" title="Permanent Link to В последний раз о фрагментации файлов и производительности">В последний раз о фрагментации файлов и производительности</a></h2>
				<div class="postmetadata">23 Октябрь 2012, 10:56 <!-- от  --></div>
				<div class="postentry">
					<p>Я много раз в этом блоге трогал тему о влиянии фрагментации на производительность работы системы хранения (см. например <a href="../../221/trackback.html">раз</a>, <a href="../../225/trackback.html">два</a>, <a href="../../881/trackback.html">три</a>). Но как-то все это были слова, а как насчет “покажь логи”? Так как я до недавних пор был “безлошадный”, а все мои знакомые “с оборудованием” все как на подбор были “ленивы и нелюбопытны”, чтобы дать документальный ответ на этот вопрос, то поэтому пришлось отвечать самому.</p>
<p>Тут вот, как вы уже заметили, я, наконец, <em>обзавелся на хозяйстве </em>маленьким нетаппчиком, и, пока мы его в продакшн не ввели, гоняю в хвост и в гриву, в том числе <em>отвечаю на назревшие вопросы</em>. ?? первый – о том, влияет ли фрагментация данных на производительность доступа к ним при рандомном характере доступа.</p>
<p>Выше в постах, на которые я сослался, я уже ответил на этот вопрос и прояснил свою позицию. Вкратце: <strong>при рандомном доступе производительность от фрагментации данных не зависит</strong>. Так как система хранения обращается к данным рандомно, в произвольном, случайном порядке, то нет никакой особенной разницы в том, будут ли блоки данных лежать упорядоченно, или беспорядочно – их всегда будут читать “беспорядочно”. А рандомность обращения, помноженная на рандомность размещения не дает “рандомность в квадрате”, она остается обычной рандомностью, “в первой степени”.</p>
<p>Надеюсь не нужно дополнительно объяснять, почему для современных многозадачных систем, для баз OLTP, для виртуализованных серверных сред почти 100% доступа к данным является рандомным? Последовательный, “секвентальный” доступ встречается в очень узком сегменте, это бэкапы (а у NetApp, к слову, задача бэкапа, как вы помните, решается другим способом, а не последовательным копированием и передачей данных), это базы с характером доступа DSS, и это, отчасти, логи баз данных. Вот, в общем, и все использование секвентального доступа. Остальное все – более или менее чистый рандом.</p>
<p>Поэтому я взял паттерн доступа <strong>VM-сервер</strong> (40%-write/60%-read, 45%-sequental/55%-random, 4KB block). Секвентальность в последнем случае берется вследствие работы локального кэша хоста. Паттерны эти определил не я, они довольно широко распространены. Вот его и будем <strike>кушать</strike> мерять.</p>
<p>Тестировал я с помощью IOmeter, который, несмотря на некоторые его недостатки, знаю и люблю. В качестве load-generator использовались виртуальные машины, работающие с достаточно мощного хоста (IBM 3850 X5), который был подключен к стораджу по NFS. Для OS в VM диск выглядел “физическим” LUN без файловой системы, который делался MBR-разделом и форматировался в NTFS со стандартным размером блока (4KB). Раздел делался размером 40GB, на нем создавался тестовый файл IOmeter (iobw.tst), размером 16GB (для гарантированного “пробоя кэша”). На каждой VM делался 4-процессорный vCPU, и, соответственно, запускались 4 Worker, на каждом из которых пускался тестовый паттерн на созданный диск, в 16 потоков ввода-вывода (Outstanding IOs) на каждый Worker, то есть 64 одновременных потока ввода-вывода на диски (контроллер NetApp). Загрузка хост-сервера тестом не превышала при этом 15% (мощная зверюга этот 3850), загрузка стораджа колебалась, но также не превышала 80%. То есть заведомо мы в “потолки” нигде не упирались.</p>
<p>Для минимизации эффектов “прогрева WAFL” (о котором еще будет пост, это также была одна из тем “исследовательской недели”) я делал длинный ramp-up (10 минут), а затем начинался собственно измеряемый тест, длиной 30 минут. Я брал для оценки значение в steady state, ближе к концу теста, и для оценки параллельно проверяемого эффекта “падения производительности” при прогреве – ближе к его началу.</p>
<p>Однако, перед исследователем, в моем лице, встала проблема: как обеспечить “фрагментацию” файла тестирования? Если создать последовательный, упорядоченный файл просто: запускай IOmeter на пустом диске – вот он и создаст свой iobw.tst, то с фрагментацией “на заказ” сложнее.</p>
<p>Для того, чтобы сделать фрагментированный файл я нашел любопытную утилитку, под названием MyDefragmenter, которая, как ясно из названия – дефрагментатор. Но у нее в комплекте есть также программка MyFragmenter :). Она делает вполне ожидаемую из названия вещь :)</p>
<p>Я взял созданный IOmeter тестовый файл и <em>качественно замесил</em> его с помощью этой утилитки. Я фрагментировал с ее помощью этот файл на 250 тысяч кусочков по 64KB каждый (ну, чтоб не было претензий, что <em>гранаты у нас не той системы</em>;), а потом повторно провел тестирование описанными выше паттернами.</p>
<p>Также я проанализировал ситуацию с фрагментацией не только файла на NTFS, но и в WAFL, а затем измерил эффект от работы reallocate в WAFL.</p>
<p>Хочу отдельно отметить, что в данном случае измеренные “попугаи”&#160; не могут рассматриваться по абсолютной величине, я не проводил никакого (необходимого) тюнинга системы, и настройки ее “по уму” и по best practices (это я&#160; сделаю позже, ту у меня есть некоторые бюрократические процедуры для этого). Целью теста было сравнить два достигнутых параметра производительности: “А” и”Б”, то есть их соотношение, а не достижение абсолютного рекорда, поэтому реплики с мест “чота как-то иопсев маловата!” мы отметем как неорганизованные ;).</p>
<p>Вот какие результаты я получил:</p>
<p>   <a href="../../1225/trackback.html#more-1225" class="more-link"><small>Continue reading &#8216;В последний раз о фрагментации файлов и производительности&#8217; &raquo;</small></a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../fragmentation.html" rel="tag">fragmentation</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="index.html" rel="tag">performance</a>, <a href="../reallocate.html" rel="tag">reallocate</a>, <a href="../wafl/index.html" rel="tag">wafl</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1225/trackback.html#comments" title="Комментарий к записи В последний раз о фрагментации файлов и производительности">Комментарии (13)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1204">
				<h2 class="posttitle"><a href="../../1204/trackback.html" rel="bookmark" title="Permanent Link to Что такое IOPS?">Что такое IOPS?</a></h2>
				<div class="postmetadata">5 Сентябрь 2012, 11:00 <!-- от  --></div>
				<div class="postentry">
					<p>Сегодня очередной перевод одного из моих любимых авторов, инженера NetApp Dimitris Krekoukias, пишущего в блоге recoverymonkey.org. Текст крайне важный и заставляющий задуматься. Казалось бы, все мы знаем, что такое “IOPS”, но знаем ли мы это на самом деле, и не упускаем ли мы, говоря про IOPS-ы, нечто важное из виду? Насколько полнятие IOPS является однозначно идентифицируемым и можно ли показатели “в IOPS” трактовать однозначно, и сравнивать различные результаты, различных вендоров между собой?</p>
<h3>IOPS: Возможно наиболее известный показатель производительности системы хранения.</h3>
<p>IOPS означает <em>Input/Output (operations) Per Second</em>, &quot;операций ввода-вывода в секунду&quot;. Смысл величины выглядит довольно очевидно. Он измеряет объем работы за определенный промежуток времени (и это не то же самое, что мегабайты в секунду, MB/s).</p>
<p>Кто из вас не видел вендоров, которые превозносят достоинства своих систем хранения, демонстрируя огромные величины IOPS ими достигнутые? Кто из вас не принимал решения покупки системы хранения, основываясь на обещаниях вендорами этих величин? Однако: как часто вендоры, приводя свои результаты, в действительности четко определяли то, что они понимали под аббревиатурой &quot;IOPS&quot;, публикуя эти результаты? </p>
<p>Для нетерпеливых, скажу это с самого начала: <strong>Величина IOPS <em>сама по себе</em> бессмысленна, и именно так и должна рассматриваться. Без дополнительных метрик, таких как latency, процентное соотношение операций чтения и записи и размера блоков ввода-вывода, величина IOPS совершенно бесполезна</strong>.</p>
<p>А теперь подробнее… </p>
<p>   <a href="../../1204/trackback.html#more-1204" class="more-link"><small>Continue reading &#8216;Что такое IOPS?&#8217; &raquo;</small></a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../benchmark/index.html" rel="tag">benchmark</a>, <a href="../iops.html" rel="tag">iops</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="index.html" rel="tag">performance</a>, <a href="../spc-1.html" rel="tag">spc-1</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>,  <a href="../../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;" rel="category tag">переводы</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1204/trackback.html#comments" title="Комментарий к записи Что такое IOPS?">Комментарии (16)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1174">
				<h2 class="posttitle"><a href="../../1174/trackback.html" rel="bookmark" title="Permanent Link to Еще о тестировании Cluster-mode в SPC-1">Еще о тестировании Cluster-mode в SPC-1</a></h2>
				<div class="postmetadata">27 Июнь 2012, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Я не первый раз рубликую тут переводы постов инженера NetApp – Dimitris Krekoukias, ведущего автономный, и крайне интересный блог <a href="http://recoverymonkey.org/">http://recoverymonkey.org/</a> (другие мои переводы его постов вы можете найти в рубрике “<a href="../../category/translations/index.html">переводы</a>”)</p>
<p>После долгого молчания, Dimitris опубликовал пост, вызванный публикацией отличных результатов кластера FAS6240 в Data ONTAP 8.1.1 Cluster-mode в бенчмарке блочного (FC) доступа – SPC-1, о котором я уже написал в понедельник. Однако вопросу <em>почему</em> он так хорош, и <em>насколько именно</em> он хорош – посвящен сегодняшний перевод.</p>
<h2>NetApp опубликовал великолепные результаты тестирования Cluster-Mode в бенчмарке SPC-1</h2>
<p>Опубликовано <a href="http://recoverymonkey.org/2012/06/20/netapp-posts-great-cluster-mode-spc-1-result/">June 20, 2012</a></p>
<p>Мы тут в NetApp были довольно сильно заняты… заняты совершенствованием единственной в отрасли масштабируемой платформы хранения с универсальным доступом к данным, даже не считая множества разных других имеющихся в ней полезных штук.</p>
<p>Мы недавно выпустили ONTAP 8.1, которая, в Cluster-Mode, позволяет создать 24-узловой кластер (каждый узел которого может иметь до 8TB кэша) для задач NAS, и 4-узловой кластер для блочного доступа (FC и iSCSI).</p>
<p>А с выпуском ONTAP 8.1.1 (выпущенного 14 июня), мы увеличили лимит узлов для блочного доступа до 6, плюс добавили ряд дополнительных оптимизаций и возможностей. Между прочим, число узлов в кластере это пока только условный лимит официальной поддержки, это не жестко заданное ограничение.</p>
<p>После публикации нашего <a href="http://bit.ly/K2FBz1">рекордного результата в бенчмарке NFS</a>, люди спрашивали, как обстоит дело с производительностью блочного ввода-вывода в ONTAP Cluster-Mode, поэтому мы провели тестирование и опубликовали результаты бенчмарка SPC-1, используя часть той же системы, что уже была протестирована на SPEC sfs2008 NFS.</p>
<p>Для тех кто до сих пор думает, что NetApp не подходит для блочного доступа (это типичный FUD наших конкурентов): <strong>Это, на сегодня, лучший результат SPC-1 среди всех дисковых систем хранения, из расчета на уровень latency при достигнутом уровне IOPS</strong> (то есть возможно получить даже более высокие показатели IOPS на бОльших лимитах по latency, как я покажу далее в этом посте).</p>
<p>Вот ссылка на <a href="http://bit.ly/Kj3kvP">результаты</a> и еще одна <a href="http://www.storageperformance.org/results/benchmark_results_spc1#a00115">ссылка</a>, на полную версию со всей доступной информацией.</p>
<p>В этом блоге я уже <a href="http://bit.ly/hs4GMt">говорил</a> о том, что представляет собой бенчмарк SPC-1 . Вкратце: Бенчмарк SPC-1 это общепринятый в индустрии, аудируемый, бенчмарк блочного доступа к системе хранения (по Fiber Channel) который проводит стресс-тестирование дисковой подсистемы большим объемом записей, перезаписей, локальных &quot;хотспотов&quot; и смешанной произвольно/последовательной, чтение-после-записи, запись-после-чтения нагрузкой. Около 60% рабочей нагрузки это операции записи. Размеры используемых в бенчмарке операций ввода-вывода различны, от маленьких до больших (таким образом IOPS в бенчмарке SPC-1 не идентичны и не могут быть сравнены напрямую с классическим тестом IOPS в full random блоками 4KB).</p>
<p>Если сторадж успешно работает на нагрузке SPC-1,, он, обычно, также крайне производительно работает на сложной, чувствительной к показателям latency, динамично изменяющейся нагрузке типа баз данных, в особенности OLTP. Полная спецификация для смертельно любопытных может быть найдена <a href="http://bit.ly/Kj8Iz7">здесь</a>.</p>
<p>Трюк с бенчмарками обычно состоит в интерпретации результатов. Сама по себе величина достигнутых IOPS, хотя и полезна, но не показывает всей картины, и того, как данный результат соотносится с реальной жзнью и реальными приложениями. Мы попытаемся помочь расшифровать результаты в этом посте.</p>
<p>Перед тем, как мы перейдем к анализу и сравнению результатов, несколько замечаний для <a href="http://www.youtube.com/watch?v=3MaJy7LH5js">неверующих</a>:</p>
<ol>
<li>В тестах NetApp не используется диски &quot;с коротких ходом&quot; (short-stroking), так часто любимые многими вендорами, проводящими тестирование, при котором используется только внешняя, наиболее быстродействующая часть диска, где сочетается максимальная линейная скорость и малый разбег механики коромысла жесткого диска, на чем можно показать наилучшие результаты. Вместо этого мы используем настройку параметров системы , чтобы использовать всю поверхность дисков, и не зависеть от того, насколько заполнены данными диски. Смотрите полный отчет <a href="http://bit.ly/Kj5lrO">здесь</a>, страница 61. Для любителей распространять FUD: это эффективно &quot;старит&quot; состояние WAFL, приближая его к реальному состоянию реально эксплуатируемой системы. Мы также не используем оптимизацию размещения блоков путем их реаллокации. </li>
<li>Падения производительности в ходе продолжительного тестирования не наблюдалось. </li>
<li>Средняя величина latency (“All ASUs” в результатах) была плоской и оставалась ниже уровня 5ms на протяжении нескольких итераций теста, включая sustainability test в течение 10 часов (страница 28 полного отчета). </li>
<li>Не использовался дополнительный кэш, кроме того, который поставляется в базовой поставке FAS6240 (Контроллеры 6240 поставляются с Flash Cache емкостью 512GB, при максимальной возможной емкости данной модели 3TB на ноду (контроллер), то есть для работы с большими нагрузками есть еще значительный запас). </li>
<li>Это не &quot;звездолет&quot;, построенный исключительно для завовевания победы и установления рекорда в бенчмарке. Мы использовали сравнительно немного дисков, в сравнении с конфигурациями других вендоров, и это не самая быстрая наша модель контроллера (еще есть 6280). </li>
</ol>
<h3>Анализ</h3>
<p>Когда мы смотрим на результаты бенчмарка, следует сфокусироваться на следующих моментах:</p>
<ol>
<li>Высокий уровень установившейся производительности в IOPS (нестабильность показателей показывает на наличие проблем). </li>
<li>IOPS/диск (это показатель эффективности – 500 IOPS/drive это вдвое лучше и эффективнее, чем 250 IOPS/drive, что, как следствие, означает меньше необходимых дисков в системе, снижает ее стоимость, уменьшает физический занимаемые в датацентре объем, и так далее.) </li>
<li>Стабильно низкая latency (пики показывают наличие проблем). </li>
<li>IOPS связан и зависит от latency (Получили ли вы высокие показатели IOPS вместе с высокой latency на максимуме? Это практически используемо?) </li>
<li>Какой тип RAID использовался (RAID6? RAID10? RAID6 обеспечивает значительно лучшую защиту данных и лучшие результаты эффективности использования дискового пространства, чем зеркалирование, что ведет к снижению стоимость даже более надежного хранилища данных). </li>
<li>Какие диски использовались? Хотите ли вы покупать такие диски? </li>
<li>??спользовался ли autotiering? Если нет, то почему нет? Разве он не помог бы в такой сложной ситуации? </li>
<li>Какое оборудование потребовалось, чтобы получить стабильную производительность (сколько дисков и контроллеров потребовалось для построения системы? Означает ли это более сложную и дорогую систему? Как это все будет управляться?) </li>
<li>Цена (некоторые вендоры указывают цену уже с учетом дисконта, в то время как другие публикуют цену в list price, так что будьте тут внимательнее). </li>
<li>Цена/IOPS (наиболее полезная метрика – но следует сравнивать цену list price с list price). </li>
</ol>
<p>SPC-1 это бенчмарк НЕ для измерения максимума потока данных; для измерения чистого GB/s смотрите другие бенчмарки. Большинство систем не дает больше 4GB/s в этом бенчмарке, так как много операций в нем рандомные (и 4GB/s это довольно много для рандомного ввода-вывода).</p>
<h3>Сравнение систем</h3>
<p>В этой части мы сравним дисковые системы хранения. Предсказуемо &quot;чистые SSD&quot; (или RAM) системы хранения имеют, конечно, очень высокие показатели производительности, и могут подойти, если ваша задача - обеспечивать работу с небольшим объемом данных очень быстро.</p>
<p>Но мы сосредоточимся на задачах высоконадежных систем общего применения, которые обеспечивают одновременно и высокую производительность, и низкую latency, и большую емкость, за разумную цену, а также, одновременно, большое количество функциональных фич(снэпшоты, репликация, кэширование в flash (megacaching), thin provisioning, дедупликация, компрессия, многопротокольность, включая NAS, и так далее). Опа – оказывается никто из конкурентов не может сделать сразу все что умеет делать NetApp.</p>
<p>Ниже приведен список систем и ссылки на их полные отчеты тестирования SPC-1, где вы сможете найти всю необходимую информацию. Все эти системы имеют высокие результаты и относительно плоскую кривую latency.</p>
<ul>
<li><a href="http://bit.ly/Kj5lrO">NetApp 6240</a> </li>
<li><a href="http://bit.ly/NUThnK">IBM SVC with V7000</a> </li>
<li><a href="http://bit.ly/NUTDLb">IBM SVC with DS8700</a> </li>
<li><a href="http://bit.ly/NUTuHq">HDS VSP</a> </li>
<li><a href="http://bit.ly/NUTerZ">HP 3Par V800</a> </li>
<li><a href="http://bit.ly/NUTqrs">Huawei Symantec S8100</a> </li>
</ul>
<p>Также есть несколько других дисковых систем хранения, со значительными результатами по IOPS, но если мы посмотрим на их результаты sustained latency (“Sustainability – Average Response Time (ms) Distribution Data” в любом из полных отчетов) мы увидим, что общие показатели latency чересчур высоки и наблюдается значительная неравномерность, в особенности в начальной фазе, с пиками до 30ms (что крайне много), поэтому мы не взяли их в расчет.</p>
<p>Вот краткий перечень систем и их параметров, отсортированных в соответствии с latency. Кроме этого показана и их стоимость в ценах list price (это можно найти в полном отчете о тестировании) плюс стоимость операции $/IOPS, посчитанная исходя из list price (многие вендоры приводят в отчетах цену с уже введенной скидкой, чтобы цена выглядела пониже):</p>
<p>&#160;</p>
<p><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/---Cluster-mode--SPC-1_EDD7/image.png" width="954" height="181" /></p>
<h3>…но ведь тут показано, что некоторые системы быстрее NetApp… Как так?</h3>
<p>Это зависит от того, насколько важен для вас показатель latency и его низкая величина (и от того, принимаете ли вы в расчет используемый тип RAID). Для подавляющего большинства нагрузок типа баз данных, низкая latency операций ввода-вывода гораздо предпочтительнее высоких показателей latency.</p>
<p>Вот как это увидеть:</p>
<ol>
<li>Выберите один из приведенных выше линков на полные отчеты Допустим это будет 3Par, так как он показывает одновременно и высокие показатели производительности, и высокие значения latency. </li>
<li>Найдем в отчете главу под названием &quot;Response Time – Throughput Curve&quot;. Например это страница 13 в <a href="http://bit.ly/NUTerZ">отчете по системе 3Par</a>. </li>
<li>Проследим, как latency резко растет при повышении загрузки системы. </li>
</ol>
<p>Например посмотрим на кривую 3Par:</p>
<p><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/---Cluster-mode--SPC-1_EDD7/image_3.png" width="600" height="408" /></p>
<p>Заметьте то, как latency резко растет после некоей точки.</p>
<p>Теперь сравним с <a href="http://bit.ly/Kj5lrO">результатом NetApp</a> (страница 13):</p>
<p><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/---Cluster-mode--SPC-1_EDD7/image_4.png" width="600" height="434" /></p>
<p>Отметьте, что результат NetApp не просто имеет хорошие показатели latency, но, что еще более важно, <em>latency остается хорошей и растет исключительно медленно по мере увеличения нагрузки на систему.</em></p>
<p>Вот почему колонка“SPC-1 IOPS around 3ms” была добавлена в таблицу. Фактически это ответ на вопрос <strong>что бы было, если бы уровень latency был в тесте одинаков для всех протестированных систем?</strong></p>
<p>Когда вы примете эту позицию, вы увидите, что система 3Par фактически медленнее, чем NetApp, если сравнить их на одинаково низком желаемом уровне latency.</p>
<p>Вы можете взять точные показатели latency из графика на странице 13, у NetApp таблица выглядит так (озаглавлено &quot;Response Time – Throughput Data&quot;):</p>
<p><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/---Cluster-mode--SPC-1_EDD7/image_5.png" width="600" height="144" /></p>
<p>Действительно, при сравнении результатов мы видим, что только IBM SVC (с кучей стораджей V7000 за ним) оказывается быстрее NetApp при столь же хороших показателях latency. Что плавно подводит нас к следующей главе…</p>
<p>Сколько железа обеспечивает такую производительность?</p>
<p>Почти любая инженерная задача может быть решена, если дать приложению достаточное количество необходимого оборудования. <a href="http://bit.ly/NUThnK">Результат IBM</a> это как раз хороший пример того, как можно получить хороший результат собрав вместе большую кучу дорогостоящего железа:</p>
<ul>
<li>8 SVC контроллеров (virtualization engines) плюс… </li>
<li>…16 отдельных систем V7000… </li>
<li>…каждая состоящая из еще 2 контроллеров SVC и 2 контроллеров RAID </li>
<li>1920 дисков 146GB 15K RPM (не так-то просто такие купить нынче, не так ли?) </li>
<li>??того 40 контроллеров SVC (8 больших и 32 поменьше), 32 RAID-контроллера, и все это битком наполнено дисками. </li>
</ul>
<p>Даже отставив в сторону вопрос того, как это все управляется, сколько это потребляет электричества и как размещается, понятно, что это довольно большая система. Я даже не пытался посчитать, сколько тут процессоров и ядер работают параллельно, уверен, их много.</p>
<p>Сравним эту кухню с вариантом <a href="http://bit.ly/Kj5lrO">конфигурации NetApp</a>:</p>
<ul>
<li>6 контроллеров в одном кластере </li>
<li>432 диска 450GB 15K RPM (самый распространенный и массовый наш диск по состоянию на июнь 2012). </li>
</ul>
<h3>Вопросы (с удовольствие увижу ответы на них от других вендоров):</h3>
<ol>
<li>Что произойдет при использовании RAID6 у других вендоров? NetApp всегда тестирует системы с использованием своей версии RAID6 (RAID-DP). RAID6 значительно надежнее, чем зеркалирование, особенно в больших пулах (не говоря уже о более эффективном использовании пространства дисков). Большинство клиентов не хотят покупать большую систему в конфигурации <em>только-RAID10</em>… (пользователи - задавайте вопросы вашим вендорам. Тут нет никакого волшебства – ручаюсь, у них есть внутренние результаты для RAID6, попросите показать их вам). </li>
<li>Autotiering это одна из самых раскрученных сегодня фич, с признаками того, что это достижение, превосходящее изобретение пенициллина, или даже колеса, а может даже и огня… Однако никто из дисковых массивов не рассматривает использование SSD для autotiering (IBM опубликовала однажды результат – <a href="http://bit.ly/NezCt4">не впечатляет</a>, делайте выводы). Это при том, что бенчмарк, по своей спецификации активно создающий &quot;горячие точки&quot; (hotspots) нагрузки, должен бы быть здесь идеальным кандидатом для демонстрации эффективности… </li>
<li>Почему EMC и Dell не желают публиковать результаты SPC-1? (Они оба, кстати, члены SPC, Storage Performance Council). Только два этих вендора, из крупных игроков на рынке, кто еще не опубликовали свои результаты. EMC ранее говорила, что SPC-1 это нереалистичный тест – ну, типа <em>только ваше приложение с вашими данными на вашем сторадже может показать по-настоящему реальные результаты</em>. Это так, однако SPC-1 это общепринятый индустрией стандартный бенчмарк для блочного доступа произвольного характера, и отличная &quot;лакмусовая бумажка&quot;. </li>
<li>Для системы, которая регулярно позиционируется для нагрузки Tier-1, IBM XIV, результаты бенчмарков, увы, отсутствуют также, даже для самой новой ее Gen3. Неужели IBM стесняется показать свои результаты SPC-1 для этой системы? </li>
<li>Наконец – некоторые наши конкуренты продолжают утверждать, что NetApp, дескать, это &quot;не настоящий SAN&quot;, что это, якобы &quot;эмуляция SAN&quot;, и так далее. Что бы это все ни значило на самом деле – может быть подход NetApp, с такой &quot;эмуляцией&quot; оказывается, по факту, лучше?… Максимальная <em>write latency</em> в этом тесте составила 1.91ms для в основном записываемой нагрузки! </li>
</ol>
<h3>??тоговые мысли</h3>
<p>В накануне опубликованном результате бенчмарка SPC-1, NetApp показала вновь, что Data ONTAP в Cluster-Mode это высокопроизводительная и масштабируемая система, одинаково подходящая как для SAN, так и для NAS задач. Суммируя все вышесказанное, можно сказать, что ONTAP Cluster-Mode:</p>
<ul>
<li>Позволяет строить высокопроизводительные и динамически-масштабируемые кластеры хранения для FC, iSCSI, NFS и CIFS. </li>
<li>Демонстрирует низкую latency при высокой производительности. </li>
<li>Предлагает исключительно хорошее соотношение price/performance. </li>
<li>Позволяет доступ к данным одной ноды с любых других нод. </li>
<li>Перемещает данные между нодами, не прерывая работы с ними (включая CIFS, что ранее не было практически невозможно). </li>
<li>Поддерживает традиционные для NetApp возможности (оптимизацию процессов записи, взаимодействие с приложениями, снэпшоты, дедупликацию, компрессию, репликацию, thin provisioning, и кэширование во flash (megacaching). </li>
<li>Может работать на в точности тех же самых контроллерах FAS, что и в 7-mode, что защищает инвестиции. </li>
<li>Может виртуализовывать системы хранения, расположенные за ними. </li>
</ul>
<p>??сточник &lt;<a href="http://recoverymonkey.org/2012/06/20/netapp-posts-great-cluster-mode-spc-1-result/">http://recoverymonkey.org/2012/06/20/netapp-posts-great-cluster-mode-spc-1-result/</a>&gt; </p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../811.html" rel="tag">8.1.1</a>, <a href="../benchmark/index.html" rel="tag">benchmark</a>, <a href="../cluster-mode/index.html" rel="tag">cluster-mode</a>, <a href="../iops.html" rel="tag">iops</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="index.html" rel="tag">performance</a>, <a href="../recoverymonkey.html" rel="tag">recoverymonkey</a>, <a href="../spc-1.html" rel="tag">spc-1</a>, <a href="../testing.html" rel="tag">testing</a><br />					Раздел: <a href="../../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;" rel="category tag">переводы</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1174/trackback.html#comments" title="Комментарий к записи Еще о тестировании Cluster-mode в SPC-1">Комментарии (7)</a>									 </div>
			</div>
	
		
		<div class="navigation">
			<div class="alignleft"><a href="page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>
		
	
	</div>
	<div id="sidebar">
		<ul>
			
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Автор</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li class="pagenav"><h2>Страницы</h2><ul><li class="page_item page-item-153"><a href="../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul></li>
			<li><h2>Рубрики</h2>
				<ul>
					<li class="cat-item cat-item-89"><a href="../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;">commands</a>
</li>
	<li class="cat-item cat-item-37"><a href="../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;">howto</a>
</li>
	<li class="cat-item cat-item-52"><a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;">justread</a>
</li>
	<li class="cat-item cat-item-51"><a href="../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;">review</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;">techtalk</a>
</li>
	<li class="cat-item cat-item-71"><a href="../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;">tricks</a>
</li>
	<li class="cat-item cat-item-95"><a href="../../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;">utilities</a>
</li>
	<li class="cat-item cat-item-44"><a href="../../category/whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;">whoisho</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;">новости</a>
</li>
	<li class="cat-item cat-item-387"><a href="../../category/opros.html" title="Просмотреть все записи в рубрике &laquo;опрос&raquo;">опрос</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;">переводы</a>
</li>
	<li class="cat-item cat-item-40"><a href="../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;">цитаты</a>
</li>
				</ul>
			</li>

			<li><h2>Архивы</h2>
				<ul>
					<li><a href='../../date/2018/01.html' title='Январь 2018'>Январь 2018</a></li>
	<li><a href='../../date/2015/10.html' title='Октябрь 2015'>Октябрь 2015</a></li>
	<li><a href='../../date/2015/04.html' title='Апрель 2015'>Апрель 2015</a></li>
	<li><a href='../../date/2015/03.html' title='Март 2015'>Март 2015</a></li>
	<li><a href='../../date/2015/01.html' title='Январь 2015'>Январь 2015</a></li>
	<li><a href='../../date/2014/12.html' title='Декабрь 2014'>Декабрь 2014</a></li>
	<li><a href='../../date/2014/11.html' title='Ноябрь 2014'>Ноябрь 2014</a></li>
	<li><a href='../../date/2014/10.html' title='Октябрь 2014'>Октябрь 2014</a></li>
	<li><a href='../../date/2014/09.html' title='Сентябрь 2014'>Сентябрь 2014</a></li>
	<li><a href='../../date/2014/08.html' title='Август 2014'>Август 2014</a></li>
	<li><a href='../../date/2014/07.html' title='Июль 2014'>Июль 2014</a></li>
	<li><a href='../../date/2014/06.html' title='Июнь 2014'>Июнь 2014</a></li>
	<li><a href='../../date/2014/05.html' title='Май 2014'>Май 2014</a></li>
	<li><a href='../../date/2014/04.html' title='Апрель 2014'>Апрель 2014</a></li>
	<li><a href='../../date/2014/03.html' title='Март 2014'>Март 2014</a></li>
	<li><a href='../../date/2014/02.html' title='Февраль 2014'>Февраль 2014</a></li>
	<li><a href='../../date/2014/01.html' title='Январь 2014'>Январь 2014</a></li>
	<li><a href='../../date/2013/12.html' title='Декабрь 2013'>Декабрь 2013</a></li>
	<li><a href='../../date/2013/11.html' title='Ноябрь 2013'>Ноябрь 2013</a></li>
	<li><a href='../../date/2013/10.html' title='Октябрь 2013'>Октябрь 2013</a></li>
	<li><a href='../../date/2013/09.html' title='Сентябрь 2013'>Сентябрь 2013</a></li>
	<li><a href='../../date/2013/08.html' title='Август 2013'>Август 2013</a></li>
	<li><a href='../../date/2013/07.html' title='Июль 2013'>Июль 2013</a></li>
	<li><a href='../../date/2013/06.html' title='Июнь 2013'>Июнь 2013</a></li>
	<li><a href='../../date/2013/05.html' title='Май 2013'>Май 2013</a></li>
	<li><a href='../../date/2013/04.html' title='Апрель 2013'>Апрель 2013</a></li>
	<li><a href='../../date/2013/03.html' title='Март 2013'>Март 2013</a></li>
	<li><a href='../../date/2013/02.html' title='Февраль 2013'>Февраль 2013</a></li>
	<li><a href='../../date/2013/01.html' title='Январь 2013'>Январь 2013</a></li>
	<li><a href='../../date/2012/12.html' title='Декабрь 2012'>Декабрь 2012</a></li>
	<li><a href='../../date/2012/11.html' title='Ноябрь 2012'>Ноябрь 2012</a></li>
	<li><a href='../../date/2012/10.html' title='Октябрь 2012'>Октябрь 2012</a></li>
	<li><a href='../../date/2012/09.html' title='Сентябрь 2012'>Сентябрь 2012</a></li>
	<li><a href='../../date/2012/08.html' title='Август 2012'>Август 2012</a></li>
	<li><a href='../../date/2012/07.html' title='Июль 2012'>Июль 2012</a></li>
	<li><a href='../../date/2012/06.html' title='Июнь 2012'>Июнь 2012</a></li>
	<li><a href='../../date/2012/05.html' title='Май 2012'>Май 2012</a></li>
	<li><a href='../../date/2012/04.html' title='Апрель 2012'>Апрель 2012</a></li>
	<li><a href='../../date/2012/03.html' title='Март 2012'>Март 2012</a></li>
	<li><a href='../../date/2012/02.html' title='Февраль 2012'>Февраль 2012</a></li>
	<li><a href='../../date/2012/01.html' title='Январь 2012'>Январь 2012</a></li>
	<li><a href='../../date/2011/12.html' title='Декабрь 2011'>Декабрь 2011</a></li>
	<li><a href='../../date/2011/11.html' title='Ноябрь 2011'>Ноябрь 2011</a></li>
	<li><a href='../../date/2011/10/index.html' title='Октябрь 2011'>Октябрь 2011</a></li>
	<li><a href='../../date/2011/09/index.html' title='Сентябрь 2011'>Сентябрь 2011</a></li>
	<li><a href='../../date/2011/08.html' title='Август 2011'>Август 2011</a></li>
	<li><a href='../../date/2011/07/index.html' title='Июль 2011'>Июль 2011</a></li>
	<li><a href='../../date/2011/06/index.html' title='Июнь 2011'>Июнь 2011</a></li>
	<li><a href='../../date/2011/05/index.html' title='Май 2011'>Май 2011</a></li>
	<li><a href='../../date/2011/04/index.html' title='Апрель 2011'>Апрель 2011</a></li>
	<li><a href='../../date/2011/03/index.html' title='Март 2011'>Март 2011</a></li>
	<li><a href='../../date/2011/02.html' title='Февраль 2011'>Февраль 2011</a></li>
	<li><a href='../../date/2011/01.html' title='Январь 2011'>Январь 2011</a></li>
	<li><a href='../../date/2010/12.html' title='Декабрь 2010'>Декабрь 2010</a></li>
	<li><a href='../../date/2010/11/index.html' title='Ноябрь 2010'>Ноябрь 2010</a></li>
	<li><a href='../../date/2010/10/index.html' title='Октябрь 2010'>Октябрь 2010</a></li>
	<li><a href='../../date/2010/09/index.html' title='Сентябрь 2010'>Сентябрь 2010</a></li>
	<li><a href='../../date/2010/08.html' title='Август 2010'>Август 2010</a></li>
	<li><a href='../../date/2010/07/index.html' title='Июль 2010'>Июль 2010</a></li>
	<li><a href='../../date/2010/06.html' title='Июнь 2010'>Июнь 2010</a></li>
	<li><a href='../../date/2010/05.html' title='Май 2010'>Май 2010</a></li>
	<li><a href='../../date/2010/04/index.html' title='Апрель 2010'>Апрель 2010</a></li>
	<li><a href='../../date/2010/03/index.html' title='Март 2010'>Март 2010</a></li>
	<li><a href='../../date/2010/02.html' title='Февраль 2010'>Февраль 2010</a></li>
	<li><a href='../../date/2010/01.html' title='Январь 2010'>Январь 2010</a></li>
	<li><a href='../../date/2009/12/index.html' title='Декабрь 2009'>Декабрь 2009</a></li>
	<li><a href='../../date/2009/11/index.html' title='Ноябрь 2009'>Ноябрь 2009</a></li>
	<li><a href='../../date/2009/10.html' title='Октябрь 2009'>Октябрь 2009</a></li>
	<li><a href='../../date/2009/09.html' title='Сентябрь 2009'>Сентябрь 2009</a></li>
	<li><a href='../../date/2009/08/index.html' title='Август 2009'>Август 2009</a></li>
	<li><a href='../../date/2009/07/index.html' title='Июль 2009'>Июль 2009</a></li>
	<li><a href='../../date/2009/06.html' title='Июнь 2009'>Июнь 2009</a></li>
	<li><a href='../../date/2009/05.html' title='Май 2009'>Май 2009</a></li>
	<li><a href='../../date/2009/04.html' title='Апрель 2009'>Апрель 2009</a></li>
	<li><a href='../../date/2009/03.html' title='Март 2009'>Март 2009</a></li>
	<li><a href='../../date/2009/02.html' title='Февраль 2009'>Февраль 2009</a></li>
	<li><a href='../../date/2009/01.html' title='Январь 2009'>Январь 2009</a></li>
	<li><a href='../../date/2008/12.html' title='Декабрь 2008'>Декабрь 2008</a></li>
	<li><a href='../../date/2008/11.html' title='Ноябрь 2008'>Ноябрь 2008</a></li>
	<li><a href='../../date/2008/10.html' title='Октябрь 2008'>Октябрь 2008</a></li>
	<li><a href='../../date/2008/09.html' title='Сентябрь 2008'>Сентябрь 2008</a></li>
	<li><a href='../../date/2008/08.html' title='Август 2008'>Август 2008</a></li>
	<li><a href='../../date/2008/03.html' title='Март 2008'>Март 2008</a></li>
	<li><a href='../../date/2008/02.html' title='Февраль 2008'>Февраль 2008</a></li>
	<li><a href='../../date/2007/12.html' title='Декабрь 2007'>Декабрь 2007</a></li>
	<li><a href='../../date/2007/11.html' title='Ноябрь 2007'>Ноябрь 2007</a></li>
	<li><a href='../../date/2007/10.html' title='Октябрь 2007'>Октябрь 2007</a></li>
	<li><a href='../../date/2007/09.html' title='Сентябрь 2007'>Сентябрь 2007</a></li>
	<li><a href='../../date/2007/08.html' title='Август 2007'>Август 2007</a></li>
	<li><a href='../../date/2007/07/index.html' title='Июль 2007'>Июль 2007</a></li>
	<li><a href='../../date/2007/06.html' title='Июнь 2007'>Июнь 2007</a></li>
	<li><a href='../../date/2007/05.html' title='Май 2007'>Май 2007</a></li>
				</ul>
			</li>

			
					</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a href="../../../feed">Entries (RSS)</a> and <a href="../../../comments/feed">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br />
	Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a> and <a href="http://srinig.com/wordpress/themes/fluid-blue/">Fluid Blue theme</a>.<br />
	<!-- 15 queries. 0.099 seconds. -->
	</div>
</div> <!-- page -->
</body>
</html>
