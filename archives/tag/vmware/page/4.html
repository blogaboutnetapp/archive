<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>about NetApp   &raquo; vmware</title>

<link rel="stylesheet" href="../../../../wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />
<link rel="alternate" type="application/rss+xml" title="about NetApp RSS Feed" href="../../../../feed" />
<link rel="pingback" href="../../../../xmlrpc.php.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6" />

</head>

<body>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="../../../../index.html" title="about NetApp: Системы хранения данных как предмет разговора">about NetApp</a></h1>
		<p>Системы хранения данных как предмет разговора</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="../../../../index.html">
<input type="text" size="20" name="s" id="s" value="Поиск..."  onblur="if(this.value=='') this.value='Поиск...';" onfocus="if(this.value=='Поиск...') this.value='';"/>
</form>
	</div> 
	<!-- Search ends here-->
		
</div>

<div id="navbar">
<ul id="nav">
	<li><a href="../../../../index.html">Home</a></li>
	<li class="page_item page-item-153"><a href="../../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul>
</div>
<div id="wrapper">

	<div id="content">

	
			<p>Posts tagged &#8216;vmware&#8217;</p>

	 		
		<div class="navigation">
			<div class="alignleft"></div>
			<div class="alignright"><a href="3.html">Next Entries &raquo;</a></div>
		</div>

						
			<div class="post" id="post-568">
				<h2 class="posttitle"><a href="../../../568/trackback.html" rel="bookmark" title="Permanent Link to Новая книга для администраторов VMware vSphere">Новая книга для администраторов VMware vSphere</a></h2>
				<div class="postmetadata">27 Март 2010, 11:37 <!-- от  --></div>
				<div class="postentry">
					<p>Подготовлена к печати в издательстве ДМК-пресс новая и чрезвычайно полезная книга: <strong>Администрирование VMware vSphere</strong>. Книгу написал <a href="http://www.linkedin.com/in/mikhailmikheev">Михаил Михеев</a>, крупный специалист в области продуктов VMware, преподаватель курсов “Микроинформ”, а также блоггер, владелец и ведущий&#160; <a href="http://vm4.ru">http://vm4.ru.</a></p>
<p><a href="/pics//1269282124clip89kb1.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="1269282124-clip-89kb[1]" border="0" alt="1269282124-clip-89kb[1]" src="/pics//1269282124clip89kb1-thumb.png" width="409" height="583" /></a> </p>
<p>Несмотря на внешний вид обложки, больше напоминающую ротапринтированную методичку ;) внутри, насколько мне удалось “подглядеть из-за плеча”, консультируя по относящимся к моей специфике главам, все очень дельно, подробно и хорошо.</p>
<p>Книжка стоит 349 рублей, по <a href="https://spreadsheets.google.com/viewform?formkey=dHFOcnJRa0p3WWlwS20yZ0Y2amg4V1E6MA">предзаказу</a> есть 10% скидка, в скором времени будет продаваться на “Озоне”. Возможно будет и электронный вариант (но, по понятными причинам, нескоро, и не в приоритетных для издательства задачах). В качестве примера – <a href="https://docs.google.com/fileview?id=0B1G3G2bemfixM2VjNjQ1NjItZmI5NS00OWQyLTg2NDktODQ3YTdhNWY2OGZm&amp;hl=en">оглавление</a>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../index.html" rel="tag">vmware</a>, <a href="../../vsphere/index.html" rel="tag">vsphere</a>, <a href="../../knigi.html" rel="tag">книги</a><br />					Раздел: <a href="../../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../568/trackback.html#comments" title="Комментарий к записи Новая книга для администраторов VMware vSphere">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-469">
				<h2 class="posttitle"><a href="../../../469/trackback.html" rel="bookmark" title="Permanent Link to Виртуализация сэкономила 75 тонн серверов">Виртуализация сэкономила 75 тонн серверов</a></h2>
				<div class="postmetadata">7 Декабрь 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Любопытная <a href="http://wikibon.org/wiki/v/NetApp_helps_BT_get_rid_of_tons_of_stuff...literally">статья</a> нашлась на ресурсе wikibon.org</p>
<p>British Telecom, перейдя на виртуальную серверную инфраструктуру (и, среди прочего, на системы хранения NetApp), избавился, в общей сумме, от 75 тонн оборудования.</p>
<ul>
<li>3100 различных серверов превратились всего в 134. </li>
<li>700 шкафов с оборудованием на 8 сайтах – в 40 на пяти сайтах. </li>
<li>2.1 мегаватта потребляемой электроэнергии – в 0,24 мегаватта </li>
<li>9300 сетевых портов – в 840 </li>
<li>20% уровень использования хранилищ данных достиг 70% </li>
<li>6 недель развертывания новых серверов – в менее чем один рабочий день. </li>
</ul>
<p>??спользуется 9PB хранилища на системах NetApp (из 27PB общего пространства хранения).    <br />В результате, например, только на счетах за электричество достигнута экономия в два с половиной миллиона долларов США в год.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../virtualization.html" rel="tag">virtualization</a>, <a href="../index.html" rel="tag">vmware</a><br />					Раздел: <a href="../../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;" rel="category tag">цитаты</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../469/trackback.html#respond" title="Комментарий к записи Виртуализация сэкономила 75 тонн серверов">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-354">
				<h2 class="posttitle"><a href="../../../354/trackback.html" rel="bookmark" title="Permanent Link to NetApp и VMware VI 3 Best Practices на русском">NetApp и VMware VI 3 Best Practices на русском</a></h2>
				<div class="postmetadata">14 Август 2009, 15:02 <!-- от  --></div>
				<div class="postentry">
					<p>Наконец то дошел до публикации мой перевод Руководства по наилучшим методам  использования и настройки систем хранения NetApp для виртуальных инфраструктур VMware VI версии 3.<br />
Это совместная работа специалистов NetApp и VMware, поможет использующим VMware с этими СХД, впрочем в работе рассматривается много вопросов и &#8220;аппаратно-независимых&#8221;, которые будут полезны при использовании и не только NetApp, например организацию и настройку многопутевых подключений ethernet-системы хранения (iSCSI, NFS) к серверам фермы VMware VI с помощью транкинга.</p>
<p>Шел он к публикации долго. Настолько долго, что за это время уже успел выйти следующий документ, по работе с VSphere (VI 4). Но тут уж не моя вина. Пока не ясно, будем ли мы готовить новый перевод, но если - обязательно сообщу.</p>
<p>По крайней мере, как я знаю, это единственная такая инициатива на русском языке среди производителей систем хранения.</p>
<p>Читать тут:<br />
<a href="http://www.netwell.ru/production/techbiblioteka.php">http://www.netwell.ru/production/techbiblioteka.php</a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../best-practices.html" rel="tag">best practices</a>, <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../index.html" rel="tag">vmware</a>, <a href="../../news/index.html" rel="tag">новости</a><br />					Раздел: <a href="../../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../354/trackback.html#comments" title="Комментарий к записи NetApp и VMware VI 3 Best Practices на русском">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-168">
				<h2 class="posttitle"><a href="../../../168/trackback.html" rel="bookmark" title="Permanent Link to Публикации на русском языке">Публикации на русском языке</a></h2>
				<div class="postmetadata">22 Сентябрь 2008, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p><a href="http://www.vd.verysell.ru/files/ie/330_5_DOCUMENT_space_reclamation.pdf">Статья &#8220;Уменьшение стоимости хранения за счет экономии дискового пространства&#8221; о использовании сравнительно новой и все еще пока малоизвестной опции Space Reclamation в SnapDrive.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_4_DOCUMENT_oracle_on_nfs.pdf">Статья &#8220;Oracle на NFS&#8221;, о некоторых аспектах все еще пока не слишком распространенного способа хранения данных баз Oracle на NAS-системе, с использованием NFS.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_2_DOCUMENT_netapp_dedup_&#038;_vmware_dr.pdf">О плюсах и преимуществах использования дедупликации NetApp в задачах построения катастрофоустойчивых конфигураций на VMware Virtual Infrastructure.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_6_DOCUMENT_Exchange_2007-LLC-CCR.pdf">О некоторых аспектах отказоустойчивого использования Exchange 2007 и его встроенных средств репликации LCR и CCR.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_7_DOCUMENT_Oracle_on_FC.pdf">Вторая часть серии про работу Oracle на NetApp, на этот раз на FC.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_8_DOCUMENT_Storage_block_alignment_with_VMware.pdf">Руководство по правильному выравниванию структур создаваемых виртуальных дисков виртуальных машин в среде VMware, относительно блоков данных систем хранения NetApp. </a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_12_DOCUMENT_MS_Exch_SP1_BP.PDF">Руководство Best Practices по развертыванию хранилища MS Exchange 2007 SP1 на системе хранения NetApp.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_11_DOCUMENT_Oracle_on_NetApp_Part_III.PDF">Статья о том, почему при использовании Oracle на системах NetApp протокол доступа, FC, iSCSI или NFS, на самом деле не важен, и как добиться этого.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_10_DOCUMENT_NetBackup_Vault_Integration_with_NetApp_VTL.PDF">Руководство по интеграции средств системы NetApp VTL и ПО NetBackup Vault.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_13_DOCUMENT_A-SIS%20Comes%20of%20Age.pdf">Статья &#8220;A-SIS созрела&#8221;, о том, как устроена, как работает, и что может вам дать технология дедупликации в системах хранения NetApp.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_16_DOCUMENT_Tackle%20the%20Top%20Three%20VMware%20Backup%20Challenges.pdf">Статья о трех задачах резервного копирования в VMware, и как можно их решить с использованием средств предлагаемых NetApp. </a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_14_DOCUMENT_Choosing%20the%20Right%20Backup%20Technology.pdf">О использовании систем хранения NetApp для резервного копирования Disk-to-Disk, и какие преимущества имеет такая система перед традиционными решениями.</a></p>
<p><a href="http://www.vd.verysell.ru/files/ie/330_15_DOCUMENT_FAS3100%20-%20R.pdf">О том, как создавалась FAS3100, какие цели были поставлены, и как удалось создать экономически эффективную систему хранения midrange-класса.</a></p>
<p>А подписаться на получение новых выпусков можно <a href="http://www.vd.verysell.ru/suppliers/netapp/documentation/">на странице компании Verysell Distribution</a>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../backup/index.html" rel="tag">backup</a>, <a href="../../deduplication/index.html" rel="tag">deduplication</a>, <a href="../../documents.html" rel="tag">documents</a>, <a href="../../exchange.html" rel="tag">exchange</a>, <a href="../../fc.html" rel="tag">fc</a>, <a href="../../iscsi/index.html" rel="tag">iscsi</a>, <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../nfs/index.html" rel="tag">nfs</a>, <a href="../../oracle/index.html" rel="tag">oracle</a>, <a href="../../restore.html" rel="tag">restore</a>, <a href="../../snapdrive.html" rel="tag">snapdrive</a>, <a href="../index.html" rel="tag">vmware</a><br />					Раздел: <a href="../../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../168/trackback.html#comments" title="Комментарий к записи Публикации на русском языке">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-167">
				<h2 class="posttitle"><a href="../../../167/trackback.html" rel="bookmark" title="Permanent Link to VMware и протоколы. Любопытная аналитика.">VMware и протоколы. Любопытная аналитика.</a></h2>
				<div class="postmetadata">18 Сентябрь 2008, 10:47 <!-- от  --></div>
				<div class="postentry">
					<p>Любопытные цифры приведены в аналитическом отчете ESG (Enterprise Strategy Group Inc.), опубликованном в начале этого года (<a href="http://www.netapp.com/us/library/analyst-reports/ar1055.html">доступен на сайте NetApp</a>).</p>
<p>Более половины (<strong>54%</strong>) из 329 опрошенных ответило, что, после внедрения решеня серверной виртуализации, объемы хранения увеличились (причем ответ &#8220;<em>свыше 20%</em>&#8221; дали <strong>18%</strong> от этого количества).</p>
<p><strong>68%</strong> ответивших считают, что FibreChannel есть <em>&#8220;технология, предлагающая максимальную производительность&#8221;</em> (и всего <strong>22%</strong> ответили так для NFS).</p>
<p>Всего <strong>19%</strong> считают о NFS, что она <em>&#8220;наилучшим образом оптимизирована для задач виртуализации серверов&#8221;</em> (против <strong>49%</strong> FC и <strong>45%</strong> iSCSI) </p>
<p>При этом среди тех, кто уже использует то или иное решение, ситуация обратная.<br />
<em>&#8220;Мы уже используем эту технологию и она нас полностью устраивает&#8221;</em> <strong>65%</strong> назвали NFS, и уже только <strong>53%</strong> FC.  </p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../fc.html" rel="tag">fc</a>, <a href="../../iscsi/index.html" rel="tag">iscsi</a>, <a href="../../nfs/index.html" rel="tag">nfs</a>, <a href="../index.html" rel="tag">vmware</a><br />					Раздел: <a href="../../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../167/trackback.html#comments" title="Комментарий к записи VMware и протоколы. Любопытная аналитика.">Комментарии (3)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-163">
				<h2 class="posttitle"><a href="../../../163/trackback.html" rel="bookmark" title="Permanent Link to VMware на NFS: не только NetApp">VMware на NFS: не только NetApp</a></h2>
				<div class="postmetadata">15 Сентябрь 2008, 12:57 <!-- от  --></div>
				<div class="postentry">
					<p>Еще несколько деталей о NFS, чаще неспецифических для NetApp, но не менее важных и интересных.</p>
<p><strong>Очереди Ввода-вывода.</strong></p>
<p>Если вы используете в качестве datastore LUN под VMFS, то ввод-вывод вашего ESX, неважно FC или iSCSI, <strong>будет ограничен одной очередью ввода-вывода на LUN</strong>, для всех VM хранящих свои виртуальные диски в VMFS data store на нем. Ведь ESX обращается к одному единственному LUN, с точки зрения ввода-вывода это одно SCSI-устройство, и параллельность ввода-вывода тут невозможна или очень ограничена.<br />
В случае NFS вы можете использовать произвольное количество очередей ввода-вывода. Каждая VM, хранящая свои виртуальные диски на data store на NFS-шаре, <strong>будет иметь индивидуальную и независимую от других очередь ввода-вывода </strong>(IO queue).   </p>
<p><img src="/pics/VMFS-LUN.jpg" alt="VMFS LUN. Одна очередь ввода-вывода ко всем VM на data store" /><br />
<em>VMFS LUN. Одна очередь ввода-вывода ко всем VM на data store.</em></p>
<p><img src="/pics/NFS-DataStore.jpg" alt="NFS Data Store. Каждая VM имеет собственную очередь ввода-вывода." /><br />
<em>NFS Data Store. Каждая VM имеет собственную очередь ввода-вывода.</em></p>
<p><strong>Bandwidth Is not a Speed</strong></p>
<p>В значительном количестве случаев при переходе с FC на NFS вы, как ни странно, можете даже выиграть в скорости.<br />
&#8220;Как же так?&#8221; - наверняка спросите вы, &#8220;Ведь всем известно, что скорость FC это 4 GB/s, а NFS в случае 1GB Ethernet работает на 1GB/s, значит NFS просто обязана работать вчетверо медленнее!&#8221;<br />
Ответить нетрудно. &#8220;Полоса пропускания&#8221; (англ. &#8220;bandwidth&#8221;) не равно &#8220;Скорость&#8221; (англ. &#8220;Speed&#8221;). ??, к слову, не всегда равно &#8220;Производительность&#8221; (англ. &#8220;Performance&#8221;). Смешивать эти понятия будет большой ошибкой.<br />
Я уже <a href="<br />
http://blog.aboutnetapp.ru/archives/38">писал</a> об этой &#8220;смысловой коллизии&#8221; <a href="<br />
http://blog.aboutnetapp.ru/archives/38">раньше</a>, процитирую себя вкратце:</p>
<blockquote><p>&#8220;Скорость&#8221; интерфейса передачи данных зависит прежде всего от приложения, с ним работающего, а вовсе не от его &#8220;пропускной способности&#8221; в гигабайтах в секунду, до тех пор, пока мы не достигаем предела производительности интерфейса.</p></blockquote>
<p>Ввод-вывод VMware ESX производится мелким блоками (4-8kb), и при этом предельно рандомно (что неудивительно для системы, хостящей множество независимых процессов множества виртуальных машин). <strong>При таком характере ввода-вывода роль играет не bandwith интерфейса, а его латентность и производительность в IOPS.</strong> А вот тут уже NFS имеет очень хорошие показатели, за счет чего и выигрывает в этих гонках. Так что, если при переходе с 4Gb/s FC на 1Gb/s NFS вы еще и выиграете в производительности, то не ищите, где же вы ошиблись. Это вполне вероятный поворот дела.</p>
<p><strong>Увеличивать и уменьшать datastore без необходимости ковырять приложения и ESX. </strong></p>
<p>??нтересной особенностью использования datastore на NFS-томе NetApp является то, что вы можете не только увеличивать его размер, но, при необходимости и уменьшать, причем и то и другое без какого-либо колдовства с сервером ESX или виртуальными машинами, чтобы они могли это увидеть и использовать.<br />
Если увеличение это частая и в целом довольно обычная процедура, то вот уменьшение для LUN задача не из простых, а порой и вовсе нерешаемая.<br />
Зато для NFS-тома NetApp вы вольны делать изменение в обе стороны.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../nfs/index.html" rel="tag">nfs</a>, <a href="../../techtalk/index.html" rel="tag">techtalk</a>, <a href="../index.html" rel="tag">vmware</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../163/trackback.html#comments" title="Комментарий к записи VMware на NFS: не только NetApp">Комментарии (18)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-165">
				<h2 class="posttitle"><a href="../../../165/trackback.html" rel="bookmark" title="Permanent Link to Скоро на экранах ваших мониторов!">Скоро на экранах ваших мониторов!</a></h2>
				<div class="postmetadata">12 Сентябрь 2008, 10:04 <!-- от  --></div>
				<div class="postentry">
					<p>На днях закончил перевод документа “NetApp and VMware VI3 Best Practices Guide”.</p>
<p>Переводилось по заказу Верисел Дистрибуции, будет опубликовано в их рассылке. Пока же хочу привлечь ваше внимание к уже вышедшим у них текстам, мы пытаемся вместе сделать некий аналог нетапповского TechONTAP – ежемесячной рассылки статей на, преимущественно, техническо-справочную тему. При вынужденной маркетинговой пассивности российского NetApp это может быть подспорьем.</p>
<p>Архив уже вышедших публикаций доступен в виде PDF, по ссылке в колонке справа, “Русскоязычные документы”.</p>
<p>Следующий текст: “Руководство владельца NetApp” – мануал по сервису “для владельца”. Как настроить Autosupport; куда и как звонить если “все сломалось”; какие данные подготовить перед звонком в поддержку, чтобы не бегать в серверную, не искать где там на корпусе серийник; как правильно обновлять прошивку и версию DataONTAP, и так далее. Мне, в свое время, такого сильно не хватало. :)</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../service.html" rel="tag">service</a>, <a href="../../techontap.html" rel="tag">techontap</a>, <a href="../../verysell.html" rel="tag">verysell</a>, <a href="../index.html" rel="tag">vmware</a>, <a href="../../dokumenty.html" rel="tag">документы</a><br />					Раздел: <a href="../../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../165/trackback.html#comments" title="Комментарий к записи Скоро на экранах ваших мониторов!">Комментарии (4)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-161">
				<h2 class="posttitle"><a href="../../../161/trackback.html" rel="bookmark" title="Permanent Link to VMware на NFS: в жизни">VMware на NFS: в жизни</a></h2>
				<div class="postmetadata">9 Сентябрь 2008, 10:28 <!-- от  --></div>
				<div class="postentry">
					<p>Пример <strong>по настоящему большой</strong> системы, использующей NFS для VMware:</p>
<p><strong>Около 1000 виртуальных машин, на 35 ESX-серверах, в двух локациях.</strong> Все на NFS нескольких NetApp FAS. С августа 2006 года отказались от FC SAN и перешли на NFS.</p>
<p>Система, созданная и работающая в крупной международной инвестиционной компании Invesco, <nofollow><a href="http://www.netapp.com/us/company/our-story/innovation-awards/2007winners.html">получила</a></nofollow> <nofollow><a href="http://viroptics.blogspot.com/2008/06/netapp-2007-netapp-innovation-awards.html"><strong>2007 NetApp Innovation Awards</strong></a></nofollow> в категории Enterprise Infrastructure - награду, ежегодно присуждаемую за наиболее значимое внедрение технологий и решений NetApp.</p>
<p><em>&#8220;Я всерьез уверен, что даже сам NetApp не видел своего потенциала в этой области, пока мы не продемонстрировали значение снэпшотов и технологий репликации от NetApp в среде VMware&#8221;</em> <nofollow><a href="http://viroptics.blogspot.com/2008/06/netapp-2007-netapp-innovation-awards.html">Dan Pancamo</a></nofollow>.</p>
<p>&#8220;В августе 2006 года, когда был анонсирован NFS для VMware, мы планировали крупное обновление нашей инфраструктуры VMware. На тот момент наша инфраструктура состояла из примерно 20 ESX-хостов, с, примерно, 750 виртуальными машинами, использующими по Fibre Channel систему хранения Hitachi. Мы также использовали много систем хранения NetApp, и, зная преимущества NFS перед SAN, мы решили исследовать возможность использовать системы NetApp по NFS с VMware. Я почти уверен, что мы были первыми клиентами NetApp, сделавшими это.</p>
<p>Конечно, первым барьером была производительность. К счастью, у нас были результаты производительности нашей VMware-системы, примерно за годичный период. После внимательного анализа этих данных, мы обнаружили, что уровень используемой полосы нашей SAN был весьма низок. В среднем он был в районе 10-15MB/s по всем 20 серверам, с пиками не превышающими 50MB/s. Так как миграция на NFS была проста, мы решили перенести несколько тестовых серверов на NFS. Все что мы сделали, это смотнитровали том NFS на ESX-сервер и запустили перенос виртуальных машин. После миграции примерно 100 VM на NFS в течении 6 месяцев, мы решили строить нашу новую инфраструктуру целиком на NFS. </p>
<p>Мы купили два выделенных специально под эту задачу NetApp 3070 и несколько новых восьмипроцессорных серверов, под ESX-хосты новых проектов. Мы также используем уже имеющийся у нас NetApp R200, хранящий снэпшоты за 21 день, для онлайн-бэкапов. Этот R200 также используется как запасная система, в случае полного выхода из строя основных хранилищ. В течении 6 месяцев мы полностью перенесли все наши виртуальные машины с SAN в NetApp NFS. Сегодня у нас примерно 1000 виртуальных машин в нашей системе VMware VI.</p>
<p>С нашей текущей загрузкой NetApp FAS3070 мы оцениваем возможности по расширению текущей системы по меньшей мере еще на 2000 виртуальных машин просто добавлением новых ESX-хостов. Нынешняя нагрузка по вводу-выводу на наш NetApp FAS3070C составляет в среднем 4MB/s с несколькими пиками до 30MB/s в течени дня. Никаких проблем с производительностью ввода-вывода не возникало. Наши администраторы VMware сказали, что все стало работать даже быстрее, чем в случае SAN, когда они устанавливают OS, при работе VMotion и клонировании.   </p>
<p>Мы сейчас не запускаем в виртуальных машинах Exchange или SQL Server, однако с запланированным 10Gbit Eternet и Infiniband, как я думаю, скоро все реальные сервера перейдут в виртуальные.&#8221; </p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../nas.html" rel="tag">nas</a>, <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../nfs/index.html" rel="tag">nfs</a>, <a href="../index.html" rel="tag">vmware</a><br />					Раздел: <a href="../../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;" rel="category tag">цитаты</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../161/trackback.html#respond" title="Комментарий к записи VMware на NFS: в жизни">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-159">
				<h2 class="posttitle"><a href="../../../159/trackback.html" rel="bookmark" title="Permanent Link to VMware на NFS: подробности о плюсах.">VMware на NFS: подробности о плюсах.</a></h2>
				<div class="postmetadata">5 Сентябрь 2008, 8:58 <!-- от  --></div>
				<div class="postentry">
					<p>Я решил не раздувать прошлый пост, упихивая в него всю тему.<br />
Сегодня подробнее о том, почему, и как именно вы получите &#8220;больше от того же NetApp&#8221; при использовании VMware на NFS. </p>
<blockquote><p>Простое и эффективное использование всех фич NetApp, таких как thin provisioning (динамическое выделение пространства тому по мере его потребности в месте, а не сразу в момент нарезки тома или LUN), дедупликация, снэпшоты.</p></blockquote>
<p>Почему оно хорошо работает с NFS и что ему мешает работать также хорошо на FC/iSCSI?</p>
<p><img src="/pics/NetappNFS.jpg" alt="Схема работы VMware ESX по NFS с NetApp FAS" /></p>
<p><strong>Thin Provisioning</strong> (<a href="../../../36/trackback.html">подробнее было здесь</a>)<br />
Я уже ранее писал о <a href="../../../36/trackback.html">thin provisioning</a>. Это любопытная технология, которая позволяет экономить место на дисковой системе хранения за счет того, что, в отличие от традиционного метода, место для занимающего пространство объекта, будь то LUN или файл, например тот же VMDK, выделяется и резервируется не в момент создания, а по мере заполнения его реальным содержимым.</p>
<p>Простой пример. Вы администратор системы хранения и у вас есть 1TB. Но кроме терабайта пока свободного места у вас есть пользователи со своими проектами. Например к вам пришли трое, каждый желает получить по 500GB под свои базы данных. У вас есть несколько вариантов решения. Вы можете выделить первым двум запрашиваемые 500 и отказать третьему. Вы можете урезать их треования и выдать всем троим по 330GB вместо просимых 500. </p>
<p>В обоих случаях вы окажетесь с полностью &#8220;занятым&#8221; стораджем, при том, что вы точно знаете, что в ближайший год все три базы едва ли по 50-70GB объема наберут, остальное же выданное место будет лежать &#8220;про запас&#8221;, &#8220;чтобы два раза не ходить&#8221;, распределенным и не доступным другим нуждающимся. Обычное дело, всем знакомо.</p>
<p>В случае использования thin provisioning-а вы смело выдаете всем троим по просимым 500GB. Все трое видят для себя доступным LUN размером 500GB, ура. Они создают на нем базы, каждая из которых постепенно растет и использует место. С точки зрения же вас, как администратора, свободное пространство на дисках, общей емкостью в 1TB, несмотря на то, что на нем лежит три якобы 500GB LUN, уменьшилось всего на 50*3=150GB, и вы все еще имеете 850GB свободного места, постепенно уменьшающееся по мере роста реального размера баз. Придет к вам четвертый - получит пространство под свои задачи и он.</p>
<p>Традиционный вопрос и традиционный ответ.<br />
<strong>Q:</strong> А как же фрагментация? Ведь мы еще со времен Windows 95 привыкли отключать динамически изменяемый своп и фиксировать его для достижения лучшей производительности? Если мы предоставим LUN-у рсти как ему вздумается, то он начнет писаться куда попало, а не подряд?</p>
<p><strong>A:</strong> Ну наверное для Windows на FAT это действительно верно. Но в случае WAFL это особого смысла не имеет. WAFL как файловая система устроена так, что он в любом случае будет писать &#8220;вразнобой&#8221; (см. статью про устройство WAFL), &#8220;куда попало&#8221; AKA &#8220;Write Anywhere&#8221;. То есть выделили-ли вы фиксированный LUN, или предоставили ему расти самостоятельно (autogrow), хоть так, хоть сяк, оно будет работать, с точки зрения файловой системы, одинаково. ?? если вас устраивало быстродействие в случае традиционного provisioning-а &#8220;одним куском&#8221;, то нисколько не медленнее оно будет и в случае thin provisioning-а.</p>
<p><strong>Почему это хорошо работает для NAS, и часто не так хорошо для SAN?</strong><br />
Дело в том, что в случае NAS система хранения обладает полной информацией о хранимых данных. Ведь она создает и поддерживает на своей стороне файловую систему, и знает все о том, что у нее хранится. В случае же хранения LUN, она просто предоставляет внешнему пользователю &#8220;массив байт&#8221;, и далее не знает ничего о том, что и как там на нем происходит.<br />
Вся информация, которой она располагает, это то, что вот эти байты были &#8220;потроганы&#8221;, и, значит, скорее всего, содержат информацию, а вот эти - нет, и скорее всего они пусты и не используются.</p>
<p>Простой пример, приведший к созданию опции Space Reclamation в новых версиях <strong>SnapDrive for Windows</strong>.<br />
Мы создаем LUN размером 500GB и размещаем на нем файловую систему, например NTFS. Мы форматируем ее, создаем на ней некую структуру файловой системы, и начинаем записывать данные. Спустя какое-то время мы записали на данный LUN 90% его емкости и решили его почистить от ненужного, надеясь за счет thin provisioning-а получить больше свободного места на системе хранения. Но, после удаления более ненужной информации, наш LUN на системе хранения продолжает занимать все те же 450GB, как и до чистки. Почему?</p>
<p>Потому что SAN-сторадж ничего не знает о том, что на нем произошла чистка. Вы знаете, что отличие свободного от занятого блока, с точки зрения файловой системы, это просто наличие специального атрибута блока &#8220;свободен, можно использовать повторно&#8221;. С точки зрения системы хранения все 450GB нашего LUN-а несут какую-то информацию, а таблица &#8220;занято-свободно&#8221; файловой системы для стораджа недоступна.</p>
<p>??менно для решения такой проблемы и была создана опция <strong>Space Reclamation</strong>. SnapDrive, работая &#8220;послом&#8221; на уровне OS и взаимодействуя с драйвером файловой системы, сообщает &#8220;вниз&#8221;, своему стораджу, что там &#8220;наверху&#8221; происходит, какие из ранее использованных блоков можно опять считать незанятыми и освободить их.<br />
Но такое доступно, повторюсь, только при использовании нового SnapDrive.</p>
<p>Зато просто и естественно получается при использовании стораджа как NAS. Веь в данном случае он сам следит за тем, какие блоки занимаются и высвобождаются.<br />
Следовательно, thin provisioning на NAS получается, обычно, гораздо эффективнее.</p>
<p><strong>Дедупликация.</strong></p>
<p>Подробнее и в деталях о дедупликации можно почитать на русском языке в статьях <a href="http://docs.google.com/Doc?id=dcq2fsr4_542jvxt3c5">&#8220;A-SIS: Дедупликация созрела&#8221;</a> и <a href="http://docs.google.com/Doc?id=dcq2fsr4_51c9wq3ndz">&#8220;Насколько безопасна дедупликация?&#8221;</a><br />
Кроме того, хочу обратить ваше внимание на русскоязычную рассылку, которую проводит российский дистрибутор NetApp - компания <nofollow><a href="http://vd.verysell.ru">Verysell</a></nofollow>. Ссылка на уже вышедшие выпуски находится справа, в колонке &#8220;Ссылки&#8221; - <nofollow><a href="http://www.vd.verysell.ru/suppliers/netapp/documentation/">&#8220;Русскоязычные документы&#8221;</a></nofollow>.</p>
<p>Это технология, при которой система обнаруживает в хранимых данных идентичные блоки, оставляет один, а на второй ставит своеобразные &#8220;хардлинки&#8221; на уровне файловой системы WAFL. То есть, с точки зрения пользователя, как раньше у него лежал в его домашней папке разосланный всем по компании документ, так и сейчас лежит, также как у сотни его коллег. На деле блоки данных этого документа хранятся в единственном экземпляре, просто логически доступны из множества пользовательских папок системы хранения.</p>
<p><img src="/pics/dedupe-bg.png" alt="Deduplication" /></p>
<p>Точно также все обстоит и в случае использования, например, баз данных. Если в базе данных у вас есть, например, пустые поля, или повторяющиеся записи, то эти поля не будут занимать блоки, в которых они расположены, а лишь одну копию, и &#8220;линки&#8221; на этот блок из множества других мест.</p>
<p>Так как это происходит на уровне файловой системы, то для пользователя, программы или базы данных это полностью прозрачно. Дедуплицированный же объект будет занимать на диске место значительно меньшее своего физического размера.</p>
<p>Если вы используете &#8220;классический метод&#8221; подключения LUN к ESX-серверу, с созданием на нем VMFS и хранением в ней файлов виртуальных дисков VMDK, то вы тоже можете воспользоваться дедупликацией. Так как она работает на уровне тома WAFL, то она заработает и для LUN-ов. </p>
<p>Однако вот в чем хитрость. При использовании дедупликации для LUN, экономию места вы увидите на уровне &#8220;администратора системы хранения&#8221;, а не &#8220;администратора VMware&#8221;. То есть после завершения postprocess-цикла дедупликации вы не увидите <em>больше</em> места на LUN. Но вот зато <em>на томе</em> NetApp, где располагается этот LUN, вы действительно <em>получите больше места </em>(например для размещения снэпшотов), так как физический объем LUN-а уменьшился, относительно содержащего его тома.<br />
А вот если мы дедуплицируем содержимое NFS-шары, то вот прямо свободное место, непосредственно доступное админу VMware на этой шаре, в результате и получаем. Опять же по вышерассмотренной причине.</p>
<p><strong>Снэпшоты</strong> - один из краеугольных камней системы хранения NetApp и одна из ее самых главных технических фишек. Мгновенные копии состояния системы хранения, не занимают в момент создания места, не ухудшают при использовании производительность системы в целом и весьма просты в применении.</p>
<p>Традиционный подход это подключение LUN по FC или iSCSI, форматирование его в VMFS и создание на нем datastore, для размещения в datastore файлов виртуальных дисков VMDK.<br />
Обычно, когда мы не ограничиваемся одной-двумя виртуальным машинами, мы объединяем и группируем диски виртуальных машин по датасторам. Тут у нас Эксченджи, тут файловые сервера, а тут - базы данных. Это облегчает администрирование, увеличивает надежность сервисов, и улучшает производительность, группируя сходную нагрузку в пределах одного потока ввода-вывода.</p>
<p>Но, как известно бэкап - ничто, без процесса восстановления. А вот с восстановлением все будет непросто. Так как в снэпшоте у нас окажется LUN целиком, то и восстановить его, привычным образом через &#8220;<code>snap restore <vol> <snapshot></code>&#8221; мы можем только целиком, вместе со всеми VMDK от разных машин. Хорошо ли будет из за сбоя на одном сервере откатывать всю группу? Сомневаюсь.<br />
Конечно есть выходы, можно смонтировать снэпшот как отдельный датастор, и из получившегося &#8220;датастор-прим&#8221; вытащить только нужные нам VMDK, а затем перенести их в основной датастор, заменив ими текушие файлы&#8230;<br />
Но как-то&#8230; неаккуратненько.</p>
<p>Какой же выход?<br />
Можно перейти от LUN/VMFS, рассмотренных выше, к LUN/RDM. То есть каждой виртуальной машине мы цепляем свой, созданный специально для нее LUN (или, чаще, два LUN. Один под систему, второй под swap и temp или /var). Казалось бы, мы решаем проблему с недостаточной гранулярностью восстановления, так как в данном случае мы сможем восстановить любой желаемый виртуальный диск, любой виртуальной машины по выбору.</p>
<p>Однако это хорошо работает только при сравнительно небольшом количестве виртуальных машин. Во первых, &#8220;датацентр&#8221; VMware, включающий в себя все входящие в него ESX-сервера, объединенные процессом VMotion, ограничен в количестве используемых на нем LUN-ов числом 254 LUN-а.<br />
Да и управление, например, двумя-тремя десятками виртуальных машин, каждая по два-три LUN в RDM, все эти LUN, как их не документируй, обязательно блудят и путаются. Решение для сильных духом и очень аккуратных админов.</p>
<p>Во вторых, мы в полный рост столкнемся с проблемой &#8220;заблудившихся LUN-ов&#8221;. Если наша виртуальная машина на одном из ESX-серверов использует LUN/RDM, то _все_ остальные ESX-сервера, входящие в &#8220;датацентр&#8221; будут видеть этот LUN как неиспользуемый, не понимая, что это RDM LUN для виртуальной машины. ?? существует весьма серьезная опасность, что однажды вы его таки отформатируете как незадействованный, в VMFS, вместе со всем его содержимым. Спрятать его нельзя, так как он должен быть доступен всем входящим в &#8220;датацентр&#8221; серверам для работы VMotion и перемещении нашей виртуальной машины между хостами. Это на самом деле серьезная опасность.</p>
<p>Таким образом при использовании снэпшотов на NFS-томе вы можете получить гораздо более &#8220;гранулярный&#8221; и удобный в использовании результат как при бэкапе, так и при восстановлении.</p>
<p><em>Как, вы все еще думаете, использовать ли для вашего VMware наш NFS?</em> ;)</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../backup/index.html" rel="tag">backup</a>, <a href="../../deduplication/index.html" rel="tag">deduplication</a>, <a href="../../nas.html" rel="tag">nas</a>, <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../nfs/index.html" rel="tag">nfs</a>, <a href="../../restore.html" rel="tag">restore</a>, <a href="../../thin-provisioning.html" rel="tag">thin provisioning</a>, <a href="../index.html" rel="tag">vmware</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../159/trackback.html#comments" title="Комментарий к записи VMware на NFS: подробности о плюсах.">Комментарии (5)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-158">
				<h2 class="posttitle"><a href="../../../158/trackback.html" rel="bookmark" title="Permanent Link to VMware на NFS: экзотика или новый хит?">VMware на NFS: экзотика или новый хит?</a></h2>
				<div class="postmetadata">1 Сентябрь 2008, 11:11 <!-- от  --></div>
				<div class="postentry">
					<p>Начиная с версии 3.0 флагманский продукт компании VMware - ESX Server поддерживает три типа подключения внешней дисковой системы: FC, iSCSI и NFS.<br />
На сегодняшний день примерно 90% инсталляций VMware используют FC. В оставшихся 10% царит iSCSI, а на долю NFS пока приходится совсем малое количество систем.<br />
Отчего так?</p>
<p>Причин я вижу две. Во первых, поддержка подключения дисковых систем хранения по NFS появилась только в ESX 3, то есть сравнительно недавно. А enterprise-сисадмины существа подозрительные, недоверчивые, злопамятные и консервативные (привет, коллеги!).<br />
?? во вторых, в среде IT все еще довлеет мнение, что NAS &#8220;это что-то такое несерьезное, коробка от списанного сервера под столом, с виндой или линуксом, для хранения экселевских файлов нашей бухгалтерии и mp3-шек&#8221;, устройство, с обычным названием, хорошо отражающим отношение к ней сисадмина - &#8220;файлопомойка&#8221;. Какое там enterprise, работает и ладно.<br />
Однако с известных пор, и стараниями известной вам компании, все это уже не совсем так.</p>
<p><strong>Как это сделано:</strong></p>
<p>Если у вас есть NAS работающий по NFS, например любой NetApp, или, возможно, EMC Celerra (хотя, как вы догадываетесь, и не все NAS &#8220;одинаково полезны&#8221;), то вы можете подключить созданный на нем дисковый ресурс как &#8220;сетевой диск&#8221; по протоколу NFS.</p>
<p><img src="/pics/nfs1.png"></p>
<p><img src="/pics/nfs2.png"></p>
<p>При этом вы <strong>НЕ </strong>используете VMFS (собственную файловю систему VMware для ее datastores), вы <strong>НЕ </strong>создаете LUN и <strong>НЕ </strong>монтируете эти LUNы ни в ESX (традиционный способ VMFS/LUN), ни в виртуальную машину (способ RDM/LUN - Raw Disk Mapping).<br />
Вы получаете для своего ESX &#8220;сетевой диск&#8221;, и просто размещаете на нем файлы виртуальных дисков  vmdk и vmx так, как будто это локальный диск вашего ESX, отформатированный в VMFS.</p>
<p>Странно и необычно? Только на первый взгляд. Просто воспринимайте этот &#8220;NFS-диск&#8221; как локальный. &#8220;А как же VMFS?&#8221;. Такие ее ключевые функции как, например, &#8220;кластерность&#8221;, то есть множественный доступ к ее разделу с разных виртуальных машин - обычная и традиционная функция NFS как сетевой файловой системы.</p>
<p>?? все? ?? все.</p>
<p><strong>Чем вы платите:</strong></p>
<p>1. Примерно, в среднем, 5% производительности на дисковых операциях. </p>
<p>2. Примерно, в среднем, 5% большей загрузкой процессоров хост-серверов ESX.</p>
<p>?? то и другое приведено на максимально возможной и максимально тяжелой тестировочной нагрузке, заметно превышающей существующую в реальной жизни.<br />
Официальные результаты сравнения быстродействия протоколов от VMware тут: <nofollow><a href="http://www.vmware.com/files/pdf/storage_protocol_perf.pdf">http://www.vmware.com/files/pdf/storage_protocol_perf.pdf</a></nofollow><br />
Там много интересных подробностей, но если лень читать - примите вышеприведенные цифры.<br />
Чуть более подробный документ, совместное исследование той же темы NetApp-ом и VMware тут: <nofollow><a href="http://media.netapp.com/documents/tr-3697.pdf">http://media.netapp.com/documents/tr-3697.pdf</a></nofollow></p>
<p><strong>Что вы получаете (плюсы):</strong></p>
<p>1. Простое и эффективное использование всех фич NetApp, таких как thin provisioning (динамическое выделение пространства тому по мере его потребности в месте, а не сразу в момент нарезки тома или LUN), дедупликация, снэпшоты. Почему, и за счет чего это так, я остановлюсь отдельно.</p>
<p>2. Эффективное &#8220;умное&#8221; кэширование, в том числе и с использованием PAM (Performance Acceleration Module).</p>
<p>3. Легкое управление: создание, удаление, перенос, резервное копирование и восстановление.</p>
<p>4. Отказоустойчивость и &#8220;многопутевость&#8221; подключения, обеспечиваемая отказоустойчивостью IP.</p>
<p>5. В ближайшей перспективе возможность использования 10Gb Ethernet. (Ну, как &#8220;в перспективе&#8221;. Купить 10Gb, в том числе и порты расширения этого стандарта в NetApp вы можете уже сейчас, разве что это пока все же дороговато. Хотя, наверное, не намного дороже, чем перейти на 8Gb FC. А то может и дешевле уже.)</p>
<p>6. В еще большей перспективе вы можете использовать сверхвысокопроизводительную многоузловую grid-систему Data ONTAP GX, которая сейчас уже доступна и работает в качестве NFS NAS (но пока очень ограниченно применима как SAN).</p>
<p><strong>Что вы не получаете (минусы):</strong></p>
<p>1. Вы, скорее всего не сможете использовать VCB (VMware Consolidated Backup) - автономную бэкап-систему VMware ESX.<br />
Довольно сомнительный на мой взгляд недостаток, учитывая примитивность самого VCB, с учетом наличия при этом, как альтернативы, снэпшотов и SMVI. Но вдруг кто-то себе жизни не видит без него.<br />
Также в блоге Ника Триантоса <nofollow><a href="http://storagefoo.blogspot.com/2007/09/vmware-on-nfs-backup-tricks.html">описывается остроумный способ</a></nofollow> &#8220;псевдо-VCB&#8221; - просто смонтировать файлы vmdk как разделы в linux-машине и, при наличии утилиты чтения NTFS, вы сможете делать пофайловый бэкап содержимого даже и windows-разделов.<br />
<font=1>Также обратите внимание, что работа по NFS, с недавних пор, стала доступна для VCB, входящего в версию 3.5, но есть ограничения.</font></p>
<p>2. Вы не сможете использовать внутри виртуальных машин MSCS - Microsoft Cluster Services - кластерную систему Microsoft. Ей нужны RDM(Raw Disk Mapping)-диски, то есть LUN-ы подключеные внутрь VM как raw-диски. Зачем нужен MSCS при наличии VMotion, HA и DRS? Ну может MSCS у нас бесплатен (в составе MS Windows Server Enterprise), а лицензия VMware HA за деньги, или мы по каким-то внутренним причинам переносим без изменений в виртуальную инфраструктуру физическую серверную систему на MSCS, почем знать.</p>
<p>В обоих этих случаях вы можете совместить NFS и LUN-ы SAN. Выбор одного варианта не отбирает и не запрещает вам второй.</p>
<p>Частый вопрос:<br />
<strong>Q:</strong> &#8220;Будет ли это все работать у меня, если мои виртуальные сервера - Windows?&#8221;<br />
<strong>A:</strong> &#8220;Да, к NAS, с дисками по NFS, подключается не &#8220;гостевая&#8221; виртуальная OS, а сам ESX. А для гостевых OS диски, получаемые ESX-ом c системы хранения, выглядят как локальное пространство дисков ESX-сервера, и с NFS как таковым виртуальные машины дела не имеют, все для них уже сделал ESX. Ваша виртуальная машина создает диск, и вы получаете на NFS-томе обычные файлы vmdk, словно это локальный диск ESX под VMFS&#8221;.</p>
<p>Характерный комментарий к одному из постов на эту тему:<br />
<em>&#8220;Dan Pancamo said:<br />
950 VMs across 35 ESX servers. ALL on Netapp over NFS for more than a year now. FC/iSCSI? No thanks!&#8221;</em></p>
<p>Ну что, убедил посмотреть тему повнимательнее и пересмотреть предубеждения?</p>
<p><strong>Еще почитать на тему:</strong></p>
<p>Nick Triantos, один из разработчиков NetApp<br />
<nofollow><a href="http://storagefoo.blogspot.com/2007/09/vmware-over-nfs.html">VMware over NFS (07.09.2007)</a></nofollow></p>
<p>Обзор Gartner:<br />
<nofollow><a href="http://mediaproducts.gartner.com/gc/webletter/netapp/issue18/gartner5.html">Choosing Network-Attached Storage for VMware: What You Should Know</a></nofollow></p>
<p>Mark Mayo<br />
<nofollow><a href="http://www.vmunix.com/mark/blog/archives/2006/08/17/vmware-server-and-nfs-am-i-alone/">VMware Server and NFS? Am I alone?</a></nofollow></p>
<p>Chuck Hollis, Вице-президент EMC по технологическим альянсам, вечный оппонент Хитца, который никогда не упустит в своем блоге возможности злобно куснуть NetApp ;), придерживается того же мнения:<br />
<nofollow><a href="http://chucksblog.typepad.com/chucks_blog/2007/12/storage-protoco.html">Storage Protocols and VMware </a></nofollow>(4.12.2007)<br />
<nofollow><a href="http://chucksblog.typepad.com/chucks_blog/2006/12/vmware_virtual_.html">VMware Virtual Infrastructure 3 – Climbing The Mountain</a></nofollow> (21.12.2006)</p>
<p>Ничего удивительного, ведь NAS продают и EMC.<br />
<nofollow><a href="http://www.vmware.com/files/pdf/VMware_VI3_and_EMC_Celerra_IP.pdf">Using EMC Celerra IP Storage with VI3 over iSCSI and NFS.</a></nofollow></p>
<p>Dan Pancamo<br />
<nofollow><a href="http://viroptics.blogspot.com/2007/11/why-vmware-over-netapp-nfs.html">Why VMware over Netapp NFS</a> </nofollow></p>
<p>Ну и наконец еще раз упомяну на мой взгляд интереснейший, полезнейший и очень активно пополняющийся <nofollow><a href="http://www.vm4.ru/">блог Михаила Михеева</a></nofollow>, преподавателя по теме VMware VI в УЦ Микроинформ. Если вы занимаетесь VMware, то имеет смысл на него подписаться, множество важной и интересной информации собранной &#8220;на просторах&#8221; там публикуется.<br />
Вот, например, все о теме NFS: <nofollow><a href="http://www.vm4.ru/search?q=NFS">http://www.vm4.ru/search?q=NFS</a></nofollow></p>
<p>Ну что-ж. Так и не уложил в один пост всю тему. To be continued.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../nfs/index.html" rel="tag">nfs</a>, <a href="../../techtalk/index.html" rel="tag">techtalk</a>, <a href="../index.html" rel="tag">vmware</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../158/trackback.html#comments" title="Комментарий к записи VMware на NFS: экзотика или новый хит?">Комментарии (2)</a>									 </div>
			</div>
	
		
		<div class="navigation">
			<div class="alignleft"></div>
			<div class="alignright"><a href="3.html">Next Entries &raquo;</a></div>
		</div>
		
	
	</div>
	<div id="sidebar">
		<ul>
			
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Автор</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li class="pagenav"><h2>Страницы</h2><ul><li class="page_item page-item-153"><a href="../../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul></li>
			<li><h2>Рубрики</h2>
				<ul>
					<li class="cat-item cat-item-89"><a href="../../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;">commands</a>
</li>
	<li class="cat-item cat-item-37"><a href="../../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;">howto</a>
</li>
	<li class="cat-item cat-item-52"><a href="../../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;">justread</a>
</li>
	<li class="cat-item cat-item-51"><a href="../../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;">review</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;">techtalk</a>
</li>
	<li class="cat-item cat-item-71"><a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;">tricks</a>
</li>
	<li class="cat-item cat-item-95"><a href="../../../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;">utilities</a>
</li>
	<li class="cat-item cat-item-44"><a href="../../../category/whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;">whoisho</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;">новости</a>
</li>
	<li class="cat-item cat-item-387"><a href="../../../category/opros.html" title="Просмотреть все записи в рубрике &laquo;опрос&raquo;">опрос</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;">переводы</a>
</li>
	<li class="cat-item cat-item-40"><a href="../../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;">цитаты</a>
</li>
				</ul>
			</li>

			<li><h2>Архивы</h2>
				<ul>
					<li><a href='../../../date/2018/01.html' title='Январь 2018'>Январь 2018</a></li>
	<li><a href='../../../date/2015/10.html' title='Октябрь 2015'>Октябрь 2015</a></li>
	<li><a href='../../../date/2015/04.html' title='Апрель 2015'>Апрель 2015</a></li>
	<li><a href='../../../date/2015/03.html' title='Март 2015'>Март 2015</a></li>
	<li><a href='../../../date/2015/01.html' title='Январь 2015'>Январь 2015</a></li>
	<li><a href='../../../date/2014/12.html' title='Декабрь 2014'>Декабрь 2014</a></li>
	<li><a href='../../../date/2014/11.html' title='Ноябрь 2014'>Ноябрь 2014</a></li>
	<li><a href='../../../date/2014/10.html' title='Октябрь 2014'>Октябрь 2014</a></li>
	<li><a href='../../../date/2014/09.html' title='Сентябрь 2014'>Сентябрь 2014</a></li>
	<li><a href='../../../date/2014/08.html' title='Август 2014'>Август 2014</a></li>
	<li><a href='../../../date/2014/07.html' title='Июль 2014'>Июль 2014</a></li>
	<li><a href='../../../date/2014/06.html' title='Июнь 2014'>Июнь 2014</a></li>
	<li><a href='../../../date/2014/05.html' title='Май 2014'>Май 2014</a></li>
	<li><a href='../../../date/2014/04.html' title='Апрель 2014'>Апрель 2014</a></li>
	<li><a href='../../../date/2014/03.html' title='Март 2014'>Март 2014</a></li>
	<li><a href='../../../date/2014/02.html' title='Февраль 2014'>Февраль 2014</a></li>
	<li><a href='../../../date/2014/01.html' title='Январь 2014'>Январь 2014</a></li>
	<li><a href='../../../date/2013/12.html' title='Декабрь 2013'>Декабрь 2013</a></li>
	<li><a href='../../../date/2013/11.html' title='Ноябрь 2013'>Ноябрь 2013</a></li>
	<li><a href='../../../date/2013/10.html' title='Октябрь 2013'>Октябрь 2013</a></li>
	<li><a href='../../../date/2013/09.html' title='Сентябрь 2013'>Сентябрь 2013</a></li>
	<li><a href='../../../date/2013/08.html' title='Август 2013'>Август 2013</a></li>
	<li><a href='../../../date/2013/07.html' title='Июль 2013'>Июль 2013</a></li>
	<li><a href='../../../date/2013/06.html' title='Июнь 2013'>Июнь 2013</a></li>
	<li><a href='../../../date/2013/05.html' title='Май 2013'>Май 2013</a></li>
	<li><a href='../../../date/2013/04.html' title='Апрель 2013'>Апрель 2013</a></li>
	<li><a href='../../../date/2013/03.html' title='Март 2013'>Март 2013</a></li>
	<li><a href='../../../date/2013/02.html' title='Февраль 2013'>Февраль 2013</a></li>
	<li><a href='../../../date/2013/01.html' title='Январь 2013'>Январь 2013</a></li>
	<li><a href='../../../date/2012/12.html' title='Декабрь 2012'>Декабрь 2012</a></li>
	<li><a href='../../../date/2012/11.html' title='Ноябрь 2012'>Ноябрь 2012</a></li>
	<li><a href='../../../date/2012/10.html' title='Октябрь 2012'>Октябрь 2012</a></li>
	<li><a href='../../../date/2012/09.html' title='Сентябрь 2012'>Сентябрь 2012</a></li>
	<li><a href='../../../date/2012/08.html' title='Август 2012'>Август 2012</a></li>
	<li><a href='../../../date/2012/07.html' title='Июль 2012'>Июль 2012</a></li>
	<li><a href='../../../date/2012/06.html' title='Июнь 2012'>Июнь 2012</a></li>
	<li><a href='../../../date/2012/05.html' title='Май 2012'>Май 2012</a></li>
	<li><a href='../../../date/2012/04.html' title='Апрель 2012'>Апрель 2012</a></li>
	<li><a href='../../../date/2012/03.html' title='Март 2012'>Март 2012</a></li>
	<li><a href='../../../date/2012/02.html' title='Февраль 2012'>Февраль 2012</a></li>
	<li><a href='../../../date/2012/01.html' title='Январь 2012'>Январь 2012</a></li>
	<li><a href='../../../date/2011/12.html' title='Декабрь 2011'>Декабрь 2011</a></li>
	<li><a href='../../../date/2011/11.html' title='Ноябрь 2011'>Ноябрь 2011</a></li>
	<li><a href='../../../date/2011/10/index.html' title='Октябрь 2011'>Октябрь 2011</a></li>
	<li><a href='../../../date/2011/09/index.html' title='Сентябрь 2011'>Сентябрь 2011</a></li>
	<li><a href='../../../date/2011/08.html' title='Август 2011'>Август 2011</a></li>
	<li><a href='../../../date/2011/07/index.html' title='Июль 2011'>Июль 2011</a></li>
	<li><a href='../../../date/2011/06/index.html' title='Июнь 2011'>Июнь 2011</a></li>
	<li><a href='../../../date/2011/05/index.html' title='Май 2011'>Май 2011</a></li>
	<li><a href='../../../date/2011/04/index.html' title='Апрель 2011'>Апрель 2011</a></li>
	<li><a href='../../../date/2011/03/index.html' title='Март 2011'>Март 2011</a></li>
	<li><a href='../../../date/2011/02.html' title='Февраль 2011'>Февраль 2011</a></li>
	<li><a href='../../../date/2011/01.html' title='Январь 2011'>Январь 2011</a></li>
	<li><a href='../../../date/2010/12.html' title='Декабрь 2010'>Декабрь 2010</a></li>
	<li><a href='../../../date/2010/11/index.html' title='Ноябрь 2010'>Ноябрь 2010</a></li>
	<li><a href='../../../date/2010/10/index.html' title='Октябрь 2010'>Октябрь 2010</a></li>
	<li><a href='../../../date/2010/09/index.html' title='Сентябрь 2010'>Сентябрь 2010</a></li>
	<li><a href='../../../date/2010/08.html' title='Август 2010'>Август 2010</a></li>
	<li><a href='../../../date/2010/07/index.html' title='Июль 2010'>Июль 2010</a></li>
	<li><a href='../../../date/2010/06.html' title='Июнь 2010'>Июнь 2010</a></li>
	<li><a href='../../../date/2010/05.html' title='Май 2010'>Май 2010</a></li>
	<li><a href='../../../date/2010/04/index.html' title='Апрель 2010'>Апрель 2010</a></li>
	<li><a href='../../../date/2010/03/index.html' title='Март 2010'>Март 2010</a></li>
	<li><a href='../../../date/2010/02.html' title='Февраль 2010'>Февраль 2010</a></li>
	<li><a href='../../../date/2010/01.html' title='Январь 2010'>Январь 2010</a></li>
	<li><a href='../../../date/2009/12/index.html' title='Декабрь 2009'>Декабрь 2009</a></li>
	<li><a href='../../../date/2009/11/index.html' title='Ноябрь 2009'>Ноябрь 2009</a></li>
	<li><a href='../../../date/2009/10.html' title='Октябрь 2009'>Октябрь 2009</a></li>
	<li><a href='../../../date/2009/09.html' title='Сентябрь 2009'>Сентябрь 2009</a></li>
	<li><a href='../../../date/2009/08/index.html' title='Август 2009'>Август 2009</a></li>
	<li><a href='../../../date/2009/07/index.html' title='Июль 2009'>Июль 2009</a></li>
	<li><a href='../../../date/2009/06.html' title='Июнь 2009'>Июнь 2009</a></li>
	<li><a href='../../../date/2009/05.html' title='Май 2009'>Май 2009</a></li>
	<li><a href='../../../date/2009/04.html' title='Апрель 2009'>Апрель 2009</a></li>
	<li><a href='../../../date/2009/03.html' title='Март 2009'>Март 2009</a></li>
	<li><a href='../../../date/2009/02.html' title='Февраль 2009'>Февраль 2009</a></li>
	<li><a href='../../../date/2009/01.html' title='Январь 2009'>Январь 2009</a></li>
	<li><a href='../../../date/2008/12.html' title='Декабрь 2008'>Декабрь 2008</a></li>
	<li><a href='../../../date/2008/11.html' title='Ноябрь 2008'>Ноябрь 2008</a></li>
	<li><a href='../../../date/2008/10.html' title='Октябрь 2008'>Октябрь 2008</a></li>
	<li><a href='../../../date/2008/09.html' title='Сентябрь 2008'>Сентябрь 2008</a></li>
	<li><a href='../../../date/2008/08.html' title='Август 2008'>Август 2008</a></li>
	<li><a href='../../../date/2008/03.html' title='Март 2008'>Март 2008</a></li>
	<li><a href='../../../date/2008/02.html' title='Февраль 2008'>Февраль 2008</a></li>
	<li><a href='../../../date/2007/12.html' title='Декабрь 2007'>Декабрь 2007</a></li>
	<li><a href='../../../date/2007/11.html' title='Ноябрь 2007'>Ноябрь 2007</a></li>
	<li><a href='../../../date/2007/10.html' title='Октябрь 2007'>Октябрь 2007</a></li>
	<li><a href='../../../date/2007/09.html' title='Сентябрь 2007'>Сентябрь 2007</a></li>
	<li><a href='../../../date/2007/08.html' title='Август 2007'>Август 2007</a></li>
	<li><a href='../../../date/2007/07/index.html' title='Июль 2007'>Июль 2007</a></li>
	<li><a href='../../../date/2007/06.html' title='Июнь 2007'>Июнь 2007</a></li>
	<li><a href='../../../date/2007/05.html' title='Май 2007'>Май 2007</a></li>
				</ul>
			</li>

			
					</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a href="../../../../feed">Entries (RSS)</a> and <a href="../../../../comments/feed">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br />
	Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a> and <a href="http://srinig.com/wordpress/themes/fluid-blue/">Fluid Blue theme</a>.<br />
	<!-- 15 queries. 0.101 seconds. -->
	</div>
</div> <!-- page -->
</body>
</html>
