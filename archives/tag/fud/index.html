<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>about NetApp   &raquo; fud</title>

<link rel="stylesheet" href="../../../wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />
<link rel="alternate" type="application/rss+xml" title="about NetApp RSS Feed" href="../../../feed" />
<link rel="pingback" href="../../../xmlrpc.php.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6" />

</head>

<body>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="../../../index.html" title="about NetApp: Системы хранения данных как предмет разговора">about NetApp</a></h1>
		<p>Системы хранения данных как предмет разговора</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="../../../index.html">
<input type="text" size="20" name="s" id="s" value="Поиск..."  onblur="if(this.value=='') this.value='Поиск...';" onfocus="if(this.value=='Поиск...') this.value='';"/>
</form>
	</div> 
	<!-- Search ends here-->
		
</div>

<div id="navbar">
<ul id="nav">
	<li><a href="../../../index.html">Home</a></li>
	<li class="page_item page-item-153"><a href="../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul>
</div>
<div id="wrapper">

	<div id="content">

	
			<p>Posts tagged &#8216;fud&#8217;</p>

	 		
		<div class="navigation">
			<div class="alignleft"><a href="page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>

						
			<div class="post" id="post-1273">
				<h2 class="posttitle"><a href="../../1273/trackback.html" rel="bookmark" title="Permanent Link to Что HP думает о NetApp, и как все обстоит на самом деле. Часть 2">Что HP думает о NetApp, и как все обстоит на самом деле. Часть 2</a></h2>
				<div class="postmetadata">8 Август 2013, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>&#160;</p>
<blockquote><p align="right"><em>Природа не терпит пустоты: там, где люди не знают правды, они заполняют пробелы домыслом.        <br /></em>Джордж Бернард Шоу</p>
</blockquote>
<p>В <a href="../../1272/trackback.html">прошлом посте</a> я начал детальный разбор довольно объемного текста, написанного специалистами компании HP о том, как и в чем они видят недостатки систем хранения NetApp. Так как с их стороны это оказалось крайне субъективное и неточное изложение вопроса, грешащее многочисленными ляпами, более или менее неосознанными заблуждениями и непониманием ряда основополагающих технологий, использованных у NetApp, я счел себя обязанным не оставлять его без ответа, и написать эту комментрованную рецензию, которую и предлагаю вашему вниманию. Это – вторая половина текста, смотрите первую часть в предыдущем посте.</p>
<p>Я намеренно выбрал тут тактику “чистой обороны”, и ничего, или почти ничего не говорю о свойствах и недостатках систем “противной стороны”, хотя, безусловно, у NetApp есть что острого и ехидного спросить у HP на их счет. Я лично считаю жанр “говнилок”, в котором написан исследуемый текст, довольно-таки “грязным”, он пишется, как правило, анонимно, и, по законам жанра, изобилует полемическим передергиванием, лично я считаю, что писать такие тексты – <em>западло</em> (давайте я уже скажу это слово ;). Но – “с волками жить – по волчьи выть, иначе будешь сидеть без бонусов”, я понимаю что именно заставляет такое писать.</p>
<p>А теперь давайте продолжим разбор обсуждаемого документа.</p>
<p>   <a href="../../1273/trackback.html#more-1273" class="more-link"><small>Continue reading &#8216;Что HP думает о NetApp, и как все обстоит на самом деле. Часть 2&#8217; &raquo;</small></a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../3par.html" rel="tag">3Par</a>, <a href="index.html" rel="tag">fud</a>, <a href="../hp.html" rel="tag">hp</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../storeserv.html" rel="tag">storeserv</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1273/trackback.html#comments" title="Комментарий к записи Что HP думает о NetApp, и как все обстоит на самом деле. Часть 2">Комментарии (10)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1272">
				<h2 class="posttitle"><a href="../../1272/trackback.html" rel="bookmark" title="Permanent Link to Что HP думает о NetApp, и как все обстоит на самом деле. Часть 1">Что HP думает о NetApp, и как все обстоит на самом деле. Часть 1</a></h2>
				<div class="postmetadata">5 Август 2013, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>&#160;</p>
<p>Пару недель назад мне в руки попал текст, подготовленный специалистами компании HP, продававшей систему HP 3Par, или как она сейчас называется, StoreServ 7000 против предложенного уже этому клиенту midrange NetApp. Документ относится к популярному в российском IT жанру “говнилок”, или, выражаясь интеллигентно – FUD (Fear, Uncertainity and Doubt). Как правило <a href="../../1266/trackback.html">такие документы</a> мне приходится встречать со стороны пресейл-инженеров компании <a href="../emc/index.html">EMC</a>, но впервые мне попадается в полном виде текст от HP, этим он особенно интересен. HP, как компания, находится в довольно-таки привелигированном положении на рынке, в особенности на российском. Это большая, крайне авторитетная компания “полного стека”, которая может предложить своим клиентам полный спектр оборудования, от серверов и систем хранения, активное сетевое оборудование, до шкафов и UPS. </p>
<p>Тем печальнее, что за последних 10 лет отдел систем хранения в компании был в явном “загоне”. Обладая в начале 90-х передовой и в чем-то даже революционной системой хранения EVA (Enterprise Virtual Array), компания “почивала на лаврах” и допочивалась до того, что EVA на рынке катастрофически морально устарела. Весь мир стораджей ушел вперед, за новыми модными фичами, а HP как продавала в мидрендже – EVA, в high-end ребрендированный Hitachi USP, а в энтрилевеле – DotHill, так и продавала. ?? допродавалась до катастрофических результатов. Сегодня из компаний в External Storage Top5 только HP <a href="http://www.storagenewsletter.com/images/public/sites/StorageNewsletter.com/articles/0icono12/idc_4q12_f3_540.jpg">теряет объемы продаж</a>, все остальные растут.</p>
<p>Вовремя (надеюсь) спохватившись, HP активно занялась обновлением своего стораджевого портфолио, традиционно “взяв под крыло” несколько небольших компаний с их интересными продуктами, таких как LeftHand и 3Par, и которым явно не хватало веса “продавиться” на рынок. Однако атмосфера долгого застоя в отделе стораджей все еще явно дает о себе знать. Для меня очень показательным стал разбор приведенного ниже документа, как на ладони демонстрирующего текущие проблемы <a href="http://en.wikipedia.org/wiki/HP_StorageWorks">HP StorageWorks</a> как отдела компании: устарелость использованных при подготовке инженеров материалов, крайняя узость эрудиции в области современных технологий, а как результат – низкая компетенция, по крайней мере в анализе продуктов конкурентов (я хочу думать о людях лучше, и верю, что в своих новых системах инженеры HP разбираются куда лучше, чем демонстрируют на системах конкурентов).</p>
<p>Документ сравнительно свежий, написан 11.09.2012 года в программе, зарегистрированной на имя <a href="http://www.linkedin.com/pub/%D0%B2%D0%BB%D0%B0%D0%B4%D0%B8%D0%BC%D0%B8%D1%80-%D0%BA%D0%BE%D1%80%D0%BE%D0%B1%D0%B5%D0%B9%D0%BD%D0%B8%D0%BA%D0%BE%D0%B2/45/569/b49">Владимир Коробейников</a>, это человек, работающий на позиции storage presale в HP с 2006 года (эту информацию можно почерпнуть в свойствах файла), я не утверждаю, что текст писал именно он, но эти данные в файле имеются.</p>
<p>??так, давайте посмотрим, что по поводу NetApp FAS думает HP, и как все обстоит на самом деле, где пресейлы HP ошибаются, от незнания или преднамеренно, где и почему вводят этим документом его читающего потенциального покупателя в заблуждение, а также как намерены бороться за продажи своих систем против NetApp.</p>
<p>Я далее приведу практически весь этот обширный документ, разрывая оригинальный текст своими комментариями, но постараюсь ничего не пропускать, дабы не быть обвиненным в тенденциозном выдирании из контекста, поэтому получтся несколько длинно, и я был вынужден поделить его на несколько частей, но потерпите уж. Это будет интересно, на мой взгляд.</p>
<p>   <a href="../../1272/trackback.html#more-1272" class="more-link"><small>Continue reading &#8216;Что HP думает о NetApp, и как все обстоит на самом деле. Часть 1&#8217; &raquo;</small></a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../3par.html" rel="tag">3Par</a>, <a href="index.html" rel="tag">fud</a>, <a href="../hp.html" rel="tag">hp</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../storeserv.html" rel="tag">storeserv</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1272/trackback.html#comments" title="Комментарий к записи Что HP думает о NetApp, и как все обстоит на самом деле. Часть 1">Комментарии (92)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1269">
				<h2 class="posttitle"><a href="../../1269/trackback.html" rel="bookmark" title="Permanent Link to Про &ldquo;культ бенчмарков&rdquo;">Про &ldquo;культ бенчмарков&rdquo;</a></h2>
				<div class="postmetadata">29 Июль 2013, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>В ближайшее время я намерен расширить список упоминаемых в этом блоге вендоров, так как мне в руки попал новенький лист FUDа от очередного автора, и я счел неправильным никак на это не отреагировать. Но для начала а хотел бы отдельным постом поговорить о странном, на мой взгляд, <em>“культе бенчмарков”</em>, распространенном среди многих специалистов, в особенности начинающих свое знакомство с мощными, “энтерпрайзными” системами хранения. Я бы хотел поговорить на эту тему ровно один раз, и больше к этой теме не возвращаться, написав своеобразное примечание к обсуждаемому в постах далее FUD-у, чтобы там не говорить на эту тему много, и не отвлекаться от более важных и насущных вопросов.</p>
<p>Я обратил внимание, что все чаще в материалах вендоров муссируется <a href="../../1140/trackback.html">тема рекордных результатов</a> в бенчмарках, и эти “рекорды” используются для того, чтобы аргументировать “преимущества” марки, причем, порой, даже именно марки, даже не модели или конфигурации этой модели, а просто “Наш сторадж сделал миллиард IOPS, поэтому мы крутые, покупайте наши стораджи”.</p>
<p><a href="http://www.storageperformance.org/results/benchmark_results_spc1">Бенчмарк SPC-1</a> это очень сложный тест. Это не fancy-приложение, которое запускается, что-то делает 10 минут, рисуя переливающиеся графики, а потом пишет: <font color="#9bbb59">“О-о! Круто! 100500 супермарков!”</font>, или, наоборот, <font color="#c0504d">“Фу-у! Отстооой! Всего 150 попугаев!”</font>. Строго говоря, даже приводимые данные по достигнутым IOPS значат не слишком много <strong>сами по себе</strong>. Проведенные тесты по SPC-1 требуют внимательного чтения всего отчета. Хотя бы сокращенного Executive Report, но настоящие инженеры просто обязаны прочесть еще более интересный Full Disclosure, с полным описанием проведенного тестирования. ?? уж абсолютно точно совершенно недостаточно извлечь из всего отчета одну строчку с циферками IOPS (<a href="../../1078/trackback.html">или $/IOPS</a>), и ей оперировать где-либо, в отрыве от того, как она получена. Строго говоря, в таком сложном бенчмарке, как SPC-1 интересен даже не столько результат как таковой, сколько процесс его достижения, описанный как раз в Full Disclosure, и многочисленные сопутствующие результаты, <a href="../../1174/trackback.html">latency, например</a>, как самый очевидный. Но это совсем не одна строчка <em>3DMark</em>, исходя из которой можно сделать вывод “фу-у, отстоой!”, или “вау, круто!”.</p>
<p>Люди, понимающие все это, но тем не менее оперирующие, с целью сформировать какое-либо мнение, исключительно достигнутыми каким-то стораджем IOPS-ами, откровенно и осознанно вводят в заблуждение своих читателей.</p>
<p>Я в этом блоге, как вы, должно быть, уже заметили, люблю приводить аналогиии из мира автомобилей. Дело в том, что автомобили – штука понятная почти любому, а во-вторых, в мире автомобилей можно подобрать аналог почти для любого явления. Поэтому, говоря о бенчмарках и правильном отношении к ним, я снова воспользуюсь этой аналогией.</p>
<p>Бенчмарки, особенно такие “крутые”, как SPC-1, это гонки Формулы-1. Это красиво, зрелищно, захватывающе, но разумные люди понимают, что “Формула” – отдельно, а повседневная жизнь автовладельца и автомобилиста – отдельно. ??з того факта, что в очередной гонке болид Renault обошел болид Ferrari совершенно не следует, что в реальной жизни ваш Renault обгонит соседский Ferrari. :) Но почему-то в случае бенчмарков систем хранения это сплошь и рядом считается не так, и результаты восьмиконтроллерного кластера с 1920 дисками за 6 миллионов долларов, или Full Flash системы с тремястами SSD, в восприятии читателя (не без “дружеской” помощи вендора) проецируются на его, добрый милый сторадж entry-level с двумя полками по 15 дисков.</p>
<p>Да, безусловно, наличие результатов и участие в программе тестирования <a href="http://www.storageperformance.org/home/">Storage Performance Counsil</a> (SPC) это – хорошо. Это означает, что вендор готов “показывать свой товар лицом”, готов отвечать на “вопросы”, ему не стыдно за то, что он разработал и продает. За это не стыдно не всем, но очень многим, начиная от NetApp, HP, IBM, кончая даже Oracle и Huawei. Даже если результаты будут неидеальными и нерекордными <em>в абсолютном исчислении</em>, это уже само по себе подтверждает открытость вендора и отсутствие “засад” в его решениях. В тестах, куда как более, чем в Олимпиаде “важна не победа, а участие”. Однако неправильно будет пытаться <strong><a href="../../873/trackback.html">любой ценой</a></strong> установить рекорд. ?? еще неправильнее будет строить рекламу “купите наш Рено Логан, наш автомобиль обогнал вчера Ferrari на GP!” в особенности понимая, где здесь манипуляция (а технари такого уровня, участвующие в написании подобных текстов не могут не видеть, где тут манипуляция).</p>
<p>Ну а теперь, позвольте перейти к FUD-у. На следующей неделе я опубликую подробный откомментированный разбор очередного текста “чем плох NetApp” по мнению одного из наших конкурентов. не переключайте ваши веб-браузеры. :)</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../benchmarks.html" rel="tag">benchmarks</a>, <a href="index.html" rel="tag">fud</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../spc.html" rel="tag">spc</a>, <a href="../spc-1.html" rel="tag">spc-1</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1269/trackback.html#respond" title="Комментарий к записи Про &ldquo;культ бенчмарков&rdquo;">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1266">
				<h2 class="posttitle"><a href="../../1266/trackback.html" rel="bookmark" title="Permanent Link to &ldquo;Возвращаясь к напечатанному&rdquo;">&ldquo;Возвращаясь к напечатанному&rdquo;</a></h2>
				<div class="postmetadata">8 Июль 2013, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Когда, весной 2007 года, я начинал вести этот блог, я совершенно не представлял, что его жизнь протянется так надолго и так далеко. Тогда я просто экспериментировал с Wordpress, и, работая пресейлом в компании-партнере NetApp, захотел изложить то, что на тот момент знал о технических “фичах” этих систем хранения “человеческим языком”, для тех, кому это может быть тоже интересно. Но совершенно не предполагал, что все это растянется на 6 с лихом лет!</p>
<p>К сожалению, такая недальновидность предопределила ряд недостатков этого блога. Например, в нем практически отсутствуют средства “навигации” по старым постам, многие его читатели никогда не залезают “вглубь”, и даже не представляют, сколько там за шесть лет накопилось полезного. Как я вижу по статистике, основная масса моих читателей, свыше 90%, никогда не читают более двух-трех страниц блога за посещение. В “глубины” обычно попадают только те, кто пришел через поисковики, и которые ищут что-то конкретное, например мою популярную статью про IOmeter, или сравнительно недавний перевод Recoverymonkey про то, <a href="../../1204/trackback.html">что такое IOPS</a>. ??ли уж совсем древнюю, и в значительной мере утратившую актуальность заметку про то, что такое “кластер” (вот уже много лет из топа запросов этого блога не выходит поисковая строка “кластер это” ;), или “чем отличается NAS от SAN”.</p>
<p>Конечно здесь есть некое подобие рубрик, и даже теги, упорно мною расставляемые, но все равно, очень, очень мало людей читает что-то кроме “витирины” первой страницы. В этом я убедился, когда на прошлой неделе мне довелось поговорить с некоторыми моими читателями “пока-не-покупателями” на темы анти-нетапповского FUD-а наших коллег-конкурентов. ?? я даже загорелся написать статьи-ответы по каждой из таких тем, и даже начал писать, но вдруг понял, что все вот это, просто другими словами, я уже излагал тут раза четыре-пять. Темы FUD-а не меняются уже много лет, ничего нового к ним не добавляется уже давно (это плюс NetApp-у в каком-то смысле ;) раз ничего нового “плохого” даже злейшие конкуренты не находят). <em>Все те же, все там же</em>. Конечно же рассказывают про оверхед блочного доступа на WAFL, про низкий выход usable с данного объема raw, про “снижение производительности” при высокой заполненности тома, Как всегда педалируют “фрагментацию” и “отсутствие балансировки” и доступа к дискам одновременно с обоих контроллеров. </p>
<p>Поэтому, вместо того, чтобы еше раз писать другими словами все то же, что я уже не раз писал в этом блоге, я просто приведу тут ссылки на по-прежнему актуальные <a href="../../193/trackback.html">статьи о FUD</a>-е <em>и последующем его разоблачении</em>.</p>
<p><strong>Про WAFL и гипотетическом оверхеде для блочного доступа</strong> стоит начать с того, что разобраться, что же такое WAFL. Поэтому, прежде всего, стоит начать с отлично написанной работы на тему, которая лежала в основе NetApp как компании, и опубликованной на самой заре ее истории “отцами основателями” ее, двумя инженерами Дейвом Хитцем и Джеймсом Лау: она в переводе опубликована <a href="http://netwell.ru/production/techbiblioteka.php">на сайте компании Netwell</a>, которая спонсировала огромную работу по <a href="http://netwell.ru/production/techbiblioteka.php">переводам Best Practices</a>. Работа эта, опубликованная впервые на научной конференции USENIX, называется <a href="http://www.netwell.ru/docs/netapp/wp3002_wafl.htm">Разработка файловой системы для специализированного файлсервера NFS</a>. Напомню, тогда, в самом начале, NetApp занимался только серверами NFS, но впоследствии, десять лет спустя, в 2003 году, он достаточно легко добавил блочный доступ к данным поверх структур WAFL. То, как это было сделано, и почему WAFL, вопреки ее названию “не файловая система”, или, вернее, нечто, отличающееся от того, что обычно принято называть в IT “файловой системой”, можно прочитать в статье нетапповского инженера Костадиса Руссоса <a href="../../282/trackback.html">“Почему я считаю, что WAFL – это не файловая система”</a>. Там, в частности, объясняется то, почему блочный доступ на WAFL не является “эмуляцией поверх файлов” (тоже популярная <em>страшилка</em> конкурентов), и почему оверхед в WAFL сравнительно невелик как для файлового, так и для блочного доступа.</p>
<p><strong>О низком результате usable на данном объеме raw-дисков</strong> стоит начать чтение со статьи <a href="../../1093/trackback.html">“О цене за гигабайт” и “цене за решение”</a>, где я попытался объяснить, из чего складывается и как формируется итоговая емкость системы хранения NetApp. Полезным также будет прочитать <a href="../../223/trackback.html">о RAID-DP</a>, и почему именно этот тип RAID используется в NetApp, и о том, <a href="../../269/trackback.html">как организована иерархия “объектов хранения”</a>, что такое и как соотносятся между собой aggregate, физические диски, тома, LUN-ы, <a href="../../286/trackback.html">и так далее</a>. <a href="../../661/trackback.html">Детальный расчет емкости</a> покажет нам, что реальный usable space зачастую первышает таковой у систем, инженеры которых <a href="../../386/trackback.html">любят указывать</a> на низкий уровень usable у систем NetApp. Наконец, фактические результаты 7 с лишним тысяч работающих у клиентов систем хранения, сообщающие свои данные через Autosupport, показывают весьма высокие результаты – <a href="../../904/trackback.html">66,27%</a> составляет фактическая величина usable от имеющегося объема raw-дисков. Это не теоретическая, рассчитанная величина, это фактическое среднее значение usable space реально работающих у клиентов стораджей. Хорошо резюмирующим тему usable space является текст инженера NetApp Dimitris K. <a href="../../648/trackback.html">“Что стоит за FUD о usable space?”</a></p>
<p><strong>Про “снижение производительности при заполнении дисков данными”</strong> отвечает Richard J. Martin, сотрудник австралийского отделения NetApp в статье <a href="../../1083/trackback.html">Как заполненность данными системы хранения влияет на ее производительность?</a>. Кроме того, можно посмотреть и на <a href="http://media.netapp.com/documents/tr-3521.pdf">официально опубликованный</a> в 2007 году ответ NetApp, когда это утверждение впервые появилось в competitive-материалах компании EMC. Также очень показательным будет и тот факт, что <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1E/NetApp/AE00004_NetApp_FAS3270A/ae00004_NetApp_FAS3270A_SPC1E_executive-summary.pdf">тестирование по методике SPC-1</a> NetApp проводит с уровнем заполнения дисков данными в 84% от usable (и 60% от raw), а некоторые другие вендоры, <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/HDS/A00128_Hitachi-HUS-150/a00128_Hitachi_Unified-Storage-150_SPC-1_executive-summary.pdf">показывющие свои результаты</a> в этом бенчмарке – с уровнем 57% от usable и 29% от raw. Если они не боятся “снижения производительности при заполнении данными”, то отчего не покажут результат при 100% заполнения usable?</p>
<p><strong>Про “фрагментацию” и ее влияние</strong> – писалось <a href="../fragmentation.html">многократно</a>, и <a href="../../455/trackback.html">для случая рандомного доступа</a> (обычно) к данным, и <a href="../../466/trackback.html">для случая секвентального</a> (иногда) доступа, я <a href="../../1225/trackback.html">измерял изменения показателей</a> при экстремально высоких, для наглядности, значениях фрагментации, и <a href="../../221/trackback.html">приводил теорию</a> того, <a href="../../881/trackback.html">почему фрагментация чаще всего не так велика</a>, как себе воображают. Там же рассматривался вопрос, падает ли производительность системы хранения, в случае правильной ее настройки, при “фрагментации” даных, с помошью простого эксперимента, и <a href="../../820/trackback.html">давался на это ответ – нет</a>.</p>
<p><strong>Про то, почему Flash Cache не используется на запись</strong> – <a href="../../936/trackback.html">в статье про устройство Flash Cache</a> и того, как он взаимодействует с WAFL.</p>
<p><strong>О том, почему у NetApp нет tiering-а</strong>, а также о том, почему flash-кэширование лучше, чем tiering – в статье про <a href="../../926/trackback.html">VST – Virtual Storage Tiering</a>, использующий Flash Cache.</p>
<p>В следующих статьях – краткий индекс других полезных постов почитать, опубликованных в этом блоге за 6 лет. А пока же, в комментариях приветствуется, если кто вспомнит, какие еще темы FUD нынче у наших конкурентов актуальны. Может быть я и правда не на все темы написал?</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../blog.html" rel="tag">blog</a>, <a href="index.html" rel="tag">fud</a>, <a href="../netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../1266/trackback.html#comments" title="Комментарий к записи &ldquo;Возвращаясь к напечатанному&rdquo;">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-904">
				<h2 class="posttitle"><a href="../../904/trackback.html" rel="bookmark" title="Permanent Link to Usable capacity на системах NetApp">Usable capacity на системах NetApp</a></h2>
				<div class="postmetadata">16 Май 2011, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Вокруг ситуации с usable capacity на NetApp накручено очень много довольно низкопробного манипулирования и FUD-а, см. например <a href="../../386/trackback.html">мою же статью в блоге</a>, посвященную разоблачению одного из таких текстов.</p>
<p>Как вы знаете, системы на поддержке отсылают в Support Center в NetApp данные о своем состоянии, в том числе и о конфигурации. ??нтересный график был обнаружен в одной из технических презентаций NetApp. Это анализ соотношения между raw и usable capacity для реальных, рабочих систем NetApp, установленных у клиентов компании, эксплуатирующихся в настоящее время и отсылающих сообщения autosupport. В среднем, для 7597 рассмотренных систем, их usable capacity, то есть доступная для использования емкость хранения, емкость дисков за вычетом RAID-penalty (parity drives), spares, WAFL-metadata, reservations и прочего, составила 66,27% от их raw.</p>
<p><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics//image94.png" width="283" height="319" /></p>
<p>Такие дела. Как видите, в реальной жизни достигнутая на системах NetApp средняя величина usable всего на 3% хуже теоретически рассчитанной мной <a href="../../386/trackback.html">в посте с разоблачением FUD-а</a>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../capacity.html" rel="tag">capacity</a>, <a href="index.html" rel="tag">fud</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../raw.html" rel="tag">raw</a>, <a href="../useable.html" rel="tag">useable</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../904/trackback.html#comments" title="Комментарий к записи Usable capacity на системах NetApp">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-881">
				<h2 class="posttitle"><a href="../../881/trackback.html" rel="bookmark" title="Permanent Link to Откуда вообще берется фрагментация?">Откуда вообще берется фрагментация?</a></h2>
				<div class="postmetadata">21 Апрель 2011, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Так что же там на самом деле происходит с фрагментацией на NetApp?</p>
<p>Давайте, для начала, разберемся с основами. Я в этом блоге уже не раз писал о проблеме фрагментации, и желающих сошлю в более ранние посты, например <a href="../../221/trackback.html">сюда</a> и <a href="../../225/trackback.html">сюда</a>.</p>
<p>К сожалению тема фрагментации данных на WAFL до сих пор остается в некотором роде <a href="http://dic.academic.ru/dic.nsf/enc3p/333174">эзотерическим</a> знанием. Связано это, в первую очередь с тем, как мне представляется, что рассказ о фрагментации и необходимом противодействии ему, затрагивает ряд чувствительных особенностей функционирования WAFL, деталях, которые NetApp, по разным причинам (совсем не обязательно злонамеренным), разглашать пока не хочет.</p>
<p>Поэтому официальная позиция состоит в рекомендации, в случае, если влияние фрагментации в вашем конкретном случае, проявляется негативно (она, кстати, может и не проявляться), то включать wafl reallocate ( <code>reallocate on / reallocate start [/vol/volname]</code>) и спать счастливо.</p>
<p>Вообще же FUD вокруг <em>non-contiguous wafl blocks allocation</em> построен (впрочем, как и почти любой FUD) вокруг плохого представления технических деталей процесса и иногда чистосердечного, а чаще злонамеренного “непонимания” этих деталей. Давайте, для начала, разберем как же записываются данные в WAFL, по крайней мере на том уровне, на котором нам этот процесс показывает NetApp.</p>
<p>Но начать придется издалека.</p>
<p>   <a href="../../881/trackback.html#more-881" class="more-link"><small>Continue reading &#8216;Откуда вообще берется фрагментация?&#8217; &raquo;</small></a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../fragmentation.html" rel="tag">fragmentation</a>, <a href="index.html" rel="tag">fud</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../wafl/index.html" rel="tag">wafl</a><br />					Раздел: <a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../881/trackback.html#comments" title="Комментарий к записи Откуда вообще берется фрагментация?">Комментарии (12)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-863">
				<h2 class="posttitle"><a href="../../863/trackback.html" rel="bookmark" title="Permanent Link to В библиотеку FUD-а ;) HP о дедупликации.">В библиотеку FUD-а ;) HP о дедупликации.</a></h2>
				<div class="postmetadata">13 Апрель 2011, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>В сегодняшнем переводе у нас будет еще один активный блоггер NetApp, <a href="http://blogs.netapp.com/drdedupe/biography.html">Larry Freeman</a>, пишущий с ником <a href="http://blogs.netapp.com/drdedupe">Dr.Dedupe</a>. Его основная тема в блоге – технология дедупликации в системах хранения NetApp, а поводом для переведенного поста – “<em>Неспровоцированная агрессия</em>” в отношении NetApp со стороны HP, которая выпустила в свет документ, под названием “<a href="http://blogs.netapp.com/files/hp_challenges-with-netapp-dedup.pdf">Understanding the Challenges Associated with NetApp’s Deduplication</a>” – “Разбор проблем, связанных с технологией дедупликацией NetApp”.</p>
<p>Ну что-ж, ответом на <em>неспровоцированную агрессию</em> будет наше <em>принуждение к миру</em>. ;)</p>
<h3>HP Launches an Unprovoked Attack on NetApp Deduplication</h3>
<p><em>By Larry Freeman AKA Dr.Dedupe</em></p>
<p><em></em></p>
<p>На днях я наткнулся на приведенный ссылкой выше документ, опубликованный HP, и озаглавленный “<em>Разбор проблем, связанных с технологией дедупликации NetApp”</em>. Я хочу поблагодарить HP за их попытку указать нам на наши проблемы, и постараюсь ответить взаимностью позже в моем блоге.</p>
<p>К сожалению, документ HP содержит много утверждений, которые либо вводят в заблуждение читающего, либо просто являются неправдой. Поэтому, в интересах точной журналистики, я использую сегодня мой блог, чтобы предложить мои ответы.</p>
<p><strong>Утверждение HP:</strong></p>
<p>“<em>Первичные данные</em>&#160;<font color="#a5a5a5">(здесь и далее я буду переводить слово <em>primary</em> как “первичные”, этим словом принято называть основные, активные, “боевые” данные приложений, в противоположность данным резервных копий и архивов, например. Прим. romx)</font> <em>имеют случайный характер&#160; доступа по своей природе. Дедупликация приводит к тому, что различные блоки данных записываются в различные места диска. NetApp WAFL усугубляет проблему, записывая данные в свободные места, ближайшие к головке записи дисков. Чтение данных вызывает пересборку этих блоков, в формат пригодный для чтения приложением. Оверхед, вызываемый этой пересборкой данных, оказывает влияние на производительность, обычно на 20-50%”</em></p>
<p><strong>Ответ Dr.Dedupe:</strong></p>
<p>NetApp WAFL (Write Anywhere File Layout) – это структура размещения произвольно расположенных данных на диске, оптимизированная на производительность доступа к ним. Дедупликация еще более “рандомизирует” эту структуру, переназначая указатели на блоки данных и удаляя дубликаты. После дедупликации производительность на чтении иногда слегка возрастает, иногда слегка падает, однако подавляющее большинство пользователей говорят, что не заметили никакой разницы вообще. Важным моментом является то, что мы не перемещаем данные как таковые, просто переставляем на их блоки указатели. Если вы хотите получше разобраться в том, как работает наша технология, то я рекомендую посмотреть <a href="http://blogs.netapp.com/drdedupe/2010/04/how-netapp-deduplication-works.html#tp">пример работы дедупликации</a>.</p>
<p><strong>Утверждение HP:</strong></p>
<p><em>“Когда клиенты NetApp испытывают проблемы с производительностью, первая рекомендация NetApp это не использовать дедупликацию”</em></p>
<p><strong>Ответ Dr.Dedupe:</strong></p>
<p>На самом деле, когда наши клиенты испытывают <em>проблемы с производительностью</em>, первая рекомендация это обнаружить причину, вызвавшую проблемы с производительностью. Зачем выключать дедупликацию, если не она вызвала проблему? Полагаю, что HP поступает точно также, сперва надо найти причину, прежде чем советовать какие-то действия по исправлению ситуации. ??ли тут HP случайно выстрелила сама в себя? Эй, HP, давайте вы не будете строить предположений, что мы советуем нашим клиентам, пока на самом деле не позвоните в нашу поддержку?</p>
<p><strong>Утверждение HP:</strong></p>
<p><em>“Снижение темпов роста емкостей хранения имеет большое значение, и экономит затраты пользователя. Однако для первичных данных другие технологии, например Thin Provisioning обеспечивают сходные результаты уменьшения объемов, но без сопутствующего снижения производительности; эти возможности имеются у HP P4000 и HP InServ.”</em></p>
<p><strong>Ответ Dr.Dedupe:</strong></p>
<p>Заметьте, HP не сказала “<em>эти возможности имеются <strong>только </strong>у HP P4000 и HP InServ.”</em> Потому что у систем NetApp тоже есть Thin Provisioning, а также много других технологий уменьшения занимаемых объемов хранения и повышения их эффективности, которые могут использоваться как по по отдельности, так и друг с другом, одновременно:</p>
<ul>
<li>Дедупликация </li>
<li>Thin Provisioning </li>
<li>Эффективно расходующие место снэпшоты </li>
<li>Виртуальные клоны данных </li>
<li>Thin-репликация </li>
<li>RAID-DP </li>
<li>Онлайн-компрессия данных </li>
<li>Автоматический виртуальный tiering c дисками SATA </li>
</ul>
<p>Я знаю, это кажется очевидным, но напрашивается тема для статьи “<em>Проблемы, связанные с технологиями экономии пространства хранения у HP</em>”.</p>
<p><strong>Утверждение HP: </strong></p>
<p><em>“Метод с фиксированными участками [используемый NetApp] означает, что изменения в данных могут привести к очень плохому результату дедупликации… ??спользование метода с переменной длиной участка позволяет HP StorOnce D2D обеспечить более интеллектуальный и эффективный подход к дедупликации.”</em></p>
<p><strong>Ответ Dr.Dedupe:</strong></p>
<p>Ох, черт. Неужели мне так и придется писать это, снова и снова? NetApp записывает все данные в блоки (ну, то есть “<em>участки</em>”), размером 4KB. За прошедшие 20 лет мы сделали довольно неплохую работу по оптимизации того, насколько быстро мы можем писать и читать эти “участки”. Наиболее простой и быстрый способ дедупликации в нашем случае, это получать “цифровой отпечаток пальца” каждого такого участка, и сканировать базу этих “отпечатков” на дубликаты. Это лучший вариант для одновременного использования дедупликации в обоих сферах применения, как для первичных данных, так и для резервных копий. Достаточная экономия пространства хранения и минимальное влияние на производительность. В HP читают <strong>хоть что-нибудь</strong> в моем блоге? Переменные участки это хорошо для экономии места, но совсем не так здорово для производительности. Кто более интеллектуален и эффективен? Судите сами.</p>
<p><strong>Утверждение HP:</strong></p>
<p><em>“NetApp так обеспокоен производительностью своей технологии дедупликации, что Крис Каммингс, старший директор решений защиты данных в NetApp, сказал в интервью CRN, что пользователи должны понимать “возможности падения производительности при использовании этой технологии”, когда они решат ее использовать.      <br /></em><em>HP обычно находит 95% дублирующихся данных в резервных копиях и дедуплицирует их без воздействия на производительность первичного хранилища”</em></p>
<p><strong>Ответ Dr.Dedupe:</strong></p>
<p>Ну, HP, вот тут вы меня по настоящему разозлили. Прежде всего вы привели цитату из слов Криса Каммингса, сказанную еще в августе 2008 года, я уверен, что если бы вы могли вернуться назад во времени, вы бы могли найти консервативный комментарий о любой новой технологии от того, кто заботится о клиенте. Но фактом является то, что сегодня для нас это уже не новая технология, и мы рекомендуем ее использование нашим клиентам без каких-либо опасений.    <br />Насчет того, что <em>дедупликация на устройстве хранения резервных копий не влияет на производительность первичного хранилища</em> – дык! :)</p>
<p><strong>Утверждение HP:</strong></p>
<p><em>“Когда вы покупаете решение HP – это как симфонический оркестр; каждая часть специализирована, но стандартизована по компонентам, оптимизирована, но идет в ногу со всей остальной системой. Это не коробка, подходящая для всего, это Конвергентная ??нфраструктура HP.”</em></p>
<p><strong>Ответ Dr.Dedupe:</strong></p>
<p>Вместо того, чтобы писать труд о проблемах технологии другого производителя, лучше бы HP исследовала проблемы, с которыми сталкиваются пользователи сегодня – а именно о том, что они борются с постоянным ростом объемов данных в условиях сокращающегося IT-бюджета. Может тогда бы стало понятно лицемерие сравнения с оркестром. Когда HP хочет продать пользователям оркестр в 120 человек, NetApp продает компактный, но эффективный джаз-бенд.</p>
<p><strong>Утверждение HP:</strong></p>
<p><em>“NetApp не обеспечивает достаточной гибкости для сложных сред резервного копирования сегодняшнего дня”</em></p>
<p><strong>Ответ Dr.Dedupe:</strong></p>
<p>Погодите минутку, что произошло? Кажется я что-то пропустил? Я думал, что мы говорим о проблемах дедупликации у NetApp, как это мы вдруг перескочили на <em>гибкость резервного копирования</em>? Это что, такой способ сбить читателя перепрыгивая с темы на тему?</p>
<p><strong>Утверждение HP:</strong></p>
<p><em>“Снэпшоты это часть решения по защите данных, но их для полной защиты данных недостаточно. Требования долговременного хранения не обеспечиваются только лишь снэпшотами. Конвергентная ??нфраструктура HP предлагает лидирующее решение , включающее в себя StoreOnce для дисковой дедупликации, обеспечивая законченную стратегию защиты данных”</em></p>
<p><strong>Ответ Dr.Dedupe:</strong></p>
<p>Снэпшоты? А теперь мы говорим про снэпшоты? ??звините меня, HP, не могли бы вы все же не скакать с темы на тему? “<strong>Разбор проблем, связанных с технологией дедупликацией NetApp</strong>”, вы помните? Ну, с другой стороны, я так понял, что просто “<em>проблемы</em>” у нас закончились…</p>
<p>Dr.Dedupe (<a href="http://blogs.netapp.com/drdedupe">http://blogs.netapp.com/drdedupe</a>)</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../dedupe.html" rel="tag">dedupe</a>, <a href="../deduplication/index.html" rel="tag">deduplication</a>, <a href="index.html" rel="tag">fud</a>, <a href="../hp.html" rel="tag">hp</a>, <a href="../netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="../../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;" rel="category tag">переводы</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../863/trackback.html#comments" title="Комментарий к записи В библиотеку FUD-а ;) HP о дедупликации.">Комментарии (5)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-820">
				<h2 class="posttitle"><a href="../../820/trackback.html" rel="bookmark" title="Permanent Link to Правда ли что производительность хранилища NetApp падает со временем из-за фрагментации?">Правда ли что производительность хранилища NetApp падает со временем из-за фрагментации?</a></h2>
				<div class="postmetadata">17 Февраль 2011, 5:00 <!-- от  --></div>
				<div class="postentry">
					<p><em>Несколько слов по поводу того, что пост этот случайно появился в понедельник, а затем исчез из блога. Как вы догадываетесь, я не в 8 утра в понедельник пишу посты, они у меня обычно написаны в некотором количестве впрок, обычно на месяц вперед, с &#8220;автопостилкой&#8221;, которая их &#8220;раскрывает&#8221; по мере наступления соответствующего дня и времени. Случайно оно взглючило и расскринился пост за четверг. Так что не надо conspiracy theory привлекать, это просто глюки базы блога. Вот вам этот текст, раз уж он все равно в rss-ленту для многих утек.</em></p>
<p>Любопытный эксперимент провел <em><a href="http://blogs.netapp.com/efficiency/2011/02/flash-cache-doesnt-cache-writes-why.html">John Fullbright</a> </em>отвечая на вопрос, являющийся, пожалуй, второй по популярности темой FUD наших конкурентов: “Производительность NetApp (якобы) падает с течением времени, из-за увеличения фрагментации WAFL на дисках, при постоянной случайной записи”.</p>
<p>У него дома стоит сравнительно небольшая система “позапрошлого” поколения – FAS3050, с двумя полками дисков SATA 320GB 5400RPM, которую он использует под домашнюю лабораторию для хранения виртуальных машин MS Hyper-V.</p>
<p>Система эта, к слову, имеет свой собственный <a href="http://twitter.com/NetAppFASLive">твиттер</a>, и пишет туда, с помощью скрипта на Powershell, новости своей жизни :)</p>
<p>Вот каковы были <a href="http://blogs.netapp.com/efficiency/2011/02/flash-cache-doesnt-cache-writes-why.html">исходные данные</a>:</p>
<p><strong>The Test Platform:</strong></p>
<ul>
<li>FAS3050</li>
<li>ONTAP 7.3.4</li>
<li>(2) DS14MK2-AT drive shelves – dual looped</li>
<li>(28) 320GB Maxtor MaxLine II 5400RPM SATA drives
<ul>
<li>Storage for Checksums ~8%</li>
<li>Right-sized (for hot-swap) = ~2% across the industry</li>
<li>WAFL Formatted = 26.8 GB per drive (reserved for storage virtualization)</li>
<li>11ms average seek time</li>
<li>2MB buffer</li>
<li>Internal data rate 44MBps</li>
<li>Drive transfer rate of 133 MBps</li>
</ul>
</li>
<li>Storage Efficiency/Virtualization Technologies Employed:
<ul>
<li>Volume-level Deduplication</li>
<li>Thin Provisioning</li>
<li>RAID-DP</li>
</ul>
</li>
<li>RAID-DP RG size = 24</li>
<li>Tuning options: </li>
<ul>
<li>optimize_write_once = off</li>
<li>read_reallocate = on</li>
</ul>
</ul>
<p>??з 28 имеющихся дисков, на 3 расположен root volume, 1 диск hot spare, остальные 24 целиком собраны в одну группу RAID-DP, на которой расположен один aggregate.</p>
<p>Общая usable space системы равна 5,18TB (5.18 TB = 5304 GB = 22 drives * 241.2 GB). Кроме тестовых данных на системе расположены 26 виртуальных машин Hyper-V (показатели дедупликации для данного тома – 78%), а также шара CIFS с образами ISO.</p>
<p>Для теста на пространстве хранения было создано 3 LUN по 1,5TB размером каждый, которые по iSCSI были подключены к трем виртуальным машинам, с запущеным на них IOmeter Dynamo.   <br />Таким образом, пространство хранения системы было заполнено тестировочными LUN-ами примерно на 88%.</p>
<p>В IOmeter был конфигурирован тестовый паттерн с 100% random write блоками по 4KB (также было выставлено выравнивание по границе 4KB, о нужности и смысле чего я <a href="../../794/trackback.html">писал ранее</a>).    <br />Для тестирования были сконфигурированы три workers, каждый на своей виртуальной машине.</p>
<p><a href="/pics//6a00d8341ca27e53ef0148c8700c6b970c-800wi.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="6a00d8341ca27e53ef0148c8700c6b970c-800wi" border="0" alt="6a00d8341ca27e53ef0148c8700c6b970c-800wi" src="/pics//6a00d8341ca27e53ef0148c8700c6b970c-800wi-thumb.jpg" width="735" height="537" /></a></p>
<p>Каждый worker создал на своем LUN тестовый файл на всю его длину.    <br />Тестирование продолжалось 240 часов (10 суток) для того, чтобы гарантировать полную многократную перезапись содержимого тестового файла.</p>
<p>Спустя 15 часов после начала теста IOmeter демонстрировал следующие результаты:</p>
<p><a href="/pics//6a00d8341ca27e53ef0148c87010dd970c-800wi.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="6a00d8341ca27e53ef0148c87010dd970c-800wi" border="0" alt="6a00d8341ca27e53ef0148c87010dd970c-800wi" src="/pics//6a00d8341ca27e53ef0148c87010dd970c-800wi-thumb.jpg" width="782" height="483" /></a></p>
<p>Вы видите показатель производительности, равный 11248 IOPS при 4,2ms latency.   <br />Довольно неплохо для 24 дисков SATA.</p>
<p>Спустя 60 часов:</p>
<p><a href="/pics//6a00d8341ca27e53ef0148c8701996970c-800wi.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="6a00d8341ca27e53ef0148c8701996970c-800wi" border="0" alt="6a00d8341ca27e53ef0148c8701996970c-800wi" src="/pics//6a00d8341ca27e53ef0148c8701996970c-800wi-thumb.jpg" width="782" height="483" /></a></p>
<p>Результат вырос до 12063 IOPS, а latency незначительно снизилась до 3,97ms.</p>
<p>На протяжении 10 дней тестирования на 4,5TB суммарного объема трех LUN было записано примерно 36TB тестового потока данных. В ходе тестирования был зарегистрирован <strong>рост</strong> показателя IOPS на 18% при незначительных изменениях latency в районе 4ms.</p>
<p>Общая картина изменений IOPS в ходе тестирования:</p>
<p><a href="/pics//6a00d8341ca27e53ef0148c87024dd970c-800wi.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="6a00d8341ca27e53ef0148c87024dd970c-800wi" border="0" alt="6a00d8341ca27e53ef0148c87024dd970c-800wi" src="/pics//6a00d8341ca27e53ef0148c87024dd970c-800wi-thumb.jpg" width="582" height="241" /></a></p>
<p>По вертикали – IOPS, по горизонтали – часы. В дальнейшем, до конца тестирования, показатели не менялись.</p>
<p>UPD: Также упомяну, что еще в 2008-м году NetApp публиковала в SPC-1 результат <a href="http://www.storageperformance.org/results/a00062_NetApp_FAS3040-48hr-sustain_executive-summary.pdf">48-hours Sustainability Test</a> системы FAS3040. Результаты и описание можно посмотреть на сайте SPC и по приведенной ссылке на PDF.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="index.html" rel="tag">fud</a>, <a href="../iometer.html" rel="tag">iometer</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../random-write.html" rel="tag">random write</a><br />					Раздел: <a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../820/trackback.html#comments" title="Комментарий к записи Правда ли что производительность хранилища NetApp падает со временем из-за фрагментации?">Комментарии (16)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-648">
				<h2 class="posttitle"><a href="../../648/trackback.html" rel="bookmark" title="Permanent Link to Usable Space у NetApp &ndash; что стоит за FUD? (часть 2)">Usable Space у NetApp &ndash; что стоит за FUD? (часть 2)</a></h2>
				<div class="postmetadata">12 Август 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Тема якобы катастрофического уменьшения usable space по сравнению с raw space на системах хранения NetApp занимает, по популярности, у наших конкурентов, пожалуй, третье место, сразу за страшилкой про &quot;ужасную фрагментацию&quot;, и пугалкой про &quot;эмуляцию LUN-ов поверх файлов на файловой системе&quot;. Про первых две я уже писал, и не по разу, пришла пора разобраться и с этой.   <br />Основой для поста послужил перевод статьи в блоге <a href="http://recoverymonkey.net/wordpress/2010/05/07/netapp-usable-space-beyond-the-fud/">Recoverymonkey</a>.</p>
<p>Ранее я уже рассматривал &quot;первую часть&quot; ситуации, то, как образуется <em>usable disk space</em>, то есть та емкость, которая остается для использования на дисках, после того, как мы вычтем из них parity, hot spare и ряд прочих &quot;накладных расходов&quot;. Однако это еще не все, определенный объем на дисках также занимают различные структуры данных. Я называю получившееся пространство, после того, как из <em>usable disk space</em> вычтутся прочие накладные расходы - <em>usable system space</em>.</p>
<p>Во многих виденных мной у конкурентов &quot;документах&quot; такого рода постоянно рассказывается о том, что, якобы, <em>usable system space</em> на системах хранения NetApp составляет менее 50% от купленного raw, а у одного &quot;последовательного борца&quot; с NetApp даже доходила до анекдотичных 34%.    <br />Это смешно для тех, кто знает, как оно обстоит на практике, но все еще производит впечатление на новичков, тех, кто еще не разобрался с тем, как дела обстоят на самом деле.    <br />Ну хорошо, где же истина, которая, как всегда &quot;где-то рядом&quot;?</p>
<p>Цель данного поста - рассмотреть ситуацию с тем, как и из чего образуется usable space на системах NetApp по состоянию дел и технологий на весну 2010 года.   <br />Так как системы NetApp используют свободное пространство на дисках разными способами, а не просто для &quot;хранения LUN-ов&quot; , это постоянно порождает множество непониманий в том, что означают те или иные понятия и параметры, относящиеся к распределению свободного пространства на дисках системы хранения. При этом ряд рекомендаций NetApp изменялись с течением времени, по мере выхода новых версий их OS и взросления используемых технологий. Наша цель - рассмотреть текущее положение дел и обновить понимание вопроса у тех, кто по тем или иным причинам &quot;отстал&quot;.</p>
<h3>Коротко, &quot;для тех, кому лень читать все&quot;    <br />(то, что называется &quot;Executive summary&quot; ;)</h3>
<p>В зависимости от количества и типа дисков и общего дизайна хранилища, исключая самые маленькие системы с очень небольшим количеством дисков, реальная величина usable space целиком системы NetApp может легко превышать 75% от usable space самих дисков. Я видел, например, величину в 78%. Такое значение, конечно же, обеспечивалось при использовании защиты от двойного сбой (RAID-6/DP) и включала spares. <strong>Эта величина показывает &quot;честный&quot; объем хранимых данных для NAS или SAN и не включает в себя дедупликацию, компрессию или клоны типа FlexClone; вместе со всеми перечисленными технологиями, эффективность может легко превысить и 1000%.</strong> Во многих случаях клиенты NetApp выбирают их системы хранения как раз именно потому, что системы NetApp настолько эффективны с точки зрения usable space. А теперь перейдем к подробностям…</p>
<p>  <a href="../../648/trackback.html#more-648" class="more-link"><small>Continue reading &#8216;Usable Space у NetApp &ndash; что стоит за FUD? (часть 2)&#8217; &raquo;</small></a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="index.html" rel="tag">fud</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../raw.html" rel="tag">raw</a>, <a href="../useable.html" rel="tag">useable</a><br />					Раздел: <a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../648/trackback.html#comments" title="Комментарий к записи Usable Space у NetApp &ndash; что стоит за FUD? (часть 2)">Комментарии (6)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-661">
				<h2 class="posttitle"><a href="../../661/trackback.html" rel="bookmark" title="Permanent Link to О расчете дискового пространства: NetApp FAS и EMC NS &ndash; что стоит за FUD (часть 1)">О расчете дискового пространства: NetApp FAS и EMC NS &ndash; что стоит за FUD (часть 1)</a></h2>
				<div class="postmetadata">9 Август 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>У одного из нетапповских блоггеров увидел хорошую <a href="http://blogs.netapp.com/dropzone/2010/05/playing-to-lose-hoping-to-win-emcs-latest-guarantee-part-2.html">статью</a>, перевод фрагмента которой хочу опубликовать у себя.</p>
<p>Одной из самых популярных “страшилок-говнилок” в отношении NetApp является пугалка о том, как неэффективно расходуется пространство на системах хранения NetApp, как мало получается usable space из данного объема raw. Пожалуй, по популярности эта “говнилка” у наших конкуретнов идет сразу за страшилкой о фрагментации (и ее мифическим “катастрофическим влиянием на производительность”), и за пугалкой про “эмуляцию LUN поверх файловой системы”. Я уже писал ранее про то, как обстоит дело с первой, и рассказывал как устроена организация данных на “низком уровне” в WAFL, объясняющая ситуацию со со второй.</p>
<p>Пришла пора разобрать где правда в третьей.    <br />??так, правда ли, что usable space на NetApp получается значительно меньше на том же объеме raw, например при сравнении с “более традиционными” системами?</p>
<p>Давайте разберем пример, хоть и не исчерпывающий, но довольно зрелищный.</p>
<p>  <a href="../../661/trackback.html#more-661" class="more-link"><small>Continue reading &#8216;О расчете дискового пространства: NetApp FAS и EMC NS &ndash; что стоит за FUD (часть 1)&#8217; &raquo;</small></a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../capacity.html" rel="tag">capacity</a>, <a href="../emc/index.html" rel="tag">emc</a>, <a href="index.html" rel="tag">fud</a>, <a href="../netapp/index.html" rel="tag">netapp</a>, <a href="../raid.html" rel="tag">raid</a>, <a href="../raw.html" rel="tag">raw</a>, <a href="../useable.html" rel="tag">useable</a><br />					Раздел: <a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../661/trackback.html#comments" title="Комментарий к записи О расчете дискового пространства: NetApp FAS и EMC NS &ndash; что стоит за FUD (часть 1)">Комментарии (9)</a>									 </div>
			</div>
	
		
		<div class="navigation">
			<div class="alignleft"><a href="page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>
		
	
	</div>
	<div id="sidebar">
		<ul>
			
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Автор</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li class="pagenav"><h2>Страницы</h2><ul><li class="page_item page-item-153"><a href="../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul></li>
			<li><h2>Рубрики</h2>
				<ul>
					<li class="cat-item cat-item-89"><a href="../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;">commands</a>
</li>
	<li class="cat-item cat-item-37"><a href="../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;">howto</a>
</li>
	<li class="cat-item cat-item-52"><a href="../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;">justread</a>
</li>
	<li class="cat-item cat-item-51"><a href="../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;">review</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;">techtalk</a>
</li>
	<li class="cat-item cat-item-71"><a href="../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;">tricks</a>
</li>
	<li class="cat-item cat-item-95"><a href="../../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;">utilities</a>
</li>
	<li class="cat-item cat-item-44"><a href="../../category/whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;">whoisho</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;">новости</a>
</li>
	<li class="cat-item cat-item-387"><a href="../../category/opros.html" title="Просмотреть все записи в рубрике &laquo;опрос&raquo;">опрос</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;">переводы</a>
</li>
	<li class="cat-item cat-item-40"><a href="../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;">цитаты</a>
</li>
				</ul>
			</li>

			<li><h2>Архивы</h2>
				<ul>
					<li><a href='../../date/2018/01.html' title='Январь 2018'>Январь 2018</a></li>
	<li><a href='../../date/2015/10.html' title='Октябрь 2015'>Октябрь 2015</a></li>
	<li><a href='../../date/2015/04.html' title='Апрель 2015'>Апрель 2015</a></li>
	<li><a href='../../date/2015/03.html' title='Март 2015'>Март 2015</a></li>
	<li><a href='../../date/2015/01.html' title='Январь 2015'>Январь 2015</a></li>
	<li><a href='../../date/2014/12.html' title='Декабрь 2014'>Декабрь 2014</a></li>
	<li><a href='../../date/2014/11.html' title='Ноябрь 2014'>Ноябрь 2014</a></li>
	<li><a href='../../date/2014/10.html' title='Октябрь 2014'>Октябрь 2014</a></li>
	<li><a href='../../date/2014/09.html' title='Сентябрь 2014'>Сентябрь 2014</a></li>
	<li><a href='../../date/2014/08.html' title='Август 2014'>Август 2014</a></li>
	<li><a href='../../date/2014/07.html' title='Июль 2014'>Июль 2014</a></li>
	<li><a href='../../date/2014/06.html' title='Июнь 2014'>Июнь 2014</a></li>
	<li><a href='../../date/2014/05.html' title='Май 2014'>Май 2014</a></li>
	<li><a href='../../date/2014/04.html' title='Апрель 2014'>Апрель 2014</a></li>
	<li><a href='../../date/2014/03.html' title='Март 2014'>Март 2014</a></li>
	<li><a href='../../date/2014/02.html' title='Февраль 2014'>Февраль 2014</a></li>
	<li><a href='../../date/2014/01.html' title='Январь 2014'>Январь 2014</a></li>
	<li><a href='../../date/2013/12.html' title='Декабрь 2013'>Декабрь 2013</a></li>
	<li><a href='../../date/2013/11.html' title='Ноябрь 2013'>Ноябрь 2013</a></li>
	<li><a href='../../date/2013/10.html' title='Октябрь 2013'>Октябрь 2013</a></li>
	<li><a href='../../date/2013/09.html' title='Сентябрь 2013'>Сентябрь 2013</a></li>
	<li><a href='../../date/2013/08.html' title='Август 2013'>Август 2013</a></li>
	<li><a href='../../date/2013/07.html' title='Июль 2013'>Июль 2013</a></li>
	<li><a href='../../date/2013/06.html' title='Июнь 2013'>Июнь 2013</a></li>
	<li><a href='../../date/2013/05.html' title='Май 2013'>Май 2013</a></li>
	<li><a href='../../date/2013/04.html' title='Апрель 2013'>Апрель 2013</a></li>
	<li><a href='../../date/2013/03.html' title='Март 2013'>Март 2013</a></li>
	<li><a href='../../date/2013/02.html' title='Февраль 2013'>Февраль 2013</a></li>
	<li><a href='../../date/2013/01.html' title='Январь 2013'>Январь 2013</a></li>
	<li><a href='../../date/2012/12.html' title='Декабрь 2012'>Декабрь 2012</a></li>
	<li><a href='../../date/2012/11.html' title='Ноябрь 2012'>Ноябрь 2012</a></li>
	<li><a href='../../date/2012/10.html' title='Октябрь 2012'>Октябрь 2012</a></li>
	<li><a href='../../date/2012/09.html' title='Сентябрь 2012'>Сентябрь 2012</a></li>
	<li><a href='../../date/2012/08.html' title='Август 2012'>Август 2012</a></li>
	<li><a href='../../date/2012/07.html' title='Июль 2012'>Июль 2012</a></li>
	<li><a href='../../date/2012/06.html' title='Июнь 2012'>Июнь 2012</a></li>
	<li><a href='../../date/2012/05.html' title='Май 2012'>Май 2012</a></li>
	<li><a href='../../date/2012/04.html' title='Апрель 2012'>Апрель 2012</a></li>
	<li><a href='../../date/2012/03.html' title='Март 2012'>Март 2012</a></li>
	<li><a href='../../date/2012/02.html' title='Февраль 2012'>Февраль 2012</a></li>
	<li><a href='../../date/2012/01.html' title='Январь 2012'>Январь 2012</a></li>
	<li><a href='../../date/2011/12.html' title='Декабрь 2011'>Декабрь 2011</a></li>
	<li><a href='../../date/2011/11.html' title='Ноябрь 2011'>Ноябрь 2011</a></li>
	<li><a href='../../date/2011/10/index.html' title='Октябрь 2011'>Октябрь 2011</a></li>
	<li><a href='../../date/2011/09/index.html' title='Сентябрь 2011'>Сентябрь 2011</a></li>
	<li><a href='../../date/2011/08.html' title='Август 2011'>Август 2011</a></li>
	<li><a href='../../date/2011/07/index.html' title='Июль 2011'>Июль 2011</a></li>
	<li><a href='../../date/2011/06/index.html' title='Июнь 2011'>Июнь 2011</a></li>
	<li><a href='../../date/2011/05/index.html' title='Май 2011'>Май 2011</a></li>
	<li><a href='../../date/2011/04/index.html' title='Апрель 2011'>Апрель 2011</a></li>
	<li><a href='../../date/2011/03/index.html' title='Март 2011'>Март 2011</a></li>
	<li><a href='../../date/2011/02.html' title='Февраль 2011'>Февраль 2011</a></li>
	<li><a href='../../date/2011/01.html' title='Январь 2011'>Январь 2011</a></li>
	<li><a href='../../date/2010/12.html' title='Декабрь 2010'>Декабрь 2010</a></li>
	<li><a href='../../date/2010/11/index.html' title='Ноябрь 2010'>Ноябрь 2010</a></li>
	<li><a href='../../date/2010/10/index.html' title='Октябрь 2010'>Октябрь 2010</a></li>
	<li><a href='../../date/2010/09/index.html' title='Сентябрь 2010'>Сентябрь 2010</a></li>
	<li><a href='../../date/2010/08.html' title='Август 2010'>Август 2010</a></li>
	<li><a href='../../date/2010/07/index.html' title='Июль 2010'>Июль 2010</a></li>
	<li><a href='../../date/2010/06.html' title='Июнь 2010'>Июнь 2010</a></li>
	<li><a href='../../date/2010/05.html' title='Май 2010'>Май 2010</a></li>
	<li><a href='../../date/2010/04/index.html' title='Апрель 2010'>Апрель 2010</a></li>
	<li><a href='../../date/2010/03/index.html' title='Март 2010'>Март 2010</a></li>
	<li><a href='../../date/2010/02.html' title='Февраль 2010'>Февраль 2010</a></li>
	<li><a href='../../date/2010/01.html' title='Январь 2010'>Январь 2010</a></li>
	<li><a href='../../date/2009/12/index.html' title='Декабрь 2009'>Декабрь 2009</a></li>
	<li><a href='../../date/2009/11/index.html' title='Ноябрь 2009'>Ноябрь 2009</a></li>
	<li><a href='../../date/2009/10.html' title='Октябрь 2009'>Октябрь 2009</a></li>
	<li><a href='../../date/2009/09.html' title='Сентябрь 2009'>Сентябрь 2009</a></li>
	<li><a href='../../date/2009/08/index.html' title='Август 2009'>Август 2009</a></li>
	<li><a href='../../date/2009/07/index.html' title='Июль 2009'>Июль 2009</a></li>
	<li><a href='../../date/2009/06.html' title='Июнь 2009'>Июнь 2009</a></li>
	<li><a href='../../date/2009/05.html' title='Май 2009'>Май 2009</a></li>
	<li><a href='../../date/2009/04.html' title='Апрель 2009'>Апрель 2009</a></li>
	<li><a href='../../date/2009/03.html' title='Март 2009'>Март 2009</a></li>
	<li><a href='../../date/2009/02.html' title='Февраль 2009'>Февраль 2009</a></li>
	<li><a href='../../date/2009/01.html' title='Январь 2009'>Январь 2009</a></li>
	<li><a href='../../date/2008/12.html' title='Декабрь 2008'>Декабрь 2008</a></li>
	<li><a href='../../date/2008/11.html' title='Ноябрь 2008'>Ноябрь 2008</a></li>
	<li><a href='../../date/2008/10.html' title='Октябрь 2008'>Октябрь 2008</a></li>
	<li><a href='../../date/2008/09.html' title='Сентябрь 2008'>Сентябрь 2008</a></li>
	<li><a href='../../date/2008/08.html' title='Август 2008'>Август 2008</a></li>
	<li><a href='../../date/2008/03.html' title='Март 2008'>Март 2008</a></li>
	<li><a href='../../date/2008/02.html' title='Февраль 2008'>Февраль 2008</a></li>
	<li><a href='../../date/2007/12.html' title='Декабрь 2007'>Декабрь 2007</a></li>
	<li><a href='../../date/2007/11.html' title='Ноябрь 2007'>Ноябрь 2007</a></li>
	<li><a href='../../date/2007/10.html' title='Октябрь 2007'>Октябрь 2007</a></li>
	<li><a href='../../date/2007/09.html' title='Сентябрь 2007'>Сентябрь 2007</a></li>
	<li><a href='../../date/2007/08.html' title='Август 2007'>Август 2007</a></li>
	<li><a href='../../date/2007/07/index.html' title='Июль 2007'>Июль 2007</a></li>
	<li><a href='../../date/2007/06.html' title='Июнь 2007'>Июнь 2007</a></li>
	<li><a href='../../date/2007/05.html' title='Май 2007'>Май 2007</a></li>
				</ul>
			</li>

			
					</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a href="../../../feed">Entries (RSS)</a> and <a href="../../../comments/feed">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br />
	Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a> and <a href="http://srinig.com/wordpress/themes/fluid-blue/">Fluid Blue theme</a>.<br />
	<!-- 15 queries. 0.100 seconds. -->
	</div>
</div> <!-- page -->
</body>
</html>
