<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>about NetApp   &raquo; benchmark</title>

<link rel="stylesheet" href="../../wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />
<link rel="alternate" type="application/rss+xml" title="about NetApp RSS Feed" href="../../feed" />
<link rel="pingback" href="../../xmlrpc.php.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6" />

</head>

<body>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="../../index.html" title="about NetApp: Системы хранения данных как предмет разговора">about NetApp</a></h1>
		<p>Системы хранения данных как предмет разговора</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="../../index.html">
<input type="text" size="20" name="s" id="s" value="Поиск..."  onblur="if(this.value=='') this.value='Поиск...';" onfocus="if(this.value=='Поиск...') this.value='';"/>
</form>
	</div> 
	<!-- Search ends here-->
		
</div>

<div id="navbar">
<ul id="nav">
	<li><a href="../../index.html">Home</a></li>
	<li class="page_item page-item-153"><a href="../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul>
</div>
<div id="wrapper">

	<div id="content">

	
			<p>Posts tagged &#8216;benchmark&#8217;</p>

	 		
		<div class="navigation">
			<div class="alignleft"><a href="benchmark/page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>

						
			<div class="post" id="post-1326">
				<h2 class="posttitle"><a href="../1326/trackback.html" rel="bookmark" title="Permanent Link to FAS8040 2-node cluster: результаты SPC-1">FAS8040 2-node cluster: результаты SPC-1</a></h2>
				<div class="postmetadata">25 Февраль 2014, 18:58 <!-- от  --></div>
				<div class="postentry">
					<p>Ну вот, и <a href="http://www.storageperformance.org/results/benchmark_results_spc1/#netapp_spc1">результаты SPC-1</a>, то есть для &#8220;тяжелого&#8221; блочного доступа, подоспели.<br />
<del datetime="2014-02-26T15:11:41+00:00">Правда, пока не готов Full Disclosure Report</del>, а есть только <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/NetApp/A00141_NetApp_FAS8040_2node-cluster/a00141_NetApp_FAS8040_2-node-cluster_SPC-1_executive-summary.pdf">Executive Summary</a>, в котором многие важные детали опускаются.<br />
Но посмотреть все равно интересно. <del datetime="2014-02-26T15:05:28+00:00">Ждем выкладки детального отчета</del>. -  Опубликован и <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/NetApp/A00141_NetApp_FAS8040_2node-cluster/a00141_NetApp_FAS8040_2-node-cluster_SPC-1_full-disclosure-report.pdf">Full Disclosure Report</a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="fc.html" rel="tag">fc</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="performance/index.html" rel="tag">performance</a>, <a href="spc-1.html" rel="tag">spc-1</a><br />					Раздел: <a href="../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>,  <a href="../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1326/trackback.html#comments" title="Комментарий к записи FAS8040 2-node cluster: результаты SPC-1">Комментарии (31)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1279">
				<h2 class="posttitle"><a href="../1279/trackback.html" rel="bookmark" title="Permanent Link to Несколько слов про параметр $/IOPS в SPC-1">Несколько слов про параметр $/IOPS в SPC-1</a></h2>
				<div class="postmetadata">12 Август 2013, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Раз уж тут мы много поговорили про бенчмарк SPC-1, хотелось бы добавить, в завершение темы, еще несколько слов.</p>
<p>В этом бенчмарке, кроме, так сказать, самого результата в достигнутых IOPS, а также сопутствующих ему параметров, таких как latency, есть в принципе очень полезная метрика – результат “цены за IOPS”, или $/IOPS. Этот параметр позволяет оценить, во сколько обошелся результат в денежном выражении. Методика SPC-1 требует раскрывать стоимость протестированой конфигурации. К сожалению, что считать “стоимостью” системы определено недостаточно четко, что тут же стало предметом, если не открытого мошенничества, то достаточно жульнических махинаций многих вендоров. Дело в том, представляя результаты своих систем на тест, они искусственно занижают ее цену, указывая эту цену с произвольной скидкой с “цены листа” (listprice), и, тем самым, уменьшая значение “в числителе”, улучшают результаты $/IOPS совершенно искусственным образом.</p>
<p>Чтобы было понятно, о чем идет речь, несколько слов об общепринятом ценообразовании в “энтерпрайзе”. Принципы ценообразования тут существенно отличаются от, скажем так, массового компьютерного рынка, где торгуют “по прайслисту”, и больше напоминают восточный базар.</p>
<p>Многие, впервые сталкивающиеся с ценами в энтерпрайз-сегменте бывают удивлены и разозлены тем, как сложно бывает, порой, получить цену продукта, и какие высокие цены получаются, когда их все же удается раздобыть. Дело тут в том, что на здешнем “базаре” существует некая условная цена, которая называется “листпрайс”. Это, еще раз отмечу, <em>условная</em>, в значительной мере фиктивная цена, которая фигурирует в документах, и является, на практике, “максимально возможной” ценой. Маленький секрет тут в том, что за эту цену никто ничего не покупает <strike>(ну, если вы не полный лох)</strike>.</p>
<p>Когда вы приходите со своим интересом в компанию-партнера какого-либо вендора, и просите цены на вот такую вот конфигурацию, вам, в первый раз, назовут вот эту вот, в значительной мере несуразно высокую цену. Тут, если вы опытный покупатель, и знаете все эти маленькие секреты (в особенности если вы были в Турции, Египте, ??ндии и прочих странах с хорошо развитой “базарной” кульурой), вы не будете возмущаться, и гордо уходить, хлопая дверью, рассказывая потом в блогах про “диск SATA за полторы штуки долларов”. Нет, вы вежливо выслушаете предложенную цену, покажете свою заинтересованость, посетуете на высокую цену (продавец сочувственно покивает, цена и в самом деле высока), и предложите <em>обсудить вопрос цены</em>. Дальше начинается диалог и игра терпений, в которой выигрывает самый терпеливый и настойчивый, а это терпение вознаграждается разницей, между первоначально названной ценой, и той, за которую вы в результате ваш товар покупаете.</p>
<p>Я уже как-то, было дело, писал текст, несколько лет бывший очень популярным на этом блоге – <a href="../290/trackback.html">“Как просить и получать скидки”</a>. Рекомендую, в особенности, если вы только недавно на наш базар пришли. :)</p>
<p>Хочу пояснить, что я, может быть, тоже не в восторге от всей этой, откровенно говоря, дурацкой схемы. Но вот так уж сложилось, что в энтерпоайзе, как и на восточном базаре,&#160; не торгуют по ценнику, тут нельзя приехать в супермаркет, погрузить в тележку midrange-сторадж на шесть дисковых полок SAS, и проехать на кассу. Ну, вот – нет такого. Не мы это все затеяли, не нам и заканчивать, и вообще в чужом монастыре, раз уж пришли, свои правила не устанавливают. Вот так тут торгуют по дурацки всю жизнь, смиритесь :-/ Вы их не переделаете своим возмущением и требованием “показать прайс-лист”. :)</p>
<p>Как же все это соотносится с темой топика, спросите вы? Дело в том, что, да, никто не покупает за цену прайслиста, это некая бумажная, “мнимая величина”. Однако это, фактически, единственная “твердая” цена, существующая в природе. Кстати, несмотря на свою мнимость, она очень даже участвует в бюджетных расчетах вендора, и некоторых других местах. Все остальные цены, а также величина дисконта – индивидуальны, и зависят от множества факторов. Дисконт может быть большим или маленьким, но он непостоянен, нефиксирован, он зависит от разных факторов, и индивидуален для клиента. Единственная зафиксированная цена в данном случае – это пресловутый “листпрайс”.</p>
<p>Ситуация, в которой Вендор А показывает на тесте в спецификации цену листпрайса, а Вендор B – цену листпрайса с дисконтом 45%, и считает от нее результат $/IOPS, напоминает мне соревнования по бегу, в которой один спортсмен пробегает сотню за 10 секунд, а другой – за 4, но если у первого под “сотней” – понимается сотня метров, то у второго – сотня футов (ну или сто метров с дисконтом 70% от листа ;). Можно ли считать второго – рекордсменом и победителем только на основании того, что у него результат его “забега” – меньше, чем у первого? По-моему ответ очевиден.</p>
<p>К сожалению, спецификация с ценами в бенчмарке SPC-1 находится в длинном <strike>и нудном</strike> Full Disclosure Report, а результат $/IOPS, из него получаемый – в самом начале Executive Report, в красивой цветной табличке, на которую все смотрят в первую очередь. Это, к сожалению, порождает повод для, ну, скажем так, не вполне честного поведения в “серой” зоне. Официальное описание бенчмарка не определяет то, какую цену вендор обнародует и берет при расчете, нужно только указать полную спецификацию, поэтому на совести вендора остается то, как именно он эту цену показывает. Не удивительно, что многие пользуются этой лазейкой, чтобы показать результат в $/IOPS лучше, чем у конкурента, особенно если конкурент, как честная маша, пишет в своем расчете единственную свою официальную (и самую высокую по факту) цену – листпрайс.</p>
<p>Поэтому, сравнивая системы по $/IOPS, всегда обращайте внимание на то, сколько метров было в стометровке, которую пробежал участник с таким выдающимся результатом. :)</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="iops.html" rel="tag">iops</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="performance/index.html" rel="tag">performance</a>, <a href="spc-1.html" rel="tag">spc-1</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1279/trackback.html#comments" title="Комментарий к записи Несколько слов про параметр $/IOPS в SPC-1">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1243">
				<h2 class="posttitle"><a href="../1243/trackback.html" rel="bookmark" title="Permanent Link to Сборка fio под Windows x64">Сборка fio под Windows x64</a></h2>
				<div class="postmetadata">4 Февраль 2013, 13:49 <!-- от  --></div>
				<div class="postentry">
					<p>Одним из самых перспективных средств тестирования дискового перформанса на сегодняшний день является утилита <a href="http://git.kernel.dk/?p=fio.git;a=summary">fio</a>.<br />
??сторически я пользовался много лет для этого популярным IOmeter, и даже писал несколько подробных <a href="../../index.html%3Fs=iometer.html">постов </a>о нем, неизменно приводящих в этот блог читателей с поисковиков.</p>
<p>Однако IOmeter достаточно давно затормозился в развитии, и на сегодняшний день имеет <a href="http://iometer.org/doc/downloads.html">stable </a>в версии аж 2006(!) года, а <a href="http://sourceforge.net/projects/iometer/?source=directory">собираемый community</a> имеет версию 1.1RC1 и обновлялся аж летом 2011 года, что никак нельзя назвать приемлемым. К тому же отдельные версии (Linux x64, например) имеют крайне досадные баги, сводящие на нет его применимость под эти платформы.</p>
<p>Поэтому все больше людей для тестирования производительности ищут более современные инструменты. По этой причине несколько месяцев назад мне попался на глаза очень активно развивающийся проект такой утилиты измерения производительности - <a href="http://freecode.com/projects/fio">fio </a>(flexible input-output tester).<br />
О тестировании дисковой подсистемы с помощью fio можно почитать например вот <a href="http://habrahabr.ru/post/154235/">в этой статье</a>.</p>
<p>К сожалению до недавних пор fio существовал только под Linux, поэтому было очень любопытно обнаружить в блоге нетапповского инженера Neto статью <a href="https://communities.netapp.com/community/netapp-blogs/databases/blog/2013/01/31/compiling-fio-flexible-io-tester-on-windows-64-bits">о сборке fio под Windows x64</a>.</p>
<p>Нет смысла перепощивать ее сюда, там коротенько и совершенно понятно как и что делать, даже без перевода, так что просто сошлюсь на нее <a href="https://communities.netapp.com/community/netapp-blogs/databases/blog/2013/01/31/compiling-fio-flexible-io-tester-on-windows-64-bits">здесь</a>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="fio.html" rel="tag">fio</a>, <a href="iometer.html" rel="tag">iometer</a>, <a href="performance/index.html" rel="tag">performance</a><br />					Раздел: <a href="../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;" rel="category tag">utilities</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1243/trackback.html#comments" title="Комментарий к записи Сборка fio под Windows x64">Комментарии (6)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1204">
				<h2 class="posttitle"><a href="../1204/trackback.html" rel="bookmark" title="Permanent Link to Что такое IOPS?">Что такое IOPS?</a></h2>
				<div class="postmetadata">5 Сентябрь 2012, 11:00 <!-- от  --></div>
				<div class="postentry">
					<p>Сегодня очередной перевод одного из моих любимых авторов, инженера NetApp Dimitris Krekoukias, пишущего в блоге recoverymonkey.org. Текст крайне важный и заставляющий задуматься. Казалось бы, все мы знаем, что такое “IOPS”, но знаем ли мы это на самом деле, и не упускаем ли мы, говоря про IOPS-ы, нечто важное из виду? Насколько полнятие IOPS является однозначно идентифицируемым и можно ли показатели “в IOPS” трактовать однозначно, и сравнивать различные результаты, различных вендоров между собой?</p>
<h3>IOPS: Возможно наиболее известный показатель производительности системы хранения.</h3>
<p>IOPS означает <em>Input/Output (operations) Per Second</em>, &quot;операций ввода-вывода в секунду&quot;. Смысл величины выглядит довольно очевидно. Он измеряет объем работы за определенный промежуток времени (и это не то же самое, что мегабайты в секунду, MB/s).</p>
<p>Кто из вас не видел вендоров, которые превозносят достоинства своих систем хранения, демонстрируя огромные величины IOPS ими достигнутые? Кто из вас не принимал решения покупки системы хранения, основываясь на обещаниях вендорами этих величин? Однако: как часто вендоры, приводя свои результаты, в действительности четко определяли то, что они понимали под аббревиатурой &quot;IOPS&quot;, публикуя эти результаты? </p>
<p>Для нетерпеливых, скажу это с самого начала: <strong>Величина IOPS <em>сама по себе</em> бессмысленна, и именно так и должна рассматриваться. Без дополнительных метрик, таких как latency, процентное соотношение операций чтения и записи и размера блоков ввода-вывода, величина IOPS совершенно бесполезна</strong>.</p>
<p>А теперь подробнее… </p>
<p>   <a href="../1204/trackback.html#more-1204" class="more-link"><small>Continue reading &#8216;Что такое IOPS?&#8217; &raquo;</small></a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="iops.html" rel="tag">iops</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="performance/index.html" rel="tag">performance</a>, <a href="spc-1.html" rel="tag">spc-1</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>,  <a href="../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;" rel="category tag">переводы</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1204/trackback.html#comments" title="Комментарий к записи Что такое IOPS?">Комментарии (16)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1187">
				<h2 class="posttitle"><a href="../1187/trackback.html" rel="bookmark" title="Permanent Link to Новые результаты NetApp FAS2220 в тесте MS ESRP">Новые результаты NetApp FAS2220 в тесте MS ESRP</a></h2>
				<div class="postmetadata">9 Август 2012, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>На днях NetApp опубликовала результаты одного из тестов, которые она проводит для своих стораджей, это так называемый <a href="http://technet.microsoft.com/en-us/exchange/ff182054.aspx">Exchange Solution Review Program</a>, спецификацию которого опубликовала Microsoft. Это небольшой, но довольно популярный у многих вендоров &#8220;прикладной&#8221; тест-бенчмарк, позволяющий продемонстрировать работу стораджей для использования под хранилище MS Exchange.<br />
Текущая версия использует MS Exchange 2010.</p>
<p>NetApp тестировала по данной программе различные системы, в основном &#8220;малого класса&#8221;.<br />
Недавний тест продемонстрировал возможности системы FAS2220 для инфраструктуры начального уровня (&#8221;начального&#8221; это по американским меркам, 1000 mailboxes, размером по 2GB, такие вот там &#8220;малые предприятия&#8221;).</p>
<p>Подробный отчет о тестировании можно посмотреть здесь:<br />
http://media.netapp.com/documents/netapp-fas2220-mailbox-resiliency-storage-solution.pdf</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="esrp.html" rel="tag">esrp</a>, <a href="exchange.html" rel="tag">exchange</a>, <a href="microsoft.html" rel="tag">microsoft</a>, <a href="netapp/index.html" rel="tag">netapp</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1187/trackback.html#comments" title="Комментарий к записи Новые результаты NetApp FAS2220 в тесте MS ESRP">Комментарии (3)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1174">
				<h2 class="posttitle"><a href="../1174/trackback.html" rel="bookmark" title="Permanent Link to Еще о тестировании Cluster-mode в SPC-1">Еще о тестировании Cluster-mode в SPC-1</a></h2>
				<div class="postmetadata">27 Июнь 2012, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Я не первый раз рубликую тут переводы постов инженера NetApp – Dimitris Krekoukias, ведущего автономный, и крайне интересный блог <a href="http://recoverymonkey.org/">http://recoverymonkey.org/</a> (другие мои переводы его постов вы можете найти в рубрике “<a href="../category/translations/index.html">переводы</a>”)</p>
<p>После долгого молчания, Dimitris опубликовал пост, вызванный публикацией отличных результатов кластера FAS6240 в Data ONTAP 8.1.1 Cluster-mode в бенчмарке блочного (FC) доступа – SPC-1, о котором я уже написал в понедельник. Однако вопросу <em>почему</em> он так хорош, и <em>насколько именно</em> он хорош – посвящен сегодняшний перевод.</p>
<h2>NetApp опубликовал великолепные результаты тестирования Cluster-Mode в бенчмарке SPC-1</h2>
<p>Опубликовано <a href="http://recoverymonkey.org/2012/06/20/netapp-posts-great-cluster-mode-spc-1-result/">June 20, 2012</a></p>
<p>Мы тут в NetApp были довольно сильно заняты… заняты совершенствованием единственной в отрасли масштабируемой платформы хранения с универсальным доступом к данным, даже не считая множества разных других имеющихся в ней полезных штук.</p>
<p>Мы недавно выпустили ONTAP 8.1, которая, в Cluster-Mode, позволяет создать 24-узловой кластер (каждый узел которого может иметь до 8TB кэша) для задач NAS, и 4-узловой кластер для блочного доступа (FC и iSCSI).</p>
<p>А с выпуском ONTAP 8.1.1 (выпущенного 14 июня), мы увеличили лимит узлов для блочного доступа до 6, плюс добавили ряд дополнительных оптимизаций и возможностей. Между прочим, число узлов в кластере это пока только условный лимит официальной поддержки, это не жестко заданное ограничение.</p>
<p>После публикации нашего <a href="http://bit.ly/K2FBz1">рекордного результата в бенчмарке NFS</a>, люди спрашивали, как обстоит дело с производительностью блочного ввода-вывода в ONTAP Cluster-Mode, поэтому мы провели тестирование и опубликовали результаты бенчмарка SPC-1, используя часть той же системы, что уже была протестирована на SPEC sfs2008 NFS.</p>
<p>Для тех кто до сих пор думает, что NetApp не подходит для блочного доступа (это типичный FUD наших конкурентов): <strong>Это, на сегодня, лучший результат SPC-1 среди всех дисковых систем хранения, из расчета на уровень latency при достигнутом уровне IOPS</strong> (то есть возможно получить даже более высокие показатели IOPS на бОльших лимитах по latency, как я покажу далее в этом посте).</p>
<p>Вот ссылка на <a href="http://bit.ly/Kj3kvP">результаты</a> и еще одна <a href="http://www.storageperformance.org/results/benchmark_results_spc1#a00115">ссылка</a>, на полную версию со всей доступной информацией.</p>
<p>В этом блоге я уже <a href="http://bit.ly/hs4GMt">говорил</a> о том, что представляет собой бенчмарк SPC-1 . Вкратце: Бенчмарк SPC-1 это общепринятый в индустрии, аудируемый, бенчмарк блочного доступа к системе хранения (по Fiber Channel) который проводит стресс-тестирование дисковой подсистемы большим объемом записей, перезаписей, локальных &quot;хотспотов&quot; и смешанной произвольно/последовательной, чтение-после-записи, запись-после-чтения нагрузкой. Около 60% рабочей нагрузки это операции записи. Размеры используемых в бенчмарке операций ввода-вывода различны, от маленьких до больших (таким образом IOPS в бенчмарке SPC-1 не идентичны и не могут быть сравнены напрямую с классическим тестом IOPS в full random блоками 4KB).</p>
<p>Если сторадж успешно работает на нагрузке SPC-1,, он, обычно, также крайне производительно работает на сложной, чувствительной к показателям latency, динамично изменяющейся нагрузке типа баз данных, в особенности OLTP. Полная спецификация для смертельно любопытных может быть найдена <a href="http://bit.ly/Kj8Iz7">здесь</a>.</p>
<p>Трюк с бенчмарками обычно состоит в интерпретации результатов. Сама по себе величина достигнутых IOPS, хотя и полезна, но не показывает всей картины, и того, как данный результат соотносится с реальной жзнью и реальными приложениями. Мы попытаемся помочь расшифровать результаты в этом посте.</p>
<p>Перед тем, как мы перейдем к анализу и сравнению результатов, несколько замечаний для <a href="http://www.youtube.com/watch?v=3MaJy7LH5js">неверующих</a>:</p>
<ol>
<li>В тестах NetApp не используется диски &quot;с коротких ходом&quot; (short-stroking), так часто любимые многими вендорами, проводящими тестирование, при котором используется только внешняя, наиболее быстродействующая часть диска, где сочетается максимальная линейная скорость и малый разбег механики коромысла жесткого диска, на чем можно показать наилучшие результаты. Вместо этого мы используем настройку параметров системы , чтобы использовать всю поверхность дисков, и не зависеть от того, насколько заполнены данными диски. Смотрите полный отчет <a href="http://bit.ly/Kj5lrO">здесь</a>, страница 61. Для любителей распространять FUD: это эффективно &quot;старит&quot; состояние WAFL, приближая его к реальному состоянию реально эксплуатируемой системы. Мы также не используем оптимизацию размещения блоков путем их реаллокации. </li>
<li>Падения производительности в ходе продолжительного тестирования не наблюдалось. </li>
<li>Средняя величина latency (“All ASUs” в результатах) была плоской и оставалась ниже уровня 5ms на протяжении нескольких итераций теста, включая sustainability test в течение 10 часов (страница 28 полного отчета). </li>
<li>Не использовался дополнительный кэш, кроме того, который поставляется в базовой поставке FAS6240 (Контроллеры 6240 поставляются с Flash Cache емкостью 512GB, при максимальной возможной емкости данной модели 3TB на ноду (контроллер), то есть для работы с большими нагрузками есть еще значительный запас). </li>
<li>Это не &quot;звездолет&quot;, построенный исключительно для завовевания победы и установления рекорда в бенчмарке. Мы использовали сравнительно немного дисков, в сравнении с конфигурациями других вендоров, и это не самая быстрая наша модель контроллера (еще есть 6280). </li>
</ol>
<h3>Анализ</h3>
<p>Когда мы смотрим на результаты бенчмарка, следует сфокусироваться на следующих моментах:</p>
<ol>
<li>Высокий уровень установившейся производительности в IOPS (нестабильность показателей показывает на наличие проблем). </li>
<li>IOPS/диск (это показатель эффективности – 500 IOPS/drive это вдвое лучше и эффективнее, чем 250 IOPS/drive, что, как следствие, означает меньше необходимых дисков в системе, снижает ее стоимость, уменьшает физический занимаемые в датацентре объем, и так далее.) </li>
<li>Стабильно низкая latency (пики показывают наличие проблем). </li>
<li>IOPS связан и зависит от latency (Получили ли вы высокие показатели IOPS вместе с высокой latency на максимуме? Это практически используемо?) </li>
<li>Какой тип RAID использовался (RAID6? RAID10? RAID6 обеспечивает значительно лучшую защиту данных и лучшие результаты эффективности использования дискового пространства, чем зеркалирование, что ведет к снижению стоимость даже более надежного хранилища данных). </li>
<li>Какие диски использовались? Хотите ли вы покупать такие диски? </li>
<li>??спользовался ли autotiering? Если нет, то почему нет? Разве он не помог бы в такой сложной ситуации? </li>
<li>Какое оборудование потребовалось, чтобы получить стабильную производительность (сколько дисков и контроллеров потребовалось для построения системы? Означает ли это более сложную и дорогую систему? Как это все будет управляться?) </li>
<li>Цена (некоторые вендоры указывают цену уже с учетом дисконта, в то время как другие публикуют цену в list price, так что будьте тут внимательнее). </li>
<li>Цена/IOPS (наиболее полезная метрика – но следует сравнивать цену list price с list price). </li>
</ol>
<p>SPC-1 это бенчмарк НЕ для измерения максимума потока данных; для измерения чистого GB/s смотрите другие бенчмарки. Большинство систем не дает больше 4GB/s в этом бенчмарке, так как много операций в нем рандомные (и 4GB/s это довольно много для рандомного ввода-вывода).</p>
<h3>Сравнение систем</h3>
<p>В этой части мы сравним дисковые системы хранения. Предсказуемо &quot;чистые SSD&quot; (или RAM) системы хранения имеют, конечно, очень высокие показатели производительности, и могут подойти, если ваша задача - обеспечивать работу с небольшим объемом данных очень быстро.</p>
<p>Но мы сосредоточимся на задачах высоконадежных систем общего применения, которые обеспечивают одновременно и высокую производительность, и низкую latency, и большую емкость, за разумную цену, а также, одновременно, большое количество функциональных фич(снэпшоты, репликация, кэширование в flash (megacaching), thin provisioning, дедупликация, компрессия, многопротокольность, включая NAS, и так далее). Опа – оказывается никто из конкурентов не может сделать сразу все что умеет делать NetApp.</p>
<p>Ниже приведен список систем и ссылки на их полные отчеты тестирования SPC-1, где вы сможете найти всю необходимую информацию. Все эти системы имеют высокие результаты и относительно плоскую кривую latency.</p>
<ul>
<li><a href="http://bit.ly/Kj5lrO">NetApp 6240</a> </li>
<li><a href="http://bit.ly/NUThnK">IBM SVC with V7000</a> </li>
<li><a href="http://bit.ly/NUTDLb">IBM SVC with DS8700</a> </li>
<li><a href="http://bit.ly/NUTuHq">HDS VSP</a> </li>
<li><a href="http://bit.ly/NUTerZ">HP 3Par V800</a> </li>
<li><a href="http://bit.ly/NUTqrs">Huawei Symantec S8100</a> </li>
</ul>
<p>Также есть несколько других дисковых систем хранения, со значительными результатами по IOPS, но если мы посмотрим на их результаты sustained latency (“Sustainability – Average Response Time (ms) Distribution Data” в любом из полных отчетов) мы увидим, что общие показатели latency чересчур высоки и наблюдается значительная неравномерность, в особенности в начальной фазе, с пиками до 30ms (что крайне много), поэтому мы не взяли их в расчет.</p>
<p>Вот краткий перечень систем и их параметров, отсортированных в соответствии с latency. Кроме этого показана и их стоимость в ценах list price (это можно найти в полном отчете о тестировании) плюс стоимость операции $/IOPS, посчитанная исходя из list price (многие вендоры приводят в отчетах цену с уже введенной скидкой, чтобы цена выглядела пониже):</p>
<p>&#160;</p>
<p><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/---Cluster-mode--SPC-1_EDD7/image.png" width="954" height="181" /></p>
<h3>…но ведь тут показано, что некоторые системы быстрее NetApp… Как так?</h3>
<p>Это зависит от того, насколько важен для вас показатель latency и его низкая величина (и от того, принимаете ли вы в расчет используемый тип RAID). Для подавляющего большинства нагрузок типа баз данных, низкая latency операций ввода-вывода гораздо предпочтительнее высоких показателей latency.</p>
<p>Вот как это увидеть:</p>
<ol>
<li>Выберите один из приведенных выше линков на полные отчеты Допустим это будет 3Par, так как он показывает одновременно и высокие показатели производительности, и высокие значения latency. </li>
<li>Найдем в отчете главу под названием &quot;Response Time – Throughput Curve&quot;. Например это страница 13 в <a href="http://bit.ly/NUTerZ">отчете по системе 3Par</a>. </li>
<li>Проследим, как latency резко растет при повышении загрузки системы. </li>
</ol>
<p>Например посмотрим на кривую 3Par:</p>
<p><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/---Cluster-mode--SPC-1_EDD7/image_3.png" width="600" height="408" /></p>
<p>Заметьте то, как latency резко растет после некоей точки.</p>
<p>Теперь сравним с <a href="http://bit.ly/Kj5lrO">результатом NetApp</a> (страница 13):</p>
<p><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/---Cluster-mode--SPC-1_EDD7/image_4.png" width="600" height="434" /></p>
<p>Отметьте, что результат NetApp не просто имеет хорошие показатели latency, но, что еще более важно, <em>latency остается хорошей и растет исключительно медленно по мере увеличения нагрузки на систему.</em></p>
<p>Вот почему колонка“SPC-1 IOPS around 3ms” была добавлена в таблицу. Фактически это ответ на вопрос <strong>что бы было, если бы уровень latency был в тесте одинаков для всех протестированных систем?</strong></p>
<p>Когда вы примете эту позицию, вы увидите, что система 3Par фактически медленнее, чем NetApp, если сравнить их на одинаково низком желаемом уровне latency.</p>
<p>Вы можете взять точные показатели latency из графика на странице 13, у NetApp таблица выглядит так (озаглавлено &quot;Response Time – Throughput Data&quot;):</p>
<p><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/---Cluster-mode--SPC-1_EDD7/image_5.png" width="600" height="144" /></p>
<p>Действительно, при сравнении результатов мы видим, что только IBM SVC (с кучей стораджей V7000 за ним) оказывается быстрее NetApp при столь же хороших показателях latency. Что плавно подводит нас к следующей главе…</p>
<p>Сколько железа обеспечивает такую производительность?</p>
<p>Почти любая инженерная задача может быть решена, если дать приложению достаточное количество необходимого оборудования. <a href="http://bit.ly/NUThnK">Результат IBM</a> это как раз хороший пример того, как можно получить хороший результат собрав вместе большую кучу дорогостоящего железа:</p>
<ul>
<li>8 SVC контроллеров (virtualization engines) плюс… </li>
<li>…16 отдельных систем V7000… </li>
<li>…каждая состоящая из еще 2 контроллеров SVC и 2 контроллеров RAID </li>
<li>1920 дисков 146GB 15K RPM (не так-то просто такие купить нынче, не так ли?) </li>
<li>??того 40 контроллеров SVC (8 больших и 32 поменьше), 32 RAID-контроллера, и все это битком наполнено дисками. </li>
</ul>
<p>Даже отставив в сторону вопрос того, как это все управляется, сколько это потребляет электричества и как размещается, понятно, что это довольно большая система. Я даже не пытался посчитать, сколько тут процессоров и ядер работают параллельно, уверен, их много.</p>
<p>Сравним эту кухню с вариантом <a href="http://bit.ly/Kj5lrO">конфигурации NetApp</a>:</p>
<ul>
<li>6 контроллеров в одном кластере </li>
<li>432 диска 450GB 15K RPM (самый распространенный и массовый наш диск по состоянию на июнь 2012). </li>
</ul>
<h3>Вопросы (с удовольствие увижу ответы на них от других вендоров):</h3>
<ol>
<li>Что произойдет при использовании RAID6 у других вендоров? NetApp всегда тестирует системы с использованием своей версии RAID6 (RAID-DP). RAID6 значительно надежнее, чем зеркалирование, особенно в больших пулах (не говоря уже о более эффективном использовании пространства дисков). Большинство клиентов не хотят покупать большую систему в конфигурации <em>только-RAID10</em>… (пользователи - задавайте вопросы вашим вендорам. Тут нет никакого волшебства – ручаюсь, у них есть внутренние результаты для RAID6, попросите показать их вам). </li>
<li>Autotiering это одна из самых раскрученных сегодня фич, с признаками того, что это достижение, превосходящее изобретение пенициллина, или даже колеса, а может даже и огня… Однако никто из дисковых массивов не рассматривает использование SSD для autotiering (IBM опубликовала однажды результат – <a href="http://bit.ly/NezCt4">не впечатляет</a>, делайте выводы). Это при том, что бенчмарк, по своей спецификации активно создающий &quot;горячие точки&quot; (hotspots) нагрузки, должен бы быть здесь идеальным кандидатом для демонстрации эффективности… </li>
<li>Почему EMC и Dell не желают публиковать результаты SPC-1? (Они оба, кстати, члены SPC, Storage Performance Council). Только два этих вендора, из крупных игроков на рынке, кто еще не опубликовали свои результаты. EMC ранее говорила, что SPC-1 это нереалистичный тест – ну, типа <em>только ваше приложение с вашими данными на вашем сторадже может показать по-настоящему реальные результаты</em>. Это так, однако SPC-1 это общепринятый индустрией стандартный бенчмарк для блочного доступа произвольного характера, и отличная &quot;лакмусовая бумажка&quot;. </li>
<li>Для системы, которая регулярно позиционируется для нагрузки Tier-1, IBM XIV, результаты бенчмарков, увы, отсутствуют также, даже для самой новой ее Gen3. Неужели IBM стесняется показать свои результаты SPC-1 для этой системы? </li>
<li>Наконец – некоторые наши конкуренты продолжают утверждать, что NetApp, дескать, это &quot;не настоящий SAN&quot;, что это, якобы &quot;эмуляция SAN&quot;, и так далее. Что бы это все ни значило на самом деле – может быть подход NetApp, с такой &quot;эмуляцией&quot; оказывается, по факту, лучше?… Максимальная <em>write latency</em> в этом тесте составила 1.91ms для в основном записываемой нагрузки! </li>
</ol>
<h3>??тоговые мысли</h3>
<p>В накануне опубликованном результате бенчмарка SPC-1, NetApp показала вновь, что Data ONTAP в Cluster-Mode это высокопроизводительная и масштабируемая система, одинаково подходящая как для SAN, так и для NAS задач. Суммируя все вышесказанное, можно сказать, что ONTAP Cluster-Mode:</p>
<ul>
<li>Позволяет строить высокопроизводительные и динамически-масштабируемые кластеры хранения для FC, iSCSI, NFS и CIFS. </li>
<li>Демонстрирует низкую latency при высокой производительности. </li>
<li>Предлагает исключительно хорошее соотношение price/performance. </li>
<li>Позволяет доступ к данным одной ноды с любых других нод. </li>
<li>Перемещает данные между нодами, не прерывая работы с ними (включая CIFS, что ранее не было практически невозможно). </li>
<li>Поддерживает традиционные для NetApp возможности (оптимизацию процессов записи, взаимодействие с приложениями, снэпшоты, дедупликацию, компрессию, репликацию, thin provisioning, и кэширование во flash (megacaching). </li>
<li>Может работать на в точности тех же самых контроллерах FAS, что и в 7-mode, что защищает инвестиции. </li>
<li>Может виртуализовывать системы хранения, расположенные за ними. </li>
</ul>
<p>??сточник &lt;<a href="http://recoverymonkey.org/2012/06/20/netapp-posts-great-cluster-mode-spc-1-result/">http://recoverymonkey.org/2012/06/20/netapp-posts-great-cluster-mode-spc-1-result/</a>&gt; </p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="811.html" rel="tag">8.1.1</a>, <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="cluster-mode/index.html" rel="tag">cluster-mode</a>, <a href="iops.html" rel="tag">iops</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="performance/index.html" rel="tag">performance</a>, <a href="recoverymonkey.html" rel="tag">recoverymonkey</a>, <a href="spc-1.html" rel="tag">spc-1</a>, <a href="testing.html" rel="tag">testing</a><br />					Раздел: <a href="../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;" rel="category tag">переводы</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1174/trackback.html#comments" title="Комментарий к записи Еще о тестировании Cluster-mode в SPC-1">Комментарии (7)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1173">
				<h2 class="posttitle"><a href="../1173/trackback.html" rel="bookmark" title="Permanent Link to NetApp опубликовал результаты SPC-1 в 8.1.1 C-mode">NetApp опубликовал результаты SPC-1 в 8.1.1 C-mode</a></h2>
				<div class="postmetadata">25 Июнь 2012, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>На днях, NetApp официально опубликовал результаты бенчмарка SPC-1, главного бенчмарка по демонстрации производительности на блочном (SAN) доступе.</p>
<p>Как вы знаете, в Data ONTAP 8.1.x Cluster-mode появилась новая возможность – кроме доступа к системе хранения как к NAS, по протоколу NFS или CIFS/SMB, теперь возможна и работа с блочным стораджем, то есть как SAN-утройства. В версии 8.1 кластер SAN был ограничен 4 узлами (2 HA-парами), но, как я и предполагал, этот размер будет постепенно увеличиваться, и вот уже в 8.1.1 он был увеличен до 6 узлов (нод) в кластере. Напомню, что для NAS (NFS) максмальный размер кластера составляет 24 узла.</p>
<p>Однако для любой новинки всегда остается вопрос, как и насколько хорошо это на самом деле работает? ??менно на этот вопрос отвечают бенчмарки, то есть эталонные процедуры тестирования, на которых можно протестировать свою конфигурацию,&#160; получить определенный результат, который уже можно сравнить с результатами бенчмарков других систем. Специально останавливаюсь на том, что именно стандартизованная среда тестирования, и только она, позволяет в дальнейшем сравнивать результаты между собой. Нельзя сравнивать результаты какого-то одного теста, выраженного в IOPS, с результатами в IOPS какого-то другого.</p>
<p>?? если для NAS NetApp достаточно давно показывал свои результаты в бенчмарке SPEC sfs2008, в том числе и для Cluster-mode, то для блочных протоколов, таких как FC или iSCSI, или FCoE, таких данных не было. А отсутствие результатов бенчмарков всегда тревожит, как же оно там, на самом деле, не на бумаге маркетинговых буклетов?</p>
<p>Наконец, на прошлой неделе, NetApp показал свои (почти)топовые результаты, для 6-узлового кластера, с использованием контроллеров FAS6240, под управлением Data ONTAP 8.1.1.</p>
<p>??нтересно, что бенчмарк SPC-1 требует публиковать цену тестируемой конфигурации (в терминах SPC-1 – TSC, Tested Storage Configuration), и, следовательно, вычислять параметр $/IOPS, “цену транзакции”. Но тут следует обратить внимание, что не запрещается искусственно занижать “листовую” цену продукта (например указав в цене уже некий “дисконт” относительно листпрайса), получая более “выгодно выглядящие” $/IOPS. Показатель $/IOPS приводится вместе с показателем IOPS, достигнутым на тестировании, даже в короткой версии результата, так называемом <em>executive summary</em>, в то время, как за полной конфигурацией тестируемой системы и за опубликованными на нее ценами, надо идти в <em>full disclosure report</em>. </p>
<p>NetApp на тестировании SPC-1 всегда приводит в качестве цены на систему полный, официальный листпрайс на момент тестирования, без дисконтов, и, что интересно, со включенным SupportEdge 24&#215;7х4h на 3 года. Специально хочу напомнить, что листпрайс в реальной жизни не является реальной ценой продажи, так как в подавляющем числе случаев при продаже для конечного пользователя из цены вычитаются разнообразные, порой значительные, в десятки процентов, дисконты (скидки).</p>
<p>Поэтому если вы хотите просто тупо сравнить циферку $/IOPS системы одного вендора, с опубликованным $/IOPS у NetApp, обязательно посмотрите, исходя из какой цены было это значение вычислено, и, соответствующим образом, скорректируйте результаты.</p>
<p>18 июня 2012 года NetApp опубликовал официальный отчет о тестировании 6-узлового кластера в SAN, на протоколе доступа FC 8Gb/s и тестируемом объеме ~72TB (~193TB raw, 36% от raw), 432 диска SAS 450GB в 18 полках, показав результат <strong>250 039,67</strong> IOPS, и, при листпрайсе <strong>$1 672 602</strong>, показатель $/IOPS составил <strong>6,69$/IOPS SPC-1</strong>.</p>
<p><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/NetApp---SPC-1--Cluster-mode_80D1/image.png" width="731" height="248" /></p>
<p>За подробностями – в <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/NetApp/A00115_NetApp_FAS6240-cluster/a00115_NetApp_FAS6240-cluster_SPC-1_executive-summary.pdf">executive summary</a> и в <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/NetApp/A00115_NetApp_FAS6240-cluster/a00115_NetApp_FAS6240-cluster_SPC-1_full-disclosure.pdf">full disclosure report</a>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="cluster/index.html" rel="tag">cluster</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="performance/index.html" rel="tag">performance</a>, <a href="san.html" rel="tag">san</a>, <a href="spc-1.html" rel="tag">spc-1</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>,  <a href="../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1173/trackback.html#comments" title="Комментарий к записи NetApp опубликовал результаты SPC-1 в 8.1.1 C-mode">Комментарии (8)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1140">
				<h2 class="posttitle"><a href="../1140/trackback.html" rel="bookmark" title="Permanent Link to Про тестирования и про производительности">Про тестирования и про производительности</a></h2>
				<div class="postmetadata">9 Апрель 2012, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Некоторое время назад по IT-новостям прокатилось сообщение что “<a href="http://www.theregister.co.uk/2012/03/15/oracle_zfs_spec_result/">Система хранения Oracle 7320 победила в тестах NetApp FAS3270!! адинадин</a>”. На прошлой неделе у меня дошли руки посмотреть все же что там, как, кто, и кого победил. О результатах рассказываю.</p>
<p>Тема “тестирований производительности” (кавычки мои, romx) есть любимая тема любого сисадмина.</p>
<p>Допустим, вы читаете в новостях сообщение, что <em>“Мотоцикл Honda CBR150 обошел на стометровке с места болид Formula1 Ferrari!”</em>. “Ну, круто” – подумаете вы, “но кому интересно соревнование с формульным болидом на стометровке с места? Они бы еще соревновались по параметру “экономия бензина” с велосипедом!” А вот нет, оказывается, прекрасная новость и <a href="https://www.google.com/search?q=oracle+7320+netapp&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a">информационный повод</a> проспамить прессрелизом IT-издания.</p>
<p>Уже не раз в этом блоге я писал, что “<a href="../926/trackback.html">дьявол – в деталях</a>”, “<a href="../982/trackback.html">всегда читайте мелкий шрифт</a>”, и не ограничивайтесь одними лишь заголовками смотрите вглубь, мы – инженеры, именно за умение смотреть вглубь и читать портянки текстов на английском нам платят наши деньги.</p>
<p>Но, для начала, несколько вводных слов.</p>
<p>Тестирование – тема очень непростая. Очень важный аспект в любом бенчмарке это создание повторяемой среды, отражающей реальные условия использования тестируемого предмета. Результаты процесса “копирования ISO в тотал коммандере”&#160; совершенно неприменимы для оценки быстродействия системы хранения на задаче OLTP database, а данные чисто “синтетического” теста могут не отражать адекватно ваши реальные рабочие результаты, на вашей реальной рабочей задаче, в жизни.</p>
<p>Но если в том что касается бенчмарка, то есть создания повторяемой среды тестирования идентичной для всех тестирующихся систем, можно положиться на авторитет общепризнанных тестов, каковыми на сегодня являются, например <a href="http://www.spec.org/sfs2008/results/sfs2008.html">SPECsfs2008</a> для файловых протоколов (NFS и CIFS), и <a href="http://www.storageperformance.org/results/benchmark_results_spc1">SPC-1</a> для блочных протоколов (FC и iSCSI), то вот в подготовке тестируемой системы есть некоторая свобода, которой иногда (довольно часто, к сожалению) пользуются <em>некоторые производители</em> с целью создать “систему хранения”, единственная цель которой – победа в тестировании. В англоязычном сегменте такое называется <em>lab queen</em>, по-русски я слышал название “звездолет”. </p>
<p>Вариантов как построить <em>звездолет</em> есть масса. Например можно взять <a href="../523/trackback.html">хай-энд систему и набить ее SSD, получив систему за шесть миллионов долларов на 19TB usable</a> . Можно <a href="../872/trackback.html">поставить вместе четыре стораджа, и в результатах тупо просуммировать показанные ими по отдельности результаты</a>. Можно, наконец, тестировать систему на голых дисках без RAID или на RAID-0. ??спользовать множество дисков малого объема. Разбить пространство тестирование на большое количество мелких разделов, снижая “разбег” random access seek, и так далее. Полученные таким образом результаты окажутся неприменимыми в реальной жизни и в реальной эксплуатации того, что вы можете купить, однако очень эффектно смотрятся в пресс-релизах об очередной победе.</p>
<p>В этом отношении позиция NetApp в тестировании достаточно ясна и четко выражена. NetApp тестирует реальные конфигурации, которые вы можете купить и использовать. Не “звездолет” для получения эффектных результатов бенчмарка, а реальную практичесую систему. Хорошо настроенную специалистами, но без вышеперечисленных “серых мулечек”. Результаты тестирования у NetApp это реальные результаты практической, “покупабельной” системы хранения.</p>
<p>А теперь перейдем собственно к теме. Что же скрывает за собой барабанная дробь <a href="http://www.oracle.com/us/solutions/performance-scalability/sun-zfs-7320-specsfs2008-31512-1558306.html?ssSourceSiteId=opn">прессрелиза</a>?</p>
<p>Согласно требованиям проведения тестирования <a href="http://www.spec.org/sfs2008/results/sfs2008.html">SPECsfs2008</a>, протестированная конфгурация должна быть хорошо и детально документирована и описана. Эти данные доступны на сайте SPEC.org всем желающим. Пожелаем и мы проверить, какую же в точности конфигурацию тестировали в Oracle.</p>
<p>Вот как описывает протестированную конфигурацию сайт SPEC.org:    <br /><a href="http://www.spec.org/sfs2008/results/res2012q1/sfs2008-20120206-00207.html">http://www.spec.org/sfs2008/results/res2012q1/sfs2008-20120206-00207.html</a></p>
<p><a href="http://www.oracle.com/us/products/servers-storage/storage/nas/zfs7320/overview/index.html">Система Oracle Sun ZFS storage 7320</a></p>
<p>136 дисков SAS 15K на 300GB в 6 дисковых полках, обшим usable space емкостью 37,1TB и общей экспортируемой емкостью в 36,96TB были поделены на 32 файловые системы, по 16 на каждый из двух контроллеров (каждая экспортируемая FS имела размер примерно 1,1TB), доступ к которым осуществлялся с трех loadgenerator Sun Fire X4270 M2, подключенных по 10G Ethernet.</p>
<p>Также тестированный сторадж оснащен 8 дисками SSD по 512GB каждый, для кэширования чтения, (так называемый L2ARC), общей емкостью 4TB, пополам на каждом из двух контроллеров, и 8 дисками SSD 73GB в качестве кэша записи (ZIL), суммарно 584GB, без RAID в обоих случаях. Кроме этого, два контроллера системы хранения имели RAM емкостью 288GB (ARC, по 144GB на контроллер), что дает 4968GB суммарной емкости кэша (SSD и RAM).</p>
<p>Суммарная, участвующая в тестировании емкость (fileset) составила 15587,3 GB, то есть <strong>емкость кэша составила примерно треть от используемого файлсета</strong>.</p>
<p>Далее цитата:   <br /><em>The storage configuration consists of 6 shelves, 4 with 24 disk drives, 2 with 20 disk drives and 4 write flash devices. Each controller head has 4 read flash accelerators. Each controller is configured to use 68 disk drives, 4 write flash accelerator devices and 4 read flash accelerator devices. The controller is then set up with pools by dividing the disk drives, write flash accelerators and read flash accelerators into 4 pools. Each of the controller&#8217;s pools is configured with 17 disk drives, 1 write flash accelerator and 1 read flash accelerator. The pools are then set up to stripe the data (RAID0) across all 17 drives. The write flash accelerator in each pool is used for the ZFS Intent Log (ZIL) and the read flash accelerator is used as a level 2 cache (L2ARC) for the pool. All pools are configured with 4 ZFS filesystems each.</em> </p>
<p>“Конфигурация системы хранения содержала 6 дисковых полок, 4 полки на 24 диска и 2 полки на 20 дисков, плюс 4 SSD-кэша на запись. Каждый контроллер использовал 4 SSD-диска в качестве кэша чтения. Каждый контроллер был сконфигурирован на работу с 68 дисками, 4 SSD кэша на запись и 4 SSD кэша на чтение. Каждый контроллер использовал пулы дисков, между которыми были разделены диски, по одному SSD-кэшу на чтение и на запись на каждый пул. Пулы были настроены таким образом, чтобы данные страйпились на все входящие в него 17 дисков (RAID-0). Write flash accelerator (SSD емкостью 73GB) в каждом пуле использовался в качестве ZFS Intent Log (ZIL), а read flash accelerator (SSD емкостью 512GB) как level 2 cache (L2ARC). На каждом из пулов было создано по 4 файловые системы.”</p>
<p>Как мы видим, несмотря на использование ZFS, для организации дисков в пулах был выбран <strong>простой stripe, без RAID (фактически RAID-0!)</strong>. Кроме того стоит отметить, что общая тестируемая емкость дисков была поделена на сравнительно маленькие файловые системы, <strong>всего около 1,1TB каждая, числом 32</strong> (зачем такой финт – см. выше).</p>
<p>Очевидно, что такая конфигурация довольно далека от реально эксплуатируемой на такого рода системах. Кто в здравом уме будет класть данные на <strong>17-дисковую</strong> группу в <strong>RAID-0</strong>?! А как планируется использовать пространство, разбитое на 32 отдельных FS для хранения, например, больших объемов? А каковы 512GB write cache на SSD, без малейшей защиты от сбоя?</p>
<p>Кстати интересный вопрос: Если ZFS так хороша и производительна, и так хорош RAID-Z и RAID-Z2, то почему его не использует при выкатке систем на тестирование даже сам Oracle? Что за засада с ним, господа из Oracle? Вот NetApp показывает свой результат на реальных, эксплуатируемых конфигурациях, с RAID-DP и даже со включенным thin provisioning, а в результатах Oracle в SFS2008 – Stripe (RAID-0), а в <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/Oracle/A00108_Oracle-Sun-ZFS-7420c/a00108_Oracle-Sun_ZFS-7420c%20_SPC1_full-disclosure-r1.pdf">SPC-1 – mirror (RAID-1)</a>. Почему не RAID-Z(2)? Почему бы не показать результаты с ними? Может быть они совсем не так хороши?</p>
<p>Для сравнения давайте посмотрим на упомянутую конфигурацию NetApp FAS3270, которую “побеждали”.</p>
<p>FAS3270 в конфигурации с SAS-дисками и без Flash Cache, поставки таких систем начались в ноябре 2010 года, около полутора лет назад. </p>
<p>360 дисков 450GB 15K, общая usable емкость дисков 125,7TB (в RAID-DP), экспортированная емкость равна 110,08TB (88% от usable) в 2 файловых системах (по одной на контроллер). Диски организованы в два aggregate из 11 RAID-групп 14d+2p в RAID-DP (RAID-6),&#160; тестовая нагрузка генерировалась с помощью 12 Loadgenerators типа IBM 3650M2.</p>
<p>Exported capacity равна 110TB, файлсет, на котором проводилос тестирование - 11749.7 GB&#160; Размер RAM, используемого как кэш на системе хранения, равен <strong>36GB, что составляет 1/326 от fileset</strong>.</p>
<p><strong><a href="http://www.spec.org/sfs2008/results/res2010q4/sfs2008-20101018-00171.html">SPECsfs2008_nfs.v3=101183 Ops/Sec (Overall Response Time = 1.66 msec)</a></strong></p>
<p>&#160;</p>
<p>У “победившей” его полтора года спустя системы с RAID-0, с кэшами разного уровня, составляющими суммарно до трети тестируемого файлсета, включая около 4,5TB на SSD, с в шесть раз большим RAM контроллера и с тестируемым пространством побитым на 32 кусочка-FS:</p>
<p><strong><a href="http://www.spec.org/sfs2008/results/res2012q1/sfs2008-20120206-00207.html">SPECsfs2008_nfs.v3=134140 Ops/Sec (Overall Response Time = 1.51 msec)</a></strong></p>
<p>&#160;</p>
<p>На 32,5% больше IOPS и на 8,5% лучше latency.</p>
<p>&#160;</p>
<p>Ребята из Oracle, что называется &quot;при всем уважени”, но вы правда считаете, что таким результатом, при описанном выше устройстве тестируемой системы, и способе проведения тестирования, это победа и этим стоит гордиться? Нет, ну правда?</p>
<p>Оно дешевле стоит? Ну, согласен, дешевле. Мотоцикл порвал Феррари на стометровке. Но кто гоняет на Феррари на стометровке? Какой смысл сравнивать по цене лоу-мидрендж (“<em>Entry-level cluster option for high availability</em>”, цитата из <a href="http://www.oracle.com/us/products/servers-storage/sun-zfs-storage-family-ds-173238.pdf">техспеков</a> на 7320), ZFS-сервер, со стораджем, в максимуме тянущем в 6,6 раз большую чем 7320 емкость, используещем RAID-6, и демонстрируемом даже близко не на пределе своих возможностей по тестируемой емкости?</p>
<p>Впрочем, несколько слов и о цене. В тесте SPECsfs2008 условия тестирования не требуют называния цены тестируемой системы, поэтому спекуляции о цене делаются на довольно мутном базисе “<a href="https://blogs.oracle.com/si/entry/oracle_posts_spec_sfs_benchmark">нашли гуглом какой-то прайс нетаппа, где-то в интернете, и прикинули</a>”. Однако в случае SPC-1 требуется указывать такой параметр, как IOPS/$ и цена всей тестируемой конфигурации называется. Тут, однако, тоже есть поле для… ну-у… скажем так, для “оптимизации” :). Например на тестировании SPC-1 NetApp называет цену листпрайса (см стр. 18 <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1E/NetApp/AE00004_NetApp_FAS3270A/ae00004_NetApp_FAS3270A_SPC1E_full-disclosure.pdf">отчета</a>), а Oracle, ничуть не смущаясь приводит цену с “вшитой” 30% скидкой по всем позициям (см. стр. 14 <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/Oracle/A00108_Oracle-Sun-ZFS-7420c/a00108_Oracle-Sun_ZFS-7420c%20_SPC1_full-disclosure-r1.pdf">отчета</a>) и именно ее берет в расчете IOPS/$ в SPC-1.</p>
<p>Так что, повторю сказанное мной в начале поста: Читайте мелкий шрифт, не ленитесь разбираться в конфигурациях и их деталях, и оставьте пресс-релизы (и выводы только на их основании) для С*O-менеджеров. :)</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="nfs/index.html" rel="tag">nfs</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="specsfs2008.html" rel="tag">specsfs2008</a>, <a href="sun.html" rel="tag">sun</a>, <a href="zfs.html" rel="tag">zfs</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1140/trackback.html#respond" title="Комментарий к записи Про тестирования и про производительности">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-873">
				<h2 class="posttitle"><a href="../873/trackback.html" rel="bookmark" title="Permanent Link to Почем обходится производительность?">Почем обходится производительность?</a></h2>
				<div class="postmetadata">4 Май 2011, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Сегодня еще один пост <a href="http://recoverymonkey.org/">Recoverymonkey</a>, на тему довольно странной методики, используемой EMC для публикации своих результатов в тесте SPEC SFS NFS, для своих новых систем VNX.</p>
<p>Во что же обходится производительность, измеренная в “долларах на IOPS”?</p>
<p>Вновь обращаю ваше внимание, что в полемику с автором, если такая кому-то покажется необходимой, можно вступить в комментариях к оригинальной статье, а не к моему переводу.</p>
<h3>Examining value for money regarding the SPEC benchmarks</h3>
<p>Posted on <a href="http://recoverymonkey.org/2011/02/28/examining-value-for-money-regarding-the-spec-benchmarks/">February 28, 2011</a> by <a href="http://recoverymonkey.org/author/admin/">Dimitris</a></p>
<p>Некоторые комментарии к предыдущему моему посту, ответ на вопросы о цене $/IOPS и $/TB.</p>
<p>Поскольку SPEC не требует указывать цену тестируемой конфигурации, я проделал собственный анализ цен.</p>
<p>Данные по NetApp это просто умноженные на 4 наши опубликованные на сайте SPEC <a href="http://www.spec.org/sfs2008/results/res2010q4/sfs2008-20101018-00172.html">результаты для FAS6240</a>, точно то же самое, что сделала EMC со своими результатами, они взяли 4 независимых системы, запустили на каждой из них тест, и просуммировали результат всех четырех. </p>
<p>Система хранения обычно имеет несколько “узких мест” – кластерный интерконнект, диски и канал к ним, полоса пропускания интерфейсов контроллера, и так далее.</p>
<p>Когда вы тестируете одну систему, вы, в конечном счете, упираетесь в одно из таких мест.</p>
<p>Когда вы тестируете несколько отдельных систем, независимых одна от другой, у каждой будут свои собственные, изолированные от других такие bottlenecks, не будет узких мест, связанных с совместной работой нескольких контроллеров,&#160; и производительность будет масштабироваться линейно, с добавлением все новых систем.</p>
<p>Например, если на один грузовик можно нагрузить 10 тонн, то на 4 грузовика можно погрузить 40, а на 10 – 100 тонн груза. Предела нет.</p>
<p>Но когда есть общий ограничивающий фактор (например, все участвующие грузовики должны одновременно проехать по мосту), тогда вас ограничивает то, сколько грузовиков вы можете нагрузить, и поставить на мост.</p>
<p>EMC протестировала общую грузоподъемность четырех “грузовиков”. Я поступил также, и взял результаты четырех нетапповских “грузовиков”, и вот что получилось:</p>
<table border="1" cellspacing="0" cellpadding="2" width="617">
<tbody>
<tr>
<td valign="top" width="134">&nbsp;</td>
<td valign="top" width="104"><font size="3"><strong>EMC</strong></font></td>
<td valign="top" width="115"><font size="3"><strong>NetApp</strong></font></td>
<td valign="top" width="262"><font size="2"><strong>Разница</strong></font></td>
</tr>
<tr>
<td valign="top" width="139"><strong><font size="2">Цена (USD list)</font></strong></td>
<td valign="top" width="104"><font size="2">6 000 000</font></td>
<td valign="top" width="118"><font size="2">5 000 000</font></td>
<td valign="top" width="262"><font size="2">NetApp дешевле на 16% по абсолютной величине</font></td>
</tr>
<tr>
<td valign="top" width="141"><strong><font size="2">SPEC SFS NFS IOPS</font></strong></td>
<td valign="top" width="104"><font size="2">497623</font></td>
<td valign="top" width="119"><font size="2">762700</font></td>
<td valign="top" width="262"><font size="2">NetApp быстрее на 53% по абсолютной величине</font></td>
</tr>
<tr>
<td valign="top" width="142"><strong><font size="2">Average Latency</font></strong></td>
<td valign="top" width="104"><font size="2">0,96</font></td>
<td valign="top" width="119"><font size="2">1,17</font></td>
<td valign="top" width="262"><font size="2">У EMC всего на 18% меньше latency (при меньших IOPS) несмотря на SSD!</font></td>
</tr>
<tr>
<td valign="top" width="142"><strong><font size="2">Емкость (TB)</font></strong></td>
<td valign="top" width="104"><font size="2">60</font></td>
<td valign="top" width="119"><font size="2">343</font></td>
<td valign="top" width="262"><font size="2">У NetApp 5,7 раза больше емкость usable space</font></td>
</tr>
<tr>
<td valign="top" width="142"><strong><font size="2">$/IOPS</font></strong></td>
<td valign="top" width="104"><font size="2">12,06</font></td>
<td valign="top" width="119"><font size="2">6,53</font></td>
<td valign="top" width="262"><font size="2">У NetApp на 45,6% дешевле IOPS</font></td>
</tr>
<tr>
<td valign="top" width="142"><strong><font size="2">$/TB</font></strong></td>
<td valign="top" width="104"><font size="2">100000</font></td>
<td valign="top" width="119"><font size="2">14577</font></td>
<td valign="top" width="262"><font size="2">У NetApp терабайт стоит всего 1/6 от стоимости EMC</font></td>
</tr>
<tr>
<td valign="top" width="142"><strong><font size="2">RAID</font></strong></td>
<td valign="top" width="104"><font size="2">RAID-5</font></td>
<td valign="top" width="119"><font size="2">RAID-DP</font></td>
<td valign="top" width="262"><font size="2">Пространство хранения на NetApp в тысячи раз надежнее</font></td>
</tr>
<tr>
<td valign="top" width="142"><strong><font size="2">Количество корпусов</font></strong></td>
<td valign="top" width="104"><font size="2">15</font></td>
<td valign="top" width="119"><font size="2">8</font></td>
<td valign="top" width="262"><font size="2">NetApp значительно проще в конфигурировании и работе</font></td>
</tr>
</tbody>
</table>
<p>&#160;</p>
<p>Ну, кто покажет наилучший вариант? ;)</p>
<p>Как вы знаете, пользователю системы хранения с определенным уровнем производительности,&#160; нужна скорость, объем хранения и высокая надежность. Не просто один параметр из трех, а все три вместе. Хороший документ по поводу относительной надежности разных типов RAID можно почитать <a href="http://www.netapp.com/us/library/technical-reports/tr-3574.html">тут</a>.</p>
<p>NetApp предлагает все три параметра, разом, плюс хорошую цену, простоту и гибкость unified storage, и высокую эффективность использования.</p>
<p>Большинству пользователей нужно видеть производительность реальных конфигураций. Я довольно часто показываю клиентам наши результаты в SPEC SFS или SPC-1, так как протестированные там конфигурации обычно довольно близки к тому, что они спрашивают.</p>
<p>Возможно было бы хорошо для EMC показать результат, который на самом деле продается клиентам, например:</p>
<ul>
<li>Систему с SSD, FASTcache, SAS и High Capacity SAS дисками вместе</li>
<li>Autotiering (FAST)</li>
<li>RAID6</li>
<li>Типичным объемом usable для данной конфигурации</li>
</ul>
<p>?? уже этот результат публиковать.</p>
<p>Пусть остается нынешний результат, но покажите также то, <em>какова реальная&#160;&#160; производительность систем, не лабораторных “звездолетов”, а тех, которые вы продаете реальным клиентам.</em></p>
<p>Я правда не понимаю, почему это для вас так сложно.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="emc/index.html" rel="tag">emc</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="performance/index.html" rel="tag">performance</a>, <a href="spec.html" rel="tag">spec</a>, <a href="vnx.html" rel="tag">vnx</a><br />					Раздел: <a href="../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;" rel="category tag">переводы</a>&nbsp;&nbsp;|&nbsp;
					<a href="../873/trackback.html#respond" title="Комментарий к записи Почем обходится производительность?">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-872">
				<h2 class="posttitle"><a href="../872/trackback.html" rel="bookmark" title="Permanent Link to EMC убедительно демонстрирует проблемы VNX">EMC убедительно демонстрирует проблемы VNX</a></h2>
				<div class="postmetadata">27 Апрель 2011, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>В моем блоге очередной перевод поста в блоге Recoverymonkey (Dimitris Kr.)</p>
<p>Я бы хотел обратить внимание читателей, что то, что публикуется по средам, это <strong>переводы</strong>. Я стараюсь сохранять манеру и стиль оригинального автора, потому что это – <strong>перевод</strong>. Лично я могу быть несогласен (или согласен, как получится) с излагаемой позицией, но, так как это не мои собственные тексты, за исключением небольших сокращений, я стараюсь их не править, и переводить в том виде, в котором они были опубликованы их авторами. Если у вас есть возражения по существу написанного, то не нужно писать их в комментариях к этому посту, и вообще к “средовым” переводным постам мне, сюда. Если вы хотите подискутировать с автором – напишите непосредственно ему, я всегда оставляю ссылки на оригинальные публикации. Спасибо за понимание. А теперь – как всегда острая и полемическая статья Recoverymonkey, с очередной шпилькой в адрес EMC VNX.</p>
<h3>EMC conclusively proves that VNX bottlenecks NAS performance</h3>
<p>Posted on <a href="http://recoverymonkey.org/2011/02/24/emc-conclusively-proves-that-vnx-bottlenecks-nas-performance/">February 24, 2011</a> by <a href="http://recoverymonkey.org/author/admin/">Dimitris</a></p>
<p>Немного провокативный заголовок, не правда ли?</p>
<p>Позвольте мне объяснить.</p>
<p>EMC опубликовала новые результаты SPEC SFS в рамках своей маркетинговой кампании (которая работает, смотрите чем я занят – я говорю о них).</p>
<p>Если по-простому, то EMC получила почти 500 тысяч SPEC SFS NFS IOPS (уточню последнее, чтобы не спутать с “блочными” IOPS в SPC-1) на следующей конфигурации:</p>
<ul>
<li><strong>Четыре</strong> (4) полностью независимых массивах VNX, каждый на дисках SSD (всего 8 контроллеров, так как каждый массив имеет 2 контроллера).</li>
<li><strong>Пять</strong> (5) Celerra VG8 NAS heads/gateways (1 как spare), по одному поверх каждого VNX</li>
<li><strong>Две</strong> (2) Control Station</li>
<li><strong>Восемь</strong> (8) экспортов&#160; файловых систем (по две на каждую голову VG8/VNX)</li>
<li>Несколько пулов хранения (по крайней мере один на каждую VG8) – без совместного доступа, например с других контроллеров, без переноса данных с других контроллеров. </li>
<li>Всего <strong>60TB</strong> пространства NAS под RAID5 (или по 15TB с каждого массива)</li>
</ul>
<p>Этот пост не о том, что приведенная конфигурация нереальная и дорогая (никто не заплатит 6 миллионов долларов за 60TB в NAS). Как я понял, EMC старается опубликовать наилучший результат теста путем объединения в кучу нескольких отдельных массивов с SSD. Это в принципе нормально, если понимать детали.</p>
<p>Претензии мои тут в том, как это подается.</p>
<p>EMC говорит о тестируемой конфигурации очень расплывчато (за деталями приходится идти <a href="http://www.spec.org/sfs2008/results/res2011q1/sfs2008-20110207-00177.txt">непосредственно на сайт SPEC</a>). В рекламных материалах просто говорится, что <em>EMC VNX показала результат </em><span lang="RU"><em>497623 SPECsfs2008_nfs.v3 операций в секунду</em>. Это что-то типа того, как если бы вы сказали, что нормально пройти четверым первоклассникам на сеанс в кино “до 18”, потому что, дескать, “всем четырем вместе больше 18”.</span></p>
<p><span lang="RU">Нет, более правильно и корректно было бы сказать, что четыре массива VNX, работающих отдельно и независимо друг от друга, показали результат <strong>124405</strong> SPECsfs2008_nfs.v3 IOPS&#160; - <strong><u>каждый</u></strong>.</span></p>
<p><span lang="RU">EMC просто сложила результаты четырех отдельных, независимых устройств вместе!</span></p>
<p><span lang="RU">У NetApp <a href="http://www.spec.org/sfs2008/results/res2010q4/sfs2008-20101018-00172.html">уже есть результат SPEC SFS для FAS6240</a>, где всего два контроллера выдают <strong>190675</strong> SPEC NFS IOPS, в одной системе, настоящем unified, без нагромождения отдельных контроллеров, без использования SSD (на обычных SAS, плюс большой кэш), то есть на реальной, практической конфигурации, которую мы продаем ежедневно, а не на каком-то там лабораторном “звездолете”.</span></p>
<p><span lang="RU">Если сделать также, как поступил EMC, то есть сложить четыре таких системы вместе (в случае NetApp, у нас при этом можно использовать <a href="http://media.netapp.com/documents/ds-2951.pdf">Cluster-mode</a>, с общим файловером между этими четырьмя нодами ), то мы получим следующие результаты:</span></p>
<ul>
<li><span lang="RU"><strong>762700</strong> SPEC SFS NFS операций</span></li>
<li><span lang="RU"><strong>8</strong> экспортируемых файловых систем</span></li>
<li><span lang="RU"><strong>334TB</strong> usable пространства в RAID-DP (в <em>тысячи</em> раз надежнее RAID-5)</span></li>
</ul>
<p><span lang="RU">Какой вариант, по вашему, более выгодная покупка? Та что более быстрая, 343TB с большей надежностью, или та, что медленнее, 60TB и меньше надежности? ;)</span></p>
<p><span lang="RU">Пользователи других систем также могут легко проделывать такой же трюк с умножением их результатов измерений, вперед!</span></p>
<p><span lang="RU">Если же говорить серьезно, то, что побудило меня так озаглавить пост, это факт того, что тестирование EMC убедительно продемонстрировало, что VNX сам по себе является узким местом. Фактически мы видим, что VNX может обслуживать только <em>одну</em> “голову” VG8 на максимальной для себя скорости, зачем и понадобилось четыре отдельных системы для демонстрации нужного результата. Таким образом, факт того, что VNX может иметь над собой до 8 “голов” Celerra ничего не значит, так как в такой системе back-end это и есть ограничивающий производительность фактор.</span></p>
<p><span lang="RU">Но с одной “головой” NAS вы будете ограничены доступным объемом в 256TB, столько одна голова Celerra может адресовать на момент написания статьи. Впрочем, этого достаточно для обычного пользователя.</span></p>
<p><span lang="RU">Любопытно, а те “головы” NAS, которые продаются вместе с VNX, медленнее, чем VG8, и насколько? Понятно, что большинство пользователей будут использовать те “головы”, что идут в комплекте, так как это обходится дешевле. Как быстро работают они? Уверен, клиенты хотели бы знать как быстро работает именно то, что они, обычно, покупают.</span></p>
<p><span lang="RU">Также очень интересно, как быстро работает RAID6.</span></p>
<p><span lang="RU">А вообще было бы здорово измерять бенчмарки именно того, что пользователь на самом деле покупает, а не абстрактных “болидов Formula 1”!</span></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="emc/index.html" rel="tag">emc</a>, <a href="nfs/index.html" rel="tag">nfs</a>, <a href="sfs.html" rel="tag">sfs</a>, <a href="spec.html" rel="tag">spec</a>, <a href="vnx.html" rel="tag">vnx</a><br />					Раздел: <a href="../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;" rel="category tag">переводы</a>&nbsp;&nbsp;|&nbsp;
					<a href="../872/trackback.html#comments" title="Комментарий к записи EMC убедительно демонстрирует проблемы VNX">Комментарии (7)</a>									 </div>
			</div>
	
		
		<div class="navigation">
			<div class="alignleft"><a href="benchmark/page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>
		
	
	</div>
	<div id="sidebar">
		<ul>
			
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Автор</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li class="pagenav"><h2>Страницы</h2><ul><li class="page_item page-item-153"><a href="../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul></li>
			<li><h2>Рубрики</h2>
				<ul>
					<li class="cat-item cat-item-89"><a href="../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;">commands</a>
</li>
	<li class="cat-item cat-item-37"><a href="../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;">howto</a>
</li>
	<li class="cat-item cat-item-52"><a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;">justread</a>
</li>
	<li class="cat-item cat-item-51"><a href="../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;">review</a>
</li>
	<li class="cat-item cat-item-3"><a href="../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;">techtalk</a>
</li>
	<li class="cat-item cat-item-71"><a href="../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;">tricks</a>
</li>
	<li class="cat-item cat-item-95"><a href="../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;">utilities</a>
</li>
	<li class="cat-item cat-item-44"><a href="../category/whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;">whoisho</a>
</li>
	<li class="cat-item cat-item-1"><a href="../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;">новости</a>
</li>
	<li class="cat-item cat-item-387"><a href="../category/opros.html" title="Просмотреть все записи в рубрике &laquo;опрос&raquo;">опрос</a>
</li>
	<li class="cat-item cat-item-8"><a href="../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;">переводы</a>
</li>
	<li class="cat-item cat-item-40"><a href="../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;">цитаты</a>
</li>
				</ul>
			</li>

			<li><h2>Архивы</h2>
				<ul>
					<li><a href='../date/2018/01.html' title='Январь 2018'>Январь 2018</a></li>
	<li><a href='../date/2015/10.html' title='Октябрь 2015'>Октябрь 2015</a></li>
	<li><a href='../date/2015/04.html' title='Апрель 2015'>Апрель 2015</a></li>
	<li><a href='../date/2015/03.html' title='Март 2015'>Март 2015</a></li>
	<li><a href='../date/2015/01.html' title='Январь 2015'>Январь 2015</a></li>
	<li><a href='../date/2014/12.html' title='Декабрь 2014'>Декабрь 2014</a></li>
	<li><a href='../date/2014/11.html' title='Ноябрь 2014'>Ноябрь 2014</a></li>
	<li><a href='../date/2014/10.html' title='Октябрь 2014'>Октябрь 2014</a></li>
	<li><a href='../date/2014/09.html' title='Сентябрь 2014'>Сентябрь 2014</a></li>
	<li><a href='../date/2014/08.html' title='Август 2014'>Август 2014</a></li>
	<li><a href='../date/2014/07.html' title='Июль 2014'>Июль 2014</a></li>
	<li><a href='../date/2014/06.html' title='Июнь 2014'>Июнь 2014</a></li>
	<li><a href='../date/2014/05.html' title='Май 2014'>Май 2014</a></li>
	<li><a href='../date/2014/04.html' title='Апрель 2014'>Апрель 2014</a></li>
	<li><a href='../date/2014/03.html' title='Март 2014'>Март 2014</a></li>
	<li><a href='../date/2014/02.html' title='Февраль 2014'>Февраль 2014</a></li>
	<li><a href='../date/2014/01.html' title='Январь 2014'>Январь 2014</a></li>
	<li><a href='../date/2013/12.html' title='Декабрь 2013'>Декабрь 2013</a></li>
	<li><a href='../date/2013/11.html' title='Ноябрь 2013'>Ноябрь 2013</a></li>
	<li><a href='../date/2013/10.html' title='Октябрь 2013'>Октябрь 2013</a></li>
	<li><a href='../date/2013/09.html' title='Сентябрь 2013'>Сентябрь 2013</a></li>
	<li><a href='../date/2013/08.html' title='Август 2013'>Август 2013</a></li>
	<li><a href='../date/2013/07.html' title='Июль 2013'>Июль 2013</a></li>
	<li><a href='../date/2013/06.html' title='Июнь 2013'>Июнь 2013</a></li>
	<li><a href='../date/2013/05.html' title='Май 2013'>Май 2013</a></li>
	<li><a href='../date/2013/04.html' title='Апрель 2013'>Апрель 2013</a></li>
	<li><a href='../date/2013/03.html' title='Март 2013'>Март 2013</a></li>
	<li><a href='../date/2013/02.html' title='Февраль 2013'>Февраль 2013</a></li>
	<li><a href='../date/2013/01.html' title='Январь 2013'>Январь 2013</a></li>
	<li><a href='../date/2012/12.html' title='Декабрь 2012'>Декабрь 2012</a></li>
	<li><a href='../date/2012/11.html' title='Ноябрь 2012'>Ноябрь 2012</a></li>
	<li><a href='../date/2012/10.html' title='Октябрь 2012'>Октябрь 2012</a></li>
	<li><a href='../date/2012/09.html' title='Сентябрь 2012'>Сентябрь 2012</a></li>
	<li><a href='../date/2012/08.html' title='Август 2012'>Август 2012</a></li>
	<li><a href='../date/2012/07.html' title='Июль 2012'>Июль 2012</a></li>
	<li><a href='../date/2012/06.html' title='Июнь 2012'>Июнь 2012</a></li>
	<li><a href='../date/2012/05.html' title='Май 2012'>Май 2012</a></li>
	<li><a href='../date/2012/04.html' title='Апрель 2012'>Апрель 2012</a></li>
	<li><a href='../date/2012/03.html' title='Март 2012'>Март 2012</a></li>
	<li><a href='../date/2012/02.html' title='Февраль 2012'>Февраль 2012</a></li>
	<li><a href='../date/2012/01.html' title='Январь 2012'>Январь 2012</a></li>
	<li><a href='../date/2011/12.html' title='Декабрь 2011'>Декабрь 2011</a></li>
	<li><a href='../date/2011/11.html' title='Ноябрь 2011'>Ноябрь 2011</a></li>
	<li><a href='../date/2011/10/index.html' title='Октябрь 2011'>Октябрь 2011</a></li>
	<li><a href='../date/2011/09/index.html' title='Сентябрь 2011'>Сентябрь 2011</a></li>
	<li><a href='../date/2011/08.html' title='Август 2011'>Август 2011</a></li>
	<li><a href='../date/2011/07/index.html' title='Июль 2011'>Июль 2011</a></li>
	<li><a href='../date/2011/06/index.html' title='Июнь 2011'>Июнь 2011</a></li>
	<li><a href='../date/2011/05/index.html' title='Май 2011'>Май 2011</a></li>
	<li><a href='../date/2011/04/index.html' title='Апрель 2011'>Апрель 2011</a></li>
	<li><a href='../date/2011/03/index.html' title='Март 2011'>Март 2011</a></li>
	<li><a href='../date/2011/02.html' title='Февраль 2011'>Февраль 2011</a></li>
	<li><a href='../date/2011/01.html' title='Январь 2011'>Январь 2011</a></li>
	<li><a href='../date/2010/12.html' title='Декабрь 2010'>Декабрь 2010</a></li>
	<li><a href='../date/2010/11/index.html' title='Ноябрь 2010'>Ноябрь 2010</a></li>
	<li><a href='../date/2010/10/index.html' title='Октябрь 2010'>Октябрь 2010</a></li>
	<li><a href='../date/2010/09/index.html' title='Сентябрь 2010'>Сентябрь 2010</a></li>
	<li><a href='../date/2010/08.html' title='Август 2010'>Август 2010</a></li>
	<li><a href='../date/2010/07/index.html' title='Июль 2010'>Июль 2010</a></li>
	<li><a href='../date/2010/06.html' title='Июнь 2010'>Июнь 2010</a></li>
	<li><a href='../date/2010/05.html' title='Май 2010'>Май 2010</a></li>
	<li><a href='../date/2010/04/index.html' title='Апрель 2010'>Апрель 2010</a></li>
	<li><a href='../date/2010/03/index.html' title='Март 2010'>Март 2010</a></li>
	<li><a href='../date/2010/02.html' title='Февраль 2010'>Февраль 2010</a></li>
	<li><a href='../date/2010/01.html' title='Январь 2010'>Январь 2010</a></li>
	<li><a href='../date/2009/12/index.html' title='Декабрь 2009'>Декабрь 2009</a></li>
	<li><a href='../date/2009/11/index.html' title='Ноябрь 2009'>Ноябрь 2009</a></li>
	<li><a href='../date/2009/10.html' title='Октябрь 2009'>Октябрь 2009</a></li>
	<li><a href='../date/2009/09.html' title='Сентябрь 2009'>Сентябрь 2009</a></li>
	<li><a href='../date/2009/08/index.html' title='Август 2009'>Август 2009</a></li>
	<li><a href='../date/2009/07/index.html' title='Июль 2009'>Июль 2009</a></li>
	<li><a href='../date/2009/06.html' title='Июнь 2009'>Июнь 2009</a></li>
	<li><a href='../date/2009/05.html' title='Май 2009'>Май 2009</a></li>
	<li><a href='../date/2009/04.html' title='Апрель 2009'>Апрель 2009</a></li>
	<li><a href='../date/2009/03.html' title='Март 2009'>Март 2009</a></li>
	<li><a href='../date/2009/02.html' title='Февраль 2009'>Февраль 2009</a></li>
	<li><a href='../date/2009/01.html' title='Январь 2009'>Январь 2009</a></li>
	<li><a href='../date/2008/12.html' title='Декабрь 2008'>Декабрь 2008</a></li>
	<li><a href='../date/2008/11.html' title='Ноябрь 2008'>Ноябрь 2008</a></li>
	<li><a href='../date/2008/10.html' title='Октябрь 2008'>Октябрь 2008</a></li>
	<li><a href='../date/2008/09.html' title='Сентябрь 2008'>Сентябрь 2008</a></li>
	<li><a href='../date/2008/08.html' title='Август 2008'>Август 2008</a></li>
	<li><a href='../date/2008/03.html' title='Март 2008'>Март 2008</a></li>
	<li><a href='../date/2008/02.html' title='Февраль 2008'>Февраль 2008</a></li>
	<li><a href='../date/2007/12.html' title='Декабрь 2007'>Декабрь 2007</a></li>
	<li><a href='../date/2007/11.html' title='Ноябрь 2007'>Ноябрь 2007</a></li>
	<li><a href='../date/2007/10.html' title='Октябрь 2007'>Октябрь 2007</a></li>
	<li><a href='../date/2007/09.html' title='Сентябрь 2007'>Сентябрь 2007</a></li>
	<li><a href='../date/2007/08.html' title='Август 2007'>Август 2007</a></li>
	<li><a href='../date/2007/07/index.html' title='Июль 2007'>Июль 2007</a></li>
	<li><a href='../date/2007/06.html' title='Июнь 2007'>Июнь 2007</a></li>
	<li><a href='../date/2007/05.html' title='Май 2007'>Май 2007</a></li>
				</ul>
			</li>

			
					</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a href="../../feed">Entries (RSS)</a> and <a href="../../comments/feed">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br />
	Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a> and <a href="http://srinig.com/wordpress/themes/fluid-blue/">Fluid Blue theme</a>.<br />
	<!-- 15 queries. 0.113 seconds. -->
	</div>
</div> <!-- page -->
</body>
</html>
