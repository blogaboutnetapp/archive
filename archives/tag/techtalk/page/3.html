<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>about NetApp   &raquo; techtalk</title>

<link rel="stylesheet" href="../../../../wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../../../wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />
<link rel="alternate" type="application/rss+xml" title="about NetApp RSS Feed" href="../../../../feed" />
<link rel="pingback" href="../../../../xmlrpc.php.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6" />

</head>

<body>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="../../../../index.html" title="about NetApp: Системы хранения данных как предмет разговора">about NetApp</a></h1>
		<p>Системы хранения данных как предмет разговора</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="../../../../index.html">
<input type="text" size="20" name="s" id="s" value="Поиск..."  onblur="if(this.value=='') this.value='Поиск...';" onfocus="if(this.value=='Поиск...') this.value='';"/>
</form>
	</div> 
	<!-- Search ends here-->
		
</div>

<div id="navbar">
<ul id="nav">
	<li><a href="../../../../index.html">Home</a></li>
	<li class="page_item page-item-153"><a href="../../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul>
</div>
<div id="wrapper">

	<div id="content">

	
			<p>Posts tagged &#8216;techtalk&#8217;</p>

	 		
		<div class="navigation">
			<div class="alignleft"><a href="4.html">&laquo; Previous Entries</a></div>
			<div class="alignright"><a href="2.html">Next Entries &raquo;</a></div>
		</div>

						
			<div class="post" id="post-269">
				<h2 class="posttitle"><a href="../../../269/trackback.html" rel="bookmark" title="Permanent Link to Проблемы (и решения) Usable Space. Часть 1. Основы.">Проблемы (и решения) Usable Space. Часть 1. Основы.</a></h2>
				<div class="postmetadata">4 Май 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>В ближайшие несколько постов я бы хотел поговорить о некоторых аспектах usable space на системах хранения NetApp. Usable Space на NetApp, а также методы его образования из raw, это также источник бесчисленных спекуляций наших уважаемых конкурентов (в дальнейшем &quot;Н.У.К.&quot; ;).   <br />Я отдельно остановлюсь на &quot;говнилках&quot; на эту тему в отдельном посте, а пока давайте разберем фундаментальные основы того, как из Raw Space образуется Usable Space, чтобы подойти к разбору FUD уже теоретически подкованными.</p>
<p>Но начнем издалека.</p>
<p>??так, из чего складывается пространство usable space?   <br />Один из документов NetApp, на который я давал ссылку раньше, так и называется:     <br /><a href="../../../178/trackback.html">Trading Capacity for Data Protection – A Guide to Capacity Overhead on a StoreVault Storage System</a>     <br />Мы платим за надежность хранения raw-байтами, и получаем, в итоге, меньшее по размерам пространство, но с разнообразными &quot;фичами&quot;. Это естественный процесс.</p>
<p>Простейший случай обмена &quot;байтов на надежность&quot; это RAID. Мы платим пространством одного диска (в случае RAID-5), двух (RAID-6), или половиной пространства (RAID-10 AKA RAID 0+1) за надежность и быстродействие.   <br />Поверх RAID мы можем создать журналируемую файловую систему, и получаем &quot;фичу&quot; хранения и обработки &quot;файлов&quot;, то есть огранизованных структур данных, со всем им присущим, и, вдобавок, защищаем целостность этих структур. Но, разумеется, партиции, загрузочные области, таблицы размещения файлов, ACL, структуры директориев, и прочее, все это также вычтется в свою очередь из пространства, дав нам взамен вышеописанные возможности, которых не было на простом и тупом raw-диске.    <br />?? так далее, и так далее.</p>
<p>Мы, несомненно теряем на этих процессах мегабайты за мегабайтами, но получаем взамен все новые и новые возможности.   <br />Смешно возражать, что, мол, если бы вы не пользовались на вашей &quot;венде&quot; NTFS-ом, а работали бы прямо в адресации ATA, вы бы могли использовать больше места на диске, которые с ним заняты &quot;непонятно чем&quot;.    <br />Уже всем сегодня понятно - &quot;чем&quot;.</p>
<p>??з чего же складывается, в свою очередь, usable space на NetApp?</p>
<p>Как вы уже знаете (по крайней мере те, кто давно читает этот блог;), NetApp, как &quot;система хранения данных&quot;, довольно &quot;высокоуровнева&quot; по природе, если воспользоваться терминами из области языков программирования. Также как, например, какой-нибудь C# или Java позволяет пишущему полностью абстрагироваться в программе от, например, физической структуры регистров процессора и управления памятью, и заняться более продуктивными вещами, чем вычисления адресов, так и в случае использования пространства хранения на NetApp администратор системы хранения может абстрагироваться от &quot;дисков&quot; и &quot;raw bytes&quot;.</p>
<p>Обычно, с повышением &quot;уровня&quot; языка, растет производительность труда программиста, а также становятся доступны многочисленные удобства, хотя апологеты ассемблера и скажут нам (соверщенно справедливо, кстати), что &quot;высокоуровневый программист&quot; и потерял за счет этого ряд возможностей по &quot;тонкой оптимизации&quot;. Однако, в окружающей нас жизни, мы, как правило, готовы пожертвовать определенными процентами эффективности программирования ради его удобства, &quot;фич&quot; и скорости разработки.   <br />Подобным путем идет и NetApp.</p>
<p>Он также как и &quot;обычные системы хранения&quot; (тм) использует нижний уровень виртуализации, в виде RAID (RAID это, с точки зрения железа ведь тоже некий &quot;виртуальный девайс&quot;), но начиная с версии своей OS Data ONTAP версии 7 сделан еще один шаг в направлении &quot;высокоуровневой&quot; виртуализации - Aggregates и FlexVol-ы.</p>
<p>Aggregates это &quot;слой дисковой виртуализации&quot;, структура (одна или несколько), в которую включены множество имеющихся у системы дисков, своеобразный disk pool, среди которых и распределяется нагрузка ввода-вывода.</p>
<p>Я уже <a href="../../../15/trackback.html">писал раньше</a> о важности такого параметра, как IOPS - Input-Output operations Per Second.     <br />Для отдельного диска величина IOPS сравнительно невелика (в пределах двух, максимум трех сотен для SAS или FC, значительно меньше для SATA). Для того, чтобы увеличить производительность в IOPS, создатели дисковых систем хранения объединяют диски, например с помощью создания RAID-групп. Так, например, RAID-10 (&quot;зеркало&quot; с &quot;чередованием&quot;) из 10 дисков будет иметь примерно вдесятеро большую производительность по IOPS, чем отдельный входящий в него диск. Это стало возможным за счет того, что, хотя для внешнего потребителя RAID это &quot;один большой диск&quot;, внутри же он состоит из множества меньших, на каждый из которых мы можем писать свою порцию более-менее в параллельном режиме.</p>
<p>Однако бесконечно удлинять RAID тоже нельзя, так как снижается надежность и ухудшаются некоторые другие параметры. Кроме того далеко не всегда для данных, требующих высокой скорости, нужно так много места. А объединив 10 дисков по 300GB в RAID-10 мы получим &quot;диск&quot; размером полтора терабайта (300*10/2) под один только наш &quot;скоростной файл&quot;. ?? так для каждой задачи.   <br />Как правило производители &quot;обычных систем хранения&quot;(тм) выходят из положения путем возможности &quot;конкатенации&quot; (сложения A+B+C+D&#8230;) сравнительно небольших RAID-групп, и создании на получившемся пространстве так называемых LUN - логических устройств - &quot;дисков&quot;.    <br />Как видите, тут тоже своя &quot;виртуализация&quot; имеется.</p>
<p>Большим прорывом в свое время стала разработка уже покойной компанией DEC дисковых систем хранения, в которых появилась возможность объединить все &quot;адресное пространство&quot; жестких дисков, имеющихся в системе, в единый &quot;пул байт&quot;, и уже поверх этого пула образовывать &quot;виртуальные RAID&quot; и разделы данных. Наследницы этих систем по сей день производятся компаний HP под названием EVA - Enterprise Virtual Array, и занимают до сих пор довольно значительную долю рынка, хотя нельзя закрывать глаза на тот факт, что системы эти постепенно (и все заметнее) морально устаревают, несмотря даже на столь прорывную и революционную идею в их основе.</p>
<p>Преимуществом объединения всех дисков в &quot;общий пул&quot; является возможность распределить входную нагрузку на <strong>все</strong> эти диски, работающие параллельно, нарезав на них нужное количество LUN нужных нам размеров, которые, свою очередь, также окажутся размазанными на все наши диски. При этом мы не платим за это &quot;длинным RAID&quot; и всеми его минусами, в виде, например, длительного ребилда и пониженной надежности. То есть, если мы имеем систему с 30 дисками, то, если мы сведем все эти диски в один aggregate, нарежем на нем нужное количество FlexVol, и насоздаем LUN (или будем использовать FlexVol под хранение файлов), то производительность каждого такого FlexVol, и LUN на нем, будет равна: 30*300 IOPS = ~ 9000 IOPS.    <br /><em>Все цифры, разумеется, условные и грубоприближенные, но с сохранением порядка.</em></p>
<p>??так, начиная с Data ONTAP 7, структура хранения выглядит примерно так:</p>
<p>
<a href="/pics//diskstruct1.png"><img src="/pics//diskstruct1-300x108.png" alt="" title="diskstruct1" width="300" height="108" class="alignnone size-medium wp-image-284" /></a> </p>
<p>То есть - физические диски, над ними Aggregate, над ними RAID-ы в WAFL, на ней FlexVol-ы, на которых уже, в свою очередь, располагаются LUN-ы или &quot;сетевые папки&quot; NAS.   <br />Каждый из этих уровней немножко отнимает от raw space, и добавляет за это каких-нибудь возможностей.</p>
<p>Продолжение в следующем посте.   </p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../technology.html" rel="tag">technology</a>, <a href="../index.html" rel="tag">techtalk</a>, <a href="../../usable-space.html" rel="tag">usable space</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../269/trackback.html#respond" title="Комментарий к записи Проблемы (и решения) Usable Space. Часть 1. Основы.">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-282">
				<h2 class="posttitle"><a href="../../../282/trackback.html" rel="bookmark" title="Permanent Link to Почему я считаю, что WAFL это не файловая система?">Почему я считаю, что WAFL это не файловая система?</a></h2>
				<div class="postmetadata">30 Апрель 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p><em>Костадис Руссос (</em><a href="http://blogs.netapp.com/extensible_netapp/2008/10/why-wafl-is-not.html"><em>http://blogs.netapp.com/extensible_netapp/2008/10/why-wafl-is-not.html</em></a><em>)     <br />Мой перевод оригинального авторского текста.</em></p>
<h3>Что такое WAFL: Введение</h3>
<p>Многие годы потенциальные пользователи NetApp находятся в плену мистификации о взаимоотношениях между WAFL и SAN. В частности, правда ли, что LUN у NetApp это файл, лежащий на файловой системе?     <br />Для меня, работавшего над NetApp много лет, вопрос всегда казался странным, так как мой опыт говорит, что WAFL есть то, что предоставляет средства и методы для построения файловой системы, но при этом она не файловая система как таковая. </p>
<p>Моим первым проектом в NetApp было создание медиакэша для кэширования потокового контента с использованием WAFL (проект NetCache). ?? для нас WAFL был только способом перемещать данные на диск и с диска, а также способом записывать наш формат хранения на диск, но это была, конечно, не файловая система. Для официального описания решения смотрите наш <a href="http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&amp;Sect2=HITOFF&amp;p=1&amp;u=%2Fnetahtml%2FPTO%2Fsearch-bool.html&amp;r=4&amp;f=G&amp;l=50&amp;co1=AND&amp;d=PTXT&amp;s1=konstantinos&amp;s2=roussos&amp;OS=konstantinos+AND+roussos&amp;RS=konstantinos+AND+roussos">патент</a>. </p>
<p>Предположим, что файловая система имеет определенные правила, согласно которым вы получаете доступ и находите объекты, которыми она управляет. Обычным образом вам надо сначала просмотреть директорию, затем открыть файл, и после этого читать или писать в файловый хэндл, переданный вам файловой системой. WAFL не накладывал таких ограничений на наш проект. Мы могли непосредственно писать или читать из объекта. Мы были свободны использовать любую схему поиска, какую мы хотели.   <br />Как конкретный пример, когда мы обрабатываем кусок медиапотока, мы должны использовать некий хитрый хэш для нахождения объекта на диске, без необходимости делать поиск его по имени, эффективно обходя обычные методы просмотра директорий. </p>
<p>Что WAFL обеспечивает, так это механизм для отслеживания всех дисковых блоков. Кроме этого, WAFL управляет свободным местом. WAFL также отвечает за то, чтобы все данные были записаны на диск надежным образом. </p>
<p>Но когда мы захотели использовать WAFL как обычную файловую систему, мы обнаружили, что она не предоставляет необходимых интерфейсов. Например, WAFL не имеет механизмов для обработки операций открытия и закрытия. Еще сильнее мешало то, что WAFL был оптимизирован для операций чтения и записи блоками по 32kB и 64kB, а не для записи, например, 12 байт. </p>
<p>При создании нашего продукта мы закончили тем, что использовали целую кучу механизмов WAFL для построения нашего собственного специализированного хранилища данных, оптимизированного для задач потокового медиа. Во время всей этой работы, WAFL никогда не воспринималась нами как файловая система. Как набор неких средств и «примитивов», которые делали возможными то, что мы придумали, да, но определенно не как файловая система. </p>
<p>Таким образом, мой личный опыт состоит в том, что создать поверх WAFL высокопроизводительную файловую систему довольно просто, но сама WAFL не является файловой системой.&#160;&#160; <br />Однако, принимая во внимание тот факт, что наш основатель, Dave Hitz, назвал WAFL файловой системой, наши патенты, а также множество упоминаний в статьях называют ее файловой системой, я решил рассказать о своей точке зрения на этот вопрос. </p>
<h3>Что такое «файловая система»?</h3>
<p>В соответствии с определением Википедии: </p>
<p><em>A file system is a special-purpose database for the storage, hierarchical organization, manipulation, navigation, access, and retrieval of data.</em></p>
<p>«Файловая система это специализированная база данных, для хранения, иерархической организации, управления, навигации, доступа и извлечения данных»</p>
<p>Это на самом деле очень хорошее определение. Проблема в том, что оно слишком широко. Я считаю, что определение файловой системы также должно указывать на то, как мы ее используем.    <br />Мы ожидаем, что файловая система использует такие операции, как открытие, чтение, запись и закрытие, применимое к файлам. Мы ожидаем, что файлы имеют определенные метаданные, такие как имена, списки контроля доступа (ACL), их время доступа и создания. Мы ожидаем, что прежде чем мы откроем файл, мы должны пройти по структуре директорий. Мы ожидаем, что структура директорий будет древовидным графом. </p>
<p>?? поверх всего этого, каждая файловая система имеет дополнительные правила и семантику, которая указывает, как осуществляется доступ к файлам, и как обеспечивается управление иерархией директорий    <br />Мой первый поверхностный взгляд показал, что для пользователя файловой системой является не WAFL, а NFS или CIFS.&#160; Семантика, и то, как к файлу организуется доступ, как он управляется и используется, определяется протоколом NFS. NFS это распределенная файловая система, которая имеет такой компонент, как сервер файловой системы, но также дополнительные компоненты, такие как сервисы аутентификации, которые не являются частью сервера файлов. Это также верно и для CIFS.     <br />Ну, вопрос закрыт, правда? Но это было слишком примитивно, чтобы меня удовлетворить.&#160; <br />?? мне захотелось пойти в вопрос глубже. </p>
<p>Попробуем другой путь добраться до сути вопроса.    <br />Давайте определим, что файловая система должна иметь следующие элементы: </p>
<p>1. Методы, позволяющие воздействовать на файлы    <br />2. Методы, позволяющие воздействовать на директории     <br />3. Методы для сохранения данных на диск     <br />4. Методы для извлечения данных.     <br />5. Структуры данных, для сохранения данных на диске     <br />6. Правила того, как можно найти файлы.</p>
<p>Кроме того, давайте согласимся, что современные системы хранения также имеют следующие элементы:</p>
<p>7. Методы для организации физических дисков в большие массивы   <br />8. Методы разбиения физического пространства такого массива на меньшие логические разделы</p>
<p>Давайте сфокусируемся на пунктах номер 1, 2 и 6 </p>
<p>В частном случае WAFL, что является файлом, или что директорией, определяется распределенной сетевой файловой системой, частью которой является WAFL. ?? задолго до того как я занялся темой, пришел в компанию, и даже раньше, чем я вообще услышал про существование Data ONTAP, более умные люди чем я нарисовали следующие любопытные структуры:<br />
<a href="/pics//clip-image002.gif"><img title="clip_image002" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="226" alt="clip_image002" src="/pics//clip-image002-thumb.gif" width="509" border="0" /></a></p>
<p>Они просто создали некие обобщенные наборы примитивов, поверх которых может быть наложена семантика NFS и CIFS. Семантика NFS и CIFS, которая является частью стека протоколов, а используемые примитивы - часть WAFL. Так, даже на своей ранней стадии развития, WAFL предоставляла механизмы для хранения файлов и директорий, без подразумевания семантики таких операций.</p>
<p>Фактически, правило того, каким образом ищется файл, определяется тем, как NFS-клиент ищет этот файл, а не тем, как работает Data ONTAP.</p>
<p><a href="http://www.usenix.org/events/fast07/tech/full_papers/eisler/eisler.pdf">В этом документе про Data ONTAP GX</a> ведется дискуссия в главе 5 об таком разделении, в контексте протокола Spin NP. Хотя это и дискуссия вокруг GX, там поддерживается многое из того, о чем я говорю здесь. </p>
<p>Так значит это просто предоставление механизмов, достаточных, чтобы быть названным файловой системой? Не согласен. </p>
<p>Теперь давайте посмотрим на пункты 3 и 4. </p>
<p>??ерархическое представление данных значительно развилось за 20 лет. Когда я еще учился в колледже, файловые системы отвечали только за disk layout, так как OS сами знали, где размещены те или иные блоки данных. Сегодня, с LUNами, многие файловые системы по прежнему находятся в плену таких иллюзий, но, в реальности, физическое размещение блоков для них тайна. Гений Хитца и Лау был в том, что они разработали WAFL на основе идеи, что WAFL сама по себе не управляет физическим размещением дисковых блоков, вместо этого им занимается более нижний, уровень RAID. </p>
<p><a href="/pics//clip-image0028.gif"><img title="clip_image002[8]" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="252" alt="clip_image002[8]" src="/pics//clip-image0028-thumb.gif" width="500" border="0" /></a></p>
<p>Не секрет, и это понятно, что ONTAP RAID настроен для работы именно с WAFL. Они вообще очень хорошо согласованы между собой. Конечно в наше время почти каждая файловая система работает поверх того или иного уровня RAID, но только WAFL с ONTAP RAID знают друг о друге достаточно, чтобы использовать&#160; при работе преимущества друг друга.</p>
<p>Но вопрос был, является ли WAFL файловой системой, ну, допустим в ней есть что-то из нашего пункта 3 и что-то из 4, но очень многое зависит от чего-то, лежащего за пределами WAFL, чтобы делать вещи, традиционно лежащие в области деятельности файловой системы. </p>
<p>А что насчет пунктов 7 и 8? </p>
<p>Сегодня большинство разработчиков файловых систем рассматривают систему управления томами (volume manager (8)) и менеджер логических томов (logical volume manager (7)) как внешнюю часть по отношению к файловой системе. Например, Symantec явно разделяет свой volume manager, vxvm и файловую систему vxfs. </p>
<p>Но в NetApp, WAFL это одновременно и volume manager и logical volume manager. </p>
<p>Что там осталось, номер 5? </p>
<p>?? тут – да, дисковые структуры это все структуры данных WAFL. ?? это важный момент. Так как WAFL это один, единый для всех вышележащих средств формат дисковой структуры, то файловые операции NFS и CIFS могут работать с одними и теми же дисковыми объектами. </p>
<p>Ну, так что же такое WAFL? </p>
<p>Это то, что предоставляет средства для построения семантики файловой системы, то, что управляет дисковыми структурами организации блоков данных, а также блоками свободного места, и выделяет среди них место под размещение новых блоков данных на диске, и, кроме этого, работает как менеджер физических и логических томов (volume manager).</p>
<p>Таким образом, по моему мнению, всего этого недостаточно, чтобы называть ее настоящей полнофункциональной файловой системой. WAFL это необходимая часть файловой системы, но не вся она.    </p>
<h3>SAN и WAFL</h3>
<p>К этому моменту я постарался вас убедить своими аргументами, что WAFL является базовой инфраструктурой для того, чтобы строить файловую систему. Отметим, что она уже является основой для двух отличных распределенных сетевых файловых систем, а также позволила нам создать на ее основе файловую систему для задач обработки потокового медиа.</p>
<p>Тот факт, что WAFL поддерживает SAN (Storage Area Network), и то, как именно она поддерживает SAN, по-моему, является наиболее существенным аргументом.</p>
<p>Но короткое отклонение: <strong>Что такое LUN?</strong></p>
<p>Ключевое, базовое определение LUN это «логическая организация дисковых блоков». Логическая организация дисковых блоков требует некоторых дисковых структур данных. ?? оказалось, что дисковые структуры, которые используются для организации и размещения на диске файлов, можно также использовать для организации и размещения LUNов.    <br />Однако из того факта, что находящаяся на диске структура хранения, которая организует дисковые блоки, та же самая что и для файлов, не следует, что доступ к LUN осуществляется, или работа с ним происходит как с файлом.</p>
<h3>LUN и WAFL</h3>
<p>&#160;</p>
<p><a href="/pics//clip-image00211.gif"><img title="clip_image002[11]" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="279" alt="clip_image002[11]" src="/pics//clip-image00211-thumb.gif" width="507" border="0" /></a>    </p>
<p>Эта картинка, как я надеюсь, иллюстрирует структуры, лежащие под SAN на WAFL. SAN использует те же примитивы WAFL, в частности возможность читать и писать дисковые блоки, но не использует все такие примитивы. </p>
<p>Однако не иллюстрируется на этой схеме то, что, кроме этого, существует некоторая специальная оптимизация в части процессов чтения и записи, для того, чтобы получить уровень производительности, какой и ожидают получить пользователи SAN. </p>
<p>Поскольку нижележащие структуры данных, используемые для чтения с дисков, те же самые, что используются, например, NFS для манипуляций с данными, то наблюдается интересный «побочный эффект»: клиент NFS (или CIFS) видит LUN в виде файла. Но вспомните, что хотя NFS и получает доступ к LUN, это происходит совсем иным способом для системы, нежели ее нормальный доступ к LUN в SAN. То есть объект на диске становится для вас файлом, только когда вы приходите к нему через NFS-стек, но не через обычный для него путь доступа, как к собственно LUN. </p>
<p>Если вы знакомы с разного рода объектными языкам программирования, то вы поймете нарисованную диаграмму:   <br />&#160;<a href="/pics//clip-image00213.gif"><img title="clip_image002[13]" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="112" alt="clip_image002[13]" src="/pics//clip-image00213-thumb.gif" width="301" border="0" /></a></p>
<p>Вы видите, что inode это дисковый объект, что LUN это inode, и что FILE это inode, но LUN это <font color="#ff0000"><strong>НЕ</strong></font> FILE.</p>
<h4>Ладно, каков же вывод?</h4>
<p>Вывод в том, что WAFL это часть кода, который обеспечивает механизмы «чтения или записи на диск» как для NFS и CIFS, так и для SAN. Семантика того, как обеспечивается доступ к блокам, предоставляется более высокоуровневым кодом, который частью WAFL, не является, и значит WAFL это не «файловая система».</p>
<h4>Где же причины ошибочного восприятия? </h4>
<p>Оптимист во мне думает, что причина столь распространенной ошибки в отношении WAFL и SAN в том, что NetApp не описал и не объяснил достаточно подробно схему ее структуры (layering). ?? что без такого описания, вполне логично было бы представлять это в следующем, полностью неверном виде:&#160; </p>
<p><a href="/pics//clip-image00215.gif"><img title="clip_image002[15]" style="border-right: 0px; border-top: 0px; display: inline; border-left: 0px; border-bottom: 0px" height="302" alt="clip_image002[15]" src="/pics//clip-image00215-thumb.gif" width="461" border="0" /></a>    <br />??ли, используя мою объектную диаграмму&#160; <br />&#160;<a href="/pics//clip-image00217.gif"><img title="clip_image002[17]" style="display: inline" height="329" alt="clip_image002[17]" src="/pics//clip-image00217-thumb.gif" width="351" /></a>    <br />Что, якобы, файл это inode, и LUN это файл.</p>
<p>Таким образом, WAFL это не файловая система. WAFL это некие средства и методы, предоставляющие возможность с помощью них различным файловым системам и технологиям получать доступ к блокам на диске. Эти средства и методы WAFL обеспечивают лидирующую в отрасли производительность, но вместе с тем и гибкость использования любых наших data management primitives, не идя на компромиссы в отношении скорости работы.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../index.html" rel="tag">techtalk</a>, <a href="../../wafl/index.html" rel="tag">wafl</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../282/trackback.html#comments" title="Комментарий к записи Почему я считаю, что WAFL это не файловая система?">Комментарии (7)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-233">
				<h2 class="posttitle"><a href="../../../233/trackback.html" rel="bookmark" title="Permanent Link to Загадочный fractional reserve (часть 1).">Загадочный fractional reserve (часть 1).</a></h2>
				<div class="postmetadata">6 Апрель 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Не скрою, среди отдельных штук в NetApp есть вещи, способные поставить в тупик.<br />
По моим наблюдениям, изрядным камнем преткновения для пользователей, вот уже несколько лет, является так называемый fractional reserve, как и вообще вся &#8220;кухня&#8221; распределения пространства под LUN на системах хранения NetApp.</p>
<p>Что же такое этот &#8220;загадочный&#8221; fractional reserve, и как его правильно использовать?</p>
<p>Думаю, что изрядная доля проблем понимания вызвана, в первую очередь, неудачным термином.<br />
Fractional - &#8220;дробный&#8221;. но что там дробится, и зачем - остается непонятным.<br />
Я заметил, что в некоторых продуктах, выпущенных NetApp в последнее время появилась более удобоваримая замена для этой &#8220;фичи&#8221;: <strong>Overwrite reserved space </strong>- &#8220;резерв под перезапись&#8221;.</p>
<p>Чтобы разобраться что же это за резерв такой, давайте вспомним, как устроено хранение данных на системах NetApp.<br />
Я уже <a href="../../../216/trackback.html">писал раньше о том</a>, что в основе любой системы хранения NetApp FAS лежит <a href="../../../12/trackback.html">собственная OS</a> и собственная специализированная <a href="../../../19/trackback.html">файловая структура</a> (я намеренно избегаю использовать более привычный термин &#8220;файловая система&#8221;, чтобы не получить ненужных ассоциаций у читающих, ведь WAFL, в опредедленном смысле, уникальный по своему устройству продукт).</p>
<p>В основе WAFL лежит идея организации записи данных как &#8220;неперезаписывающего&#8221; процесса. Каждый блок данных записывается однократно, и остается на своем месте. Все же остальные попытки изменений этого блока прикладной программой приводят к записи нового блока, берущегося из пула &#8220;свободных блоков&#8221; и замены указателя в &#8220;таблице размещения файлов&#8221; со старого на новый, при этом старый блок остается на старом месте, в прежнем своем состоянии.<br />
Если на старый блок больше не остается ссылок, то он считается свободным, и поступает в распоряжение пула свободных блоков.</p>
<p>Такая любопытная схема позволяет с легкостью брать так называемые <a href="../../../39/trackback.html">&#8220;снэпшоты&#8221;</a>, то есть мгновенные &#8220;снимки&#8221; данных, зафиксированные &#8220;состояния&#8221;. Это получается на WAFL как бы само собой, так как, см. выше, данные не изменяются, достаточно сохранить текущую &#8220;таблицу блоков файлов&#8221; на определенный момент времени, запретив ее изменять, и вот вам пожалуйста - снэпшот.<br />
Пока на блок остаются ссылки, например из такого снэпшота, он остается на диске в неприкосновенности.</p>
<p>Однако очевидны и недостатки. Такой метод довольно расточительно расходует место на дисках.</p>
<p>Предположим, мы создали на томе LUN, и в какой-то момент взяли с него снэпшот. Этот снэпшот зафиксирует некий набор блоков, и в момент создания он дополнительного места не займет, так как по сути мы сохранили только таблицу инодов на момент его взятия. Все же последующие изменения в нем будут занимать новые блоки, ранее бывшие свободными. Поменяли в нем 10 мегабайт - свободное место на диске на 10 мегабайт уменьшилось.</p>
<p>Допустим, этот LUN в процессе его жизни полностью перезаписан, каждый блок данных его составляющих был перезаписан. Это значит, что суммарный объем данных, занятых этим LUN на диске, увеличится вдвое. ??сходные блоки LUN, записанные первоначально, и &#8220;запертые&#8221; в снэпшоте, и блоки измененные, с момента первоначальной записи.</p>
<p>Но что случится, если на томе, где мы этот LUN создали, не окажется места для всех перезаписываемых блоков? Очевидно, что ничего хорошего не произойдет, так как в какой-то момент очередного свободного блока процессу записи не достанется, и запись не произойдет с сообщением &#8220;No available space at SCSI device&#8221;.<br />
В жизни при этом Data ONTAP переводит LUN в offline, чтобы защитить имеющиеся данные от возможных повреждений и сохранить их в целостности.</p>
<p>Для того, чтобы избежать этой неприятности и придумано резервирование типа <strong>fractional reserve</strong> или, что понятнее звучит, <strong>overwrite reserved space</strong>.</p>
<p>Это место, резервируемое на том (flexvol), оставленное на нем тот случай, когда содержащийся на томе LUN будет активно переписываться, и понадобятся дополнительные блоки, для того, чтобы разместить эти изменения, в том случае, если прежние блоки по той или иной причине &#8220;заперты&#8221; и не высвобождаются. Например в случае взятия снэпшота.</p>
<p>Размер этого резервирования можно задать от 0% (резервирования нет, запись возможна только при фактическом наличии места на томе, ничем больше не занятого), до 100% (зарезервировано место, равное размеру размещенного LUN, для остальных задач системы хранения это место недоступно).</p>
<p>Последний вариант дает безопасные гарантии того, что сколько бы вы не написали в LUN, у вас сохранится достаточно места для перезаписи, и вы не столкнетесь с проблемой &#8220;No available space left on SCSI device&#8221;.<br />
Однако это означает увеличение вдвое занимаемого места для LUN.</p>
<p>Однако NetApp не был бы нетаппом, если бы не предлагал варианты.<br />
Вариантов, на самом деле, существует несколько.</p>
<p>Во первых, возможно <strong>не использовать именно 100% резервирования</strong>. Например, вы знаете, что ваш LUN сравнительно мало заполнен, или количество записей в него невелико. В таком случае, вы можете выбрать меньший размер резервирования. Например, вы знаете, что в вашем 500GB LUN, расположенном на 1TB томе, в настоящий момент занято не более 200GB. Очевидно, что перезаписи скорее всего будут выполняться в пределах этих 200GB, а резкий рост объема записи в настоящее время маловероятен. Тогда вы можете выбрать резервирование 20%, и сэкномить пространство на томе для других задач.<br />
Однако нужно будет настроить мониторинг объемов свободного места на томе, и внимательно следить за его состоянием, чтобы избежать проблем переполнения.<br />
Помните также, что резерв выделяется на том целиком, а не на LUN. Это значит, что если у вас на томе лежат два 200GB LUN, и резерв выставлен в 30%, то это значит, что один из этих LUNов  может измениться (вырасти), при необходимости на 60% (30% своих и 30% соседа).</p>
<p>Во вторых, можно включить опцию <strong>snapshot auto-delete</strong>, при этом, при нехватке места под данные система попытается удалить старые снэпшоты, и освободить место на томе.<br />
Обратите внимание, что триггер auto-delete может не успеть сработать при резком росте объемов, просто не успеет закончить удаление, оно не мгновенно. Также следует помнить, что если вы пользуетесь client-side ПО управления снэпшотами, например каким-то из SnapManager, то ему может очень не понравиться, что снэпшоты на томе удаляются без его ведома. </p>
<p>В третьих, можно включить опцию <strong>volume auto-grow</strong>, и тут уже сам том будет иметь возможность увеличиваться с заданным шагом и до заданного предела в объемах, для того, чтобы вместить необходимые данные.</p>
<p>??так, мы видимо, что NetApp предлагает нам несколько вариантов действий. Зарезервировать 100%, на наихудший вариант, и &#8220;спать спокойно&#8221; - &#8220;ленивый&#8221; вариант. Внимательно подумать, проанализировать, и зарезервировать столько, сколько в реальности потребуется - &#8220;умный&#8221; вариант. ??, наконец, подойти с другой стороны, и воспользоваться возможностями автоматического ресайза (или автоосвобождения) тома. По моим наблюдениям, этот вариант сейчас встречается чаще всего, так как позволяет занимать место на дисках только по мере реальной необходимости в нем - &#8220;экономный&#8221; вариант.</p>
<p>Чтобы не раздувать пост я перенесу практическую &#8220;лабу&#8221; во второй пост этой темы.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../fractional-reserve.html" rel="tag">fractional reserve</a>, <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>,  <a href="../../../category/whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;" rel="category tag">whoisho</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../233/trackback.html#comments" title="Комментарий к записи Загадочный fractional reserve (часть 1).">Комментарии (7)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-223">
				<h2 class="posttitle"><a href="../../../223/trackback.html" rel="bookmark" title="Permanent Link to RAID-6: что это, и зачем нужно?">RAID-6: что это, и зачем нужно?</a></h2>
				<div class="postmetadata">19 Март 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Десять лет жили себе, не тужили без него, и вот на тебе, счастье на нашу голову. Зачем нам этот RAID новый, или старых не хватает?</p>
<p>Получается что не хватает, и давайте смотреть чего именно.</p>
<p>Во-первых, почему о RAID-6, или &#8220;RAID c двойной четностью&#8221; заговорили именно сейчас?<br />
Причина - в резком, и продолжающемся росте емкости единичного жесткого диска.<br />
Количество байт на устройство становится все больше, а вероятность сбоя чтения, исчисляемая в случаях на количество прочитанных-записанных байт, остается практически неизменной. Я сейчас говорю не столько о надежности самого диска вида &#8220;сломался&#8221;, сколько о надежности математики чтения с поверхности дисков. </p>
<blockquote><p>Допустим, что мы предполагаем (условно) вероятность сбоя чтения одного бита из ста миллиардов. Но это только кажущаяся большая цифра и низкая вероятность, так как она означает, что мы будем получать ошибку чтения примерно каждые 12 с половиной гигабайт прочитанной информации. Конечно, реальная вероятность сбоя значительно, на много порядков ниже, но она, тем не менее, не нулевая. Официальную величину можно найти в данных на тот или иной тип дисков у производителя.  </p>
</blockquote>
<p>То есть если раньше один случай вероятного сбоя вида &#8220;неверно прочлось и не исправилось математикой контроллера, oops&#8230;&#8221; был распределен на объем прочитанных байт, расположенных, например, на десятке дисков, то теперь, когда емкость одного диска увеличилась, количество дисков, несущих этот же объем байт, резко сократилось. ?? теперь вероятность сбоя дисковой группы резко выросла. Ведь теперь сбой возможен на гораздо меньшем количестве дисков. Допустим раньше у нас был массив в 4TB из 30 дисков 144GB. Создав на нем 6 групп RAID-5 4+1 мы получаем, что мы готовы перенести, без потери данных, до 6 сбоев диска, по одному в каждой RAID-группе.<br />
Но времена меняются, и теперь 4TB это всего 5 дисков вида RAID-5 4+1. А вероятность в, условно допустим, 6 сбоев на такой объем осталась прежней. </p>
<p>Это значит, что на больших массивах, RAID-5, защищающий от единичного сбоя, больше не защищает ни от чего.<br />
Это значит, что в случае дискового сбоя, на время ребилда RAID, а это время на дисках 146GB под нагрузкой занимает до суток, а на дисках большего размера, соответственно, больше, сообщают о величинах до 80-100 часов.<br />
Готовы ли вы примерно на четверо суток оказаться без RAID для ваших данных вообще?<br />
&#8220;Без RAID&#8221; (RAID-0, другими словами) потому что на время ребилда любой сбой чтения-записи, на любом диске, приведет к потере данных теперь уже гарантировано.</p>
<p>Конечно картинку я рисую несколько утрированно апокалиптическую, но тенденция именно такова, и игнорировать ее уже нельзя.</p>
<p>Показательная иллюстрация была найдена в документации NetApp.<br />
<img src="/pics/netapp_Raid-dp_vs_Raid_5_data_loss.jpg" alt="RAID-5 vs. RAID-6" /></p>
<p>А это - данные HDS (чтобы вы не думали, что это все пропаганда в пользу одного вендора).<br />
<img src="/pics/hds_raid_5_and_raid_6_risk_of_data_loss_probability.jpg" alt="RAID-5 vs. RAID-6 (HDS version)" /></p>
<p>Отчасти задача, казалось бы, решается с помощью RAID-10 (RAID 0+1). При благоприятном стечении обстоятельств мы можем пережить отказ в половине дисков, однако, если эти диски из разных &#8220;половин&#8221; зеркала. Однако, как заметил еще Мерфи, обстоятельства склонны случаться в наихудшем из возможных вариантов.</p>
<p>??менно рост объемов на один диск, и, как следствие, повышающаяся вероятность сбоя &#8220;на шпиндель хранения&#8221;, вызвало тот факт, что сегодня практически все вендоры предложили в своих системах хранения реализации &#8220;RAID с двойной четностью&#8221;.</p>
<p>Ну хорошо, скажете вы. Отчего мы тогда все не применяем RAID-6 повсеместно?</p>
<p>Увы, один, но значительный минус присутствует. Будучи сравнимой в показателях производительности при Random Read, Sequential Read и Sequential Write, RAID-группа с типом 6 как правило сильно проигрывает (практически на треть!) на Random Write, что практически лишает RAID-6 шансов на использование в задачах, критичных к быстродействию по тому параметру, например OLTP-базы данных, и подобных им. Более того, практически, применения RAID-6 в его классическом виде, возможно только на весьма ограниченном пространстве задач, таких, как, например бэкапы, или DSS-базы, то есть задачи без Random Write. По крайней мере Best Practices вендоров тут единодушны.</p>
<p>На фоне этих невеселых сведений особняком стоит реализация &#8220;RAID с двойной четностью&#8221; от NetApp - RAID-DP.<br />
Будучи собственной, независимой реализацией RAID-6, полностью соответствующей определению RAID-6, данном SNIA, она принципиально отличается от собственно RAID-6 тем, что <strong>показатели на Random Write на такой дисковой группе не ухудшаются</strong>, как это характерно для &#8220;классического&#8221; RAID-6.<br />
<em>Если совсем буквоедствовать, то ухудшение присутствует, но в пределах нескольких процентов, против примерно 20-33% у &#8220;классического RAID-6&#8243;.</em><br />
Это единственная такая реализация RAID-6 из существующих на рынке.</p>
<p>Это позволило рекомендовать NetApp использовать RAID-DP как тип &#8220;по умолчанию&#8221; для всех своих систем хранения.<br />
Больший же расход дисков на &#8220;погонный usable гигабайт&#8221; компенсируется тем, что в случае использования RAID-DP мы можем использовать более длинные RAID-группы, без опаски за надежность хранимых данных. Так, например, если ранее, с RAID-4 NetApp рекомендовал использовать группы по 7+1 дисков, то в случае RAID-DP рекомендации говорят о 14+2-дисковых группах (а максимально возможно 28!), как можно видеть, количество дисков, которые мы отдаем за обеспечение отказоустойчивости не увеличивается, а надежность растет, как мы показали ранее. </p>
<blockquote><p>Dave Hitz:<br />
<noindex><nofollow><a href="http://blogs.netapp.com/dave/2006/05/why_double_prot.html">http://blogs.netapp.com/dave/2006/05/why_double_prot.html</a></nofollow></noindex><br />
С обычным RAID, мы рекомендуем пользователям создавать массивы RAID из 7 дисков плюс 1 parity disk. При использовании RAID-DP, мы рекомендуем создавать массив из 14 дисков, плюс 2 parity disks. Таким образом, это 2 parity disks на каждую полку с 14 дисками. При этом математика говорит, что RAID-DP на 14 дисках много, много безопаснее, чем обычный RAID на 7 дисках.</p>
</blockquote>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../raid.html" rel="tag">raid</a>, <a href="../index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../223/trackback.html#comments" title="Комментарий к записи RAID-6: что это, и зачем нужно?">Комментарии (9)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-216">
				<h2 class="posttitle"><a href="../../../216/trackback.html" rel="bookmark" title="Permanent Link to WAFL - что это, и как устроено?">WAFL - что это, и как устроено?</a></h2>
				<div class="postmetadata">16 Март 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Как обещал ранее, даю ссылку на переведенный документ по внутреннему устройству WAFL (Write Anywhere File System). Оригинал был опубликован в конце 1994 года в журнале USENIX, и, по сути, это то, с чего NetApp начался как идея, и как компания.<br />
В основе всех устройств NetApp (ну разве кроме систем потокового шифрования Decru, и Virtual Tape Libraries (VTL) относительно недавно купленных ими) лежит эта &#8220;файловая система&#8221;, хотя правильнее было бы называть ее &#8220;файловая структура&#8221;, file layout.</p>
<p><nofollow><noindex><a href="http://www.netwell.ru/production/techbiblioteka.php">http://www.netwell.ru/production/techbiblioteka.php</a></noindex></nofollow></p>
<p>Чем по сути отличается File System от File Layout, почему эта разница так важна, как так получилось, что система, задуманная изначально как файловый сервер (NAS) без особых затруднений вскоре стала работать и как блочное SAN-устройство - об этом вы узнаете в нашей следующей серии :)</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../index.html" rel="tag">techtalk</a>, <a href="../../wafl/index.html" rel="tag">wafl</a><br />					Раздел: <a href="../../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../216/trackback.html#respond" title="Комментарий к записи WAFL - что это, и как устроено?">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-204">
				<h2 class="posttitle"><a href="../../../204/trackback.html" rel="bookmark" title="Permanent Link to Методы записи во Flash memory в SSD">Методы записи во Flash memory в SSD</a></h2>
				<div class="postmetadata">28 Январь 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>В связи с нынешней активизацией на рынке SSD и Flash, возможно кому-то будет интересно посмотреть, какие продвинутые методы применяют разработчики решений, для преодоления присущей flash-memory по своей природе ограничений на число циклов записи. Ограничения сегодня уже достаточно далеко отодвинуты, но, тем не менее, совсем сбрасывать со счетов этот фактор нельзя. Основной метод, применяемый для преодоления этого недостатка, это так называемый wear-leveling. Что это, и как работает, в объяснении &#8220;на пальцах&#8221; найдено в <a href="/docs/FAQ_flash_drive_wear_leveling.pdf">FAQ компании Corsair</a> (89KB, PDF).</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../technology.html" rel="tag">technology</a>, <a href="../index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../204/trackback.html#comments" title="Комментарий к записи Методы записи во Flash memory в SSD">Комментарии (4)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-187">
				<h2 class="posttitle"><a href="../../../187/trackback.html" rel="bookmark" title="Permanent Link to Это любопытно.">Это любопытно.</a></h2>
				<div class="postmetadata">20 Ноябрь 2008, 8:10 <!-- от  --></div>
				<div class="postentry">
					<p>Начиная с версии Data ONTAP 6.4 можно посмотреть текущие логи системы и забрать core dump, при его существовании, через веб-браузер по адресу:</p>
<p><strong>http://your-fas-system/na_admin/logs</strong><br />
и<br />
<strong>http://your-fas-system/na_admin/cores</strong></p>
<p>Начиная с версии 7.2 эта опция по умолчанию выключена, вернее выключено формирование индексной страницы, так что если вы хотите попробовать, то сперва скажите в консоли:</p>
<p><strong>fas> options httpd.autoindex.enable on</strong></p>
<p>Ну и, разумеется, не забывайте то, что syslog системы хранения можно выливать по сети на специально назначенную машину и, возможно, обрабатывать там, как и для обычного UNIX.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../index.html" rel="tag">techtalk</a>, <a href="../../tricks/index.html" rel="tag">tricks</a><br />					Раздел: <a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;" rel="category tag">tricks</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../187/trackback.html#respond" title="Комментарий к записи Это любопытно.">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-178">
				<h2 class="posttitle"><a href="../../../178/trackback.html" rel="bookmark" title="Permanent Link to Capacity guide">Capacity guide</a></h2>
				<div class="postmetadata">10 Ноябрь 2008, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Любопытный документ найден в форумах <a href="http://communities.netapp.com/index.jspa">NetApp Communities</a> (кстати, рекомендую. Это открытый ресурс).</p>
<p>
&#8220;Обмен дисковой емкости на зашиту данных&#8221;<br />
Хотя это руководство и для StoreVault (S-series), но изложенное там верно и для FAS. ??з этого документа можно выяснить как превращается raw capacity дисков в usable capacity дискового пространства NetApp, и что вы получаете при этом взамен уменьшения пространства. </p>
<p><a href='/pics//wp-capacity-01-2008.pdf'>Trading Capacity for Data Protection – A Guide to Capacity Overhead on a StoreVault Storage System</a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../technology.html" rel="tag">technology</a>, <a href="../index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../178/trackback.html#respond" title="Комментарий к записи Capacity guide">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-162">
				<h2 class="posttitle"><a href="../../../162/trackback.html" rel="bookmark" title="Permanent Link to SnapVault">SnapVault</a></h2>
				<div class="postmetadata">20 Октябрь 2008, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p><nofollow><a href="http://www.netapp.com/us/products/protection-software/snapvault.html">SnapVault </a></nofollow>это &#8220;двухкомпонентная&#8221; система резервного копирования данных D2D, &#8220;с диска на диск&#8221;, основнанная на технологии <a href="../../../39/trackback.html">снэпшотов</a>.</p>
<p>Система SnapVault состоит из двух участников: системы хранения с лицензией SnapVault Primary, работающая &#8220;источником&#8221; данных, и системы с лицензией SnapVault Secondary, &#8220;получатель и хранитель&#8221; данных, в качестве которой может выступать как система NetApp FAS, так и специально разработанная для подобных применений, система Nearstore - емкое дисковое хранилище на недорогих SATA-дисках.</p>
<p>Главная идея, положенная в основу этого продукта - &#8220;непрерывно-дифференциальное&#8221; резервное копирование, использующее уникальные возможности <a href="../../../39/trackback.html">снэпшотов NetApp</a>.<br />
Вы знаете, что системы хранения NetApp обладают уникальной для рынка особенностью. Вследствие особой, отличной от всех аналогов у конкурентов технологии снэпшотов, они могут создавать и хранить не 14-16 снэпшотов на систему, как у конкурирующих предложений, а до 256 снэпшотов на каждый том, созданный на системе, что в сумме составляет многие тысячи снэпшотов на систему.<br />
Вдобавок, использование снэшпшотов удобно еще и тем, что ровно ничего не стоит пользователю, по сравнению с реализацией снэпшотов у конкурентов, где их использование может серьезно ухудшить производительность системы хранения в целом.</p>
<p>??спользование же снэпшотов в NetApp удобно в том числе и для сравнительно долговременного хранения, делая из них своеобразный &#8220;дисковый бэкап&#8221;, для мгновенного восстановления данных пользователя, в случае необходимости. Просто дайте команду <code>snap restore [мой том] [нужный снэпшот]</code>, или же просто скопируйте из снэпшота нужные файлы, созданные в желаемый момент времени, поверх испорченных в вашем томе. </p>
<p>Но что же делать, если мы хотим хранить более чем 256 мгновенных снимков наших данных, или, что более важно, хранить наши &#8220;снимки&#8221;-резервные копии на отдельном, защищенном и удаленном хранилище, но при этом сохранить всю простоту и легкость реализации восстановления, характерную для оригинальных снэпшотов?<br />
Вот для этого и был придуман SnapVault - &#8220;склад снэпшотов&#8221;.</p>
<p>Система с ролью Primary (она включается введением соответствующей лицензии, и не требует дополнительной инсталляции какого-либо софта) служит &#8220;источником данных&#8221;. Система с ролью Secondary, она может быть одна на много Primary, например если вы осуществляете централизованное резервное копирование из &#8220;филиалов&#8221; или удаленных офисов и храните резервные копии данных, осуществляет сбор и хранение множества &#8220;снэпшотов&#8221; от множества primary-систем в ваше централизованное хранилище.</p>
<p>При первой инициализации Primary SnapVault-система передает на Secondary полную копию своего содержимого, так называемую baseline. Это продолжительный и объемный процесс, сравнимый с классическим full backup. После этого, Secondary-система всегда передает только содержимое снэпшотов, &#8220;дифференциальные копии&#8221; системы, разницу между состоянием от предыдущего и нынешнего состояния и содержимого данных. </p>
<blockquote><p>Пример:<br />
У нас есть база данных размером 1GB. Мы делаем с нее ежечасный снэпшот, и этот снэпшот хранится на Secondary SnapVault-системе. Каждый час в системе накапливается примерно 2MB измененных данных. Это могут быть новые записи или изменения в старых.<br />
При создании baseline copy, при первичной инициализации, Primary-система передает весь этот 1GB на вторичную систему. Когда передача завершена, первичная система начинает ежечасно передавать примерно 2MB в час. Однако, с точки зрения пользователя, на вторичной системе он видит, словно бы полную копию, созданную ежечасно. Видит, и может ее использовать и восстановить свой раздел и данные из нее, также как с обычным снэпшотом. Разница заключается только в том, что места на дисках используется всего <strong>2MB*24h в день</strong>, не считая объема baseline copy, которая создается один раз в самом начале.</p></blockquote>
<p>Подобная практика сейчас стала популярной и в традиционных системах резервного копирования, обычно под названием &#8220;forever incremental&#8221; и подобных ему, когда full backup создается один раз, а затем делается только incremental, а при необходимости восстановления восстанавливается Full и все необходимые Incremental с момента создания исходного Full, а для пользователя каждый бэкап представляется полной копией системы.<br />
Удобство SnapVault в данном случае в том, что эта функция оказывается встроенной в систему хранения, и не требует использования внешних host-based систем резервного копирования.</p>
<p>Для не-NetApp систем хранения, возможно использование в качестве Primary и так называемой <nofollow><a href="http://www.netapp.com/us/products/protection-software/ossv.html">OSSV - Open Systems SnapVault</a></nofollow>, специального программного агента, стоящего на хост-сервере, к которому подключена сторонняя система хранения, или даже его локальные диски, и осуществляющего функции Primary SnapVault, как раассмотрено выше. Secondary SnapVault и в этом случае должен быть системой NetApp FAS или Nearstore. С помощью OSSV вы можете использовать возможности SnapVault и без необходимости использовать систему хранения NetApp в качестве Primary. </p>
<p>Любопытно, что сегодня в SnapVault интегрирована и <a href="../../../11/trackback.html">дедупликация</a>, так, если ваша Secondary-система имеет лицензию дедупликации, то процесс дедупликации будет запущен после окончания передачи baseline copy, и сможет, в ряде случаев заметно, уменьшить, хранимые на Secondary объемы baseline.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../ossv.html" rel="tag">ossv</a>, <a href="../../snapshots.html" rel="tag">snapshots</a>, <a href="../../snapvault.html" rel="tag">snapvault</a>, <a href="../index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../162/trackback.html#comments" title="Комментарий к записи SnapVault">Комментарии (4)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-163">
				<h2 class="posttitle"><a href="../../../163/trackback.html" rel="bookmark" title="Permanent Link to VMware на NFS: не только NetApp">VMware на NFS: не только NetApp</a></h2>
				<div class="postmetadata">15 Сентябрь 2008, 12:57 <!-- от  --></div>
				<div class="postentry">
					<p>Еще несколько деталей о NFS, чаще неспецифических для NetApp, но не менее важных и интересных.</p>
<p><strong>Очереди Ввода-вывода.</strong></p>
<p>Если вы используете в качестве datastore LUN под VMFS, то ввод-вывод вашего ESX, неважно FC или iSCSI, <strong>будет ограничен одной очередью ввода-вывода на LUN</strong>, для всех VM хранящих свои виртуальные диски в VMFS data store на нем. Ведь ESX обращается к одному единственному LUN, с точки зрения ввода-вывода это одно SCSI-устройство, и параллельность ввода-вывода тут невозможна или очень ограничена.<br />
В случае NFS вы можете использовать произвольное количество очередей ввода-вывода. Каждая VM, хранящая свои виртуальные диски на data store на NFS-шаре, <strong>будет иметь индивидуальную и независимую от других очередь ввода-вывода </strong>(IO queue).   </p>
<p><img src="/pics/VMFS-LUN.jpg" alt="VMFS LUN. Одна очередь ввода-вывода ко всем VM на data store" /><br />
<em>VMFS LUN. Одна очередь ввода-вывода ко всем VM на data store.</em></p>
<p><img src="/pics/NFS-DataStore.jpg" alt="NFS Data Store. Каждая VM имеет собственную очередь ввода-вывода." /><br />
<em>NFS Data Store. Каждая VM имеет собственную очередь ввода-вывода.</em></p>
<p><strong>Bandwidth Is not a Speed</strong></p>
<p>В значительном количестве случаев при переходе с FC на NFS вы, как ни странно, можете даже выиграть в скорости.<br />
&#8220;Как же так?&#8221; - наверняка спросите вы, &#8220;Ведь всем известно, что скорость FC это 4 GB/s, а NFS в случае 1GB Ethernet работает на 1GB/s, значит NFS просто обязана работать вчетверо медленнее!&#8221;<br />
Ответить нетрудно. &#8220;Полоса пропускания&#8221; (англ. &#8220;bandwidth&#8221;) не равно &#8220;Скорость&#8221; (англ. &#8220;Speed&#8221;). ??, к слову, не всегда равно &#8220;Производительность&#8221; (англ. &#8220;Performance&#8221;). Смешивать эти понятия будет большой ошибкой.<br />
Я уже <a href="<br />
http://blog.aboutnetapp.ru/archives/38">писал</a> об этой &#8220;смысловой коллизии&#8221; <a href="<br />
http://blog.aboutnetapp.ru/archives/38">раньше</a>, процитирую себя вкратце:</p>
<blockquote><p>&#8220;Скорость&#8221; интерфейса передачи данных зависит прежде всего от приложения, с ним работающего, а вовсе не от его &#8220;пропускной способности&#8221; в гигабайтах в секунду, до тех пор, пока мы не достигаем предела производительности интерфейса.</p></blockquote>
<p>Ввод-вывод VMware ESX производится мелким блоками (4-8kb), и при этом предельно рандомно (что неудивительно для системы, хостящей множество независимых процессов множества виртуальных машин). <strong>При таком характере ввода-вывода роль играет не bandwith интерфейса, а его латентность и производительность в IOPS.</strong> А вот тут уже NFS имеет очень хорошие показатели, за счет чего и выигрывает в этих гонках. Так что, если при переходе с 4Gb/s FC на 1Gb/s NFS вы еще и выиграете в производительности, то не ищите, где же вы ошиблись. Это вполне вероятный поворот дела.</p>
<p><strong>Увеличивать и уменьшать datastore без необходимости ковырять приложения и ESX. </strong></p>
<p>??нтересной особенностью использования datastore на NFS-томе NetApp является то, что вы можете не только увеличивать его размер, но, при необходимости и уменьшать, причем и то и другое без какого-либо колдовства с сервером ESX или виртуальными машинами, чтобы они могли это увидеть и использовать.<br />
Если увеличение это частая и в целом довольно обычная процедура, то вот уменьшение для LUN задача не из простых, а порой и вовсе нерешаемая.<br />
Зато для NFS-тома NetApp вы вольны делать изменение в обе стороны.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="../../netapp/index.html" rel="tag">netapp</a>, <a href="../../nfs/index.html" rel="tag">nfs</a>, <a href="../index.html" rel="tag">techtalk</a>, <a href="../../vmware/index.html" rel="tag">vmware</a><br />					Раздел: <a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../../../163/trackback.html#comments" title="Комментарий к записи VMware на NFS: не только NetApp">Комментарии (18)</a>									 </div>
			</div>
	
		
		<div class="navigation">
			<div class="alignleft"><a href="4.html">&laquo; Previous Entries</a></div>
			<div class="alignright"><a href="2.html">Next Entries &raquo;</a></div>
		</div>
		
	
	</div>
	<div id="sidebar">
		<ul>
			
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Автор</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li class="pagenav"><h2>Страницы</h2><ul><li class="page_item page-item-153"><a href="../../../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul></li>
			<li><h2>Рубрики</h2>
				<ul>
					<li class="cat-item cat-item-89"><a href="../../../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;">commands</a>
</li>
	<li class="cat-item cat-item-37"><a href="../../../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;">howto</a>
</li>
	<li class="cat-item cat-item-52"><a href="../../../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;">justread</a>
</li>
	<li class="cat-item cat-item-51"><a href="../../../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;">review</a>
</li>
	<li class="cat-item cat-item-3"><a href="../../../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;">techtalk</a>
</li>
	<li class="cat-item cat-item-71"><a href="../../../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;">tricks</a>
</li>
	<li class="cat-item cat-item-95"><a href="../../../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;">utilities</a>
</li>
	<li class="cat-item cat-item-44"><a href="../../../category/whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;">whoisho</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;">новости</a>
</li>
	<li class="cat-item cat-item-387"><a href="../../../category/opros.html" title="Просмотреть все записи в рубрике &laquo;опрос&raquo;">опрос</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;">переводы</a>
</li>
	<li class="cat-item cat-item-40"><a href="../../../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;">цитаты</a>
</li>
				</ul>
			</li>

			<li><h2>Архивы</h2>
				<ul>
					<li><a href='../../../date/2018/01.html' title='Январь 2018'>Январь 2018</a></li>
	<li><a href='../../../date/2015/10.html' title='Октябрь 2015'>Октябрь 2015</a></li>
	<li><a href='../../../date/2015/04.html' title='Апрель 2015'>Апрель 2015</a></li>
	<li><a href='../../../date/2015/03.html' title='Март 2015'>Март 2015</a></li>
	<li><a href='../../../date/2015/01.html' title='Январь 2015'>Январь 2015</a></li>
	<li><a href='../../../date/2014/12.html' title='Декабрь 2014'>Декабрь 2014</a></li>
	<li><a href='../../../date/2014/11.html' title='Ноябрь 2014'>Ноябрь 2014</a></li>
	<li><a href='../../../date/2014/10.html' title='Октябрь 2014'>Октябрь 2014</a></li>
	<li><a href='../../../date/2014/09.html' title='Сентябрь 2014'>Сентябрь 2014</a></li>
	<li><a href='../../../date/2014/08.html' title='Август 2014'>Август 2014</a></li>
	<li><a href='../../../date/2014/07.html' title='Июль 2014'>Июль 2014</a></li>
	<li><a href='../../../date/2014/06.html' title='Июнь 2014'>Июнь 2014</a></li>
	<li><a href='../../../date/2014/05.html' title='Май 2014'>Май 2014</a></li>
	<li><a href='../../../date/2014/04.html' title='Апрель 2014'>Апрель 2014</a></li>
	<li><a href='../../../date/2014/03.html' title='Март 2014'>Март 2014</a></li>
	<li><a href='../../../date/2014/02.html' title='Февраль 2014'>Февраль 2014</a></li>
	<li><a href='../../../date/2014/01.html' title='Январь 2014'>Январь 2014</a></li>
	<li><a href='../../../date/2013/12.html' title='Декабрь 2013'>Декабрь 2013</a></li>
	<li><a href='../../../date/2013/11.html' title='Ноябрь 2013'>Ноябрь 2013</a></li>
	<li><a href='../../../date/2013/10.html' title='Октябрь 2013'>Октябрь 2013</a></li>
	<li><a href='../../../date/2013/09.html' title='Сентябрь 2013'>Сентябрь 2013</a></li>
	<li><a href='../../../date/2013/08.html' title='Август 2013'>Август 2013</a></li>
	<li><a href='../../../date/2013/07.html' title='Июль 2013'>Июль 2013</a></li>
	<li><a href='../../../date/2013/06.html' title='Июнь 2013'>Июнь 2013</a></li>
	<li><a href='../../../date/2013/05.html' title='Май 2013'>Май 2013</a></li>
	<li><a href='../../../date/2013/04.html' title='Апрель 2013'>Апрель 2013</a></li>
	<li><a href='../../../date/2013/03.html' title='Март 2013'>Март 2013</a></li>
	<li><a href='../../../date/2013/02.html' title='Февраль 2013'>Февраль 2013</a></li>
	<li><a href='../../../date/2013/01.html' title='Январь 2013'>Январь 2013</a></li>
	<li><a href='../../../date/2012/12.html' title='Декабрь 2012'>Декабрь 2012</a></li>
	<li><a href='../../../date/2012/11.html' title='Ноябрь 2012'>Ноябрь 2012</a></li>
	<li><a href='../../../date/2012/10.html' title='Октябрь 2012'>Октябрь 2012</a></li>
	<li><a href='../../../date/2012/09.html' title='Сентябрь 2012'>Сентябрь 2012</a></li>
	<li><a href='../../../date/2012/08.html' title='Август 2012'>Август 2012</a></li>
	<li><a href='../../../date/2012/07.html' title='Июль 2012'>Июль 2012</a></li>
	<li><a href='../../../date/2012/06.html' title='Июнь 2012'>Июнь 2012</a></li>
	<li><a href='../../../date/2012/05.html' title='Май 2012'>Май 2012</a></li>
	<li><a href='../../../date/2012/04.html' title='Апрель 2012'>Апрель 2012</a></li>
	<li><a href='../../../date/2012/03.html' title='Март 2012'>Март 2012</a></li>
	<li><a href='../../../date/2012/02.html' title='Февраль 2012'>Февраль 2012</a></li>
	<li><a href='../../../date/2012/01.html' title='Январь 2012'>Январь 2012</a></li>
	<li><a href='../../../date/2011/12.html' title='Декабрь 2011'>Декабрь 2011</a></li>
	<li><a href='../../../date/2011/11.html' title='Ноябрь 2011'>Ноябрь 2011</a></li>
	<li><a href='../../../date/2011/10/index.html' title='Октябрь 2011'>Октябрь 2011</a></li>
	<li><a href='../../../date/2011/09/index.html' title='Сентябрь 2011'>Сентябрь 2011</a></li>
	<li><a href='../../../date/2011/08.html' title='Август 2011'>Август 2011</a></li>
	<li><a href='../../../date/2011/07/index.html' title='Июль 2011'>Июль 2011</a></li>
	<li><a href='../../../date/2011/06/index.html' title='Июнь 2011'>Июнь 2011</a></li>
	<li><a href='../../../date/2011/05/index.html' title='Май 2011'>Май 2011</a></li>
	<li><a href='../../../date/2011/04/index.html' title='Апрель 2011'>Апрель 2011</a></li>
	<li><a href='../../../date/2011/03/index.html' title='Март 2011'>Март 2011</a></li>
	<li><a href='../../../date/2011/02.html' title='Февраль 2011'>Февраль 2011</a></li>
	<li><a href='../../../date/2011/01.html' title='Январь 2011'>Январь 2011</a></li>
	<li><a href='../../../date/2010/12.html' title='Декабрь 2010'>Декабрь 2010</a></li>
	<li><a href='../../../date/2010/11/index.html' title='Ноябрь 2010'>Ноябрь 2010</a></li>
	<li><a href='../../../date/2010/10/index.html' title='Октябрь 2010'>Октябрь 2010</a></li>
	<li><a href='../../../date/2010/09/index.html' title='Сентябрь 2010'>Сентябрь 2010</a></li>
	<li><a href='../../../date/2010/08.html' title='Август 2010'>Август 2010</a></li>
	<li><a href='../../../date/2010/07/index.html' title='Июль 2010'>Июль 2010</a></li>
	<li><a href='../../../date/2010/06.html' title='Июнь 2010'>Июнь 2010</a></li>
	<li><a href='../../../date/2010/05.html' title='Май 2010'>Май 2010</a></li>
	<li><a href='../../../date/2010/04/index.html' title='Апрель 2010'>Апрель 2010</a></li>
	<li><a href='../../../date/2010/03/index.html' title='Март 2010'>Март 2010</a></li>
	<li><a href='../../../date/2010/02.html' title='Февраль 2010'>Февраль 2010</a></li>
	<li><a href='../../../date/2010/01.html' title='Январь 2010'>Январь 2010</a></li>
	<li><a href='../../../date/2009/12/index.html' title='Декабрь 2009'>Декабрь 2009</a></li>
	<li><a href='../../../date/2009/11/index.html' title='Ноябрь 2009'>Ноябрь 2009</a></li>
	<li><a href='../../../date/2009/10.html' title='Октябрь 2009'>Октябрь 2009</a></li>
	<li><a href='../../../date/2009/09.html' title='Сентябрь 2009'>Сентябрь 2009</a></li>
	<li><a href='../../../date/2009/08/index.html' title='Август 2009'>Август 2009</a></li>
	<li><a href='../../../date/2009/07/index.html' title='Июль 2009'>Июль 2009</a></li>
	<li><a href='../../../date/2009/06.html' title='Июнь 2009'>Июнь 2009</a></li>
	<li><a href='../../../date/2009/05.html' title='Май 2009'>Май 2009</a></li>
	<li><a href='../../../date/2009/04.html' title='Апрель 2009'>Апрель 2009</a></li>
	<li><a href='../../../date/2009/03.html' title='Март 2009'>Март 2009</a></li>
	<li><a href='../../../date/2009/02.html' title='Февраль 2009'>Февраль 2009</a></li>
	<li><a href='../../../date/2009/01.html' title='Январь 2009'>Январь 2009</a></li>
	<li><a href='../../../date/2008/12.html' title='Декабрь 2008'>Декабрь 2008</a></li>
	<li><a href='../../../date/2008/11.html' title='Ноябрь 2008'>Ноябрь 2008</a></li>
	<li><a href='../../../date/2008/10.html' title='Октябрь 2008'>Октябрь 2008</a></li>
	<li><a href='../../../date/2008/09.html' title='Сентябрь 2008'>Сентябрь 2008</a></li>
	<li><a href='../../../date/2008/08.html' title='Август 2008'>Август 2008</a></li>
	<li><a href='../../../date/2008/03.html' title='Март 2008'>Март 2008</a></li>
	<li><a href='../../../date/2008/02.html' title='Февраль 2008'>Февраль 2008</a></li>
	<li><a href='../../../date/2007/12.html' title='Декабрь 2007'>Декабрь 2007</a></li>
	<li><a href='../../../date/2007/11.html' title='Ноябрь 2007'>Ноябрь 2007</a></li>
	<li><a href='../../../date/2007/10.html' title='Октябрь 2007'>Октябрь 2007</a></li>
	<li><a href='../../../date/2007/09.html' title='Сентябрь 2007'>Сентябрь 2007</a></li>
	<li><a href='../../../date/2007/08.html' title='Август 2007'>Август 2007</a></li>
	<li><a href='../../../date/2007/07/index.html' title='Июль 2007'>Июль 2007</a></li>
	<li><a href='../../../date/2007/06.html' title='Июнь 2007'>Июнь 2007</a></li>
	<li><a href='../../../date/2007/05.html' title='Май 2007'>Май 2007</a></li>
				</ul>
			</li>

			
					</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a href="../../../../feed">Entries (RSS)</a> and <a href="../../../../comments/feed">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br />
	Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a> and <a href="http://srinig.com/wordpress/themes/fluid-blue/">Fluid Blue theme</a>.<br />
	<!-- 15 queries. 0.105 seconds. -->
	</div>
</div> <!-- page -->
</body>
</html>
