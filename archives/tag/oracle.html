<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="ru-RU">

<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<title>about NetApp   &raquo; oracle</title>

<link rel="stylesheet" href="../../wp-content/themes/fluid-blue/style.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../wp-content/themes/fluid-blue/print.css" type="text/css" media="print" />
<link rel="alternate" type="application/rss+xml" title="about NetApp RSS Feed" href="../../feed" />
<link rel="pingback" href="../../xmlrpc.php.html" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php%3Frsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 2.6" />

</head>

<body>
<div id="page">
<div id="header">
	<div id="headertitle">
		<h1><a href="../../index.html" title="about NetApp: Системы хранения данных как предмет разговора">about NetApp</a></h1>
		<p>Системы хранения данных как предмет разговора</p>
	</div> 
	<!-- Search box (If you prefer having search form as a sidebar widget, remove this block) -->
	<div class="search">
		<form method="get" id="searchform" action="../../index.html">
<input type="text" size="20" name="s" id="s" value="Поиск..."  onblur="if(this.value=='') this.value='Поиск...';" onfocus="if(this.value=='Поиск...') this.value='';"/>
</form>
	</div> 
	<!-- Search ends here-->
		
</div>

<div id="navbar">
<ul id="nav">
	<li><a href="../../index.html">Home</a></li>
	<li class="page_item page-item-153"><a href="../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul>
</div>
<div id="wrapper">

	<div id="content">

	
			<p>Posts tagged &#8216;oracle&#8217;</p>

	 		
		<div class="navigation">
			<div class="alignleft"><a href="oracle/page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>

						
			<div class="post" id="post-1234">
				<h2 class="posttitle"><a href="../1234/trackback.html" rel="bookmark" title="Permanent Link to Производительность в Cluster-mode: опубликованы результаты">Производительность в Cluster-mode: опубликованы результаты</a></h2>
				<div class="postmetadata">15 Ноябрь 2012, 7:00 <!-- от  --></div>
				<div class="postentry">
					<p>Мы уже весь этот год понемногу <a href="cluster-mode/index.html">говорим</a> о новой для пользователей NetApp “классической”, 7-mode архитектуры, схеме <a href="../1113/trackback.html">Cluster-mode</a>. В отрасли все еще довлеет определенный груз недоверия, Cluster-mode считается, во-первых,&#160; дорогим (но о  цене и спецпредложении двухузловой cluster-mode по цене HA-пары 7-mode, и о “Cisco Nexus за 1$” мы <a href="../1118/trackback.html">уже говорили ранее</a>), сложным в развертывании и установке (но рекомендую сделать поиск по <a href="http://www.netapp.com/us/library/">Techlibrary</a> по слову “cluster-mode”) и имеющим значительный оверхед по производительности, в сравнении с системой 7-mode. ?? вот об этом последнем мы поговорим сегодня.</p>
<p>К моему глубокому сожалению некоторые такие предрассудки о производительности системы в Cluster-mode&#160; разделяли и отдельные знакомые мне специалисты самого NetApp.</p>
<p>Поэтому так интересно было посмотреть на официально опубликованный отчет по измерению и сравнению производительности системы Cluster-mode и 7-mode.</p>
<p>Была протестирована производительность работы системы хранения FAS6240 под задачи четырехнодового Oracle RAC на OLTP нагрузке, под всеми поддерживаемыми протоколами, в конфигурации хранилища как 7-mode, так и Cluster-mode, в максимально идентичной конфигурации OS, базы, настроек оборудования. Для затравки вам картинка, остальное по ссылке на <a href="http://media.netapp.com/documents/tr-4109.PDF">полный отчет</a> с описанием методики тестирования.</p>
<p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics/--Cluster-mode--_8D22/image.png" width="783" height="443" /></p>
<p>Как вы видите, согласно этому тесту производительность Cluster-mode ниже аналогичной системы 7-mode не более чем на 7% в наихудшем случае, при, безусловно, значительно большем количестве возможностей, “фич” и перспективах масштабирования решения Cluster-mode.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="cluster-mode/index.html" rel="tag">cluster-mode</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="performance/index.html" rel="tag">performance</a>, <a href="rac.html" rel="tag">rac</a>, <a href="testing.html" rel="tag">testing</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1234/trackback.html#comments" title="Комментарий к записи Производительность в Cluster-mode: опубликованы результаты">Комментарии (11)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1193">
				<h2 class="posttitle"><a href="../1193/trackback.html" rel="bookmark" title="Permanent Link to NetApp в CERN">NetApp в CERN</a></h2>
				<div class="postmetadata">30 Август 2012, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Весьма любопытная попалась на глаза презентация о использовании систем хранения NetApp в CERN, для накопления, хранения и предоставления для работы с ними данных, поступающих с детекторов Большого Адронного Коллайдера (БАК, LHC).</p>
<p>Где-то до 15 страницы там идет все больше про адронный коллайдер, с данными котрого и работает система, и кратко о экспериментах, и генерируемых ими объемах данных, идущих на LRC (подробнее о том, что за эксперименты идут на LHC можно почитать на русском в <a href="http://habrahabr.ru/post/149696/">заметке на Хабре</a>) а дальше начинается уже и &#8220;наша&#8221; часть.</p>
<p>Вкратце: на 2010 год один только Large Hadron Collider (LHC, БАК) генерировал в ходе идущих на нем четырех параллельных экспериментов около 15 петабайт &#8220;сырых&#8221; данных в год, при сумммарной емкости хранилища свыше 50 петабайт, которые обрабатываются примерно 150 тысячами процессорных ядер в научных учреждениях по всему миру (проект GRID).</p>
<p>Это 2010 год, еще до всех cluster-mode, все довольно просто (если к такой работе можно вообще применять такое слово), и упомянутый в заголовке <em>scalability </em>и <em>performance </em>достигается простым 7-mode и Oracle RAC (10.2.0.5, позднее 11 в Oracle VM), Flash Cache и 10G Ethernet на midrange-class системах.</p>
<p>С 2006 года в CERN эксплуатируют системы хранения NetApp, Oracle на Linux_x64, в конфигурации RAC по NFS, и на момент создания презентации СУБД обслуживала 96 баз.</p>
<p>Так, например, база ACCLOG получала, на момент публикации презентации, примерно 3,5TB записей в месяц (или около 100GB в день), причем после запуска LHC объем входящих записываемых в базу данных вырос примерно вчетверо.</p>
<p>Любопытно, что все это обслуживают сравнительно маломощные стораджи FAS3040 и FAS3140 с дисками SATA 2TB и FC 10Krpm</p>
<p>Наиболее важными для CERN особенностями систем хранения NetApp в презентации называются:</p>
<ul>
<li>Хорошая поддержка и удобное администрирование систем.</li>
<li>Высокий уровень масштабируемости и производительности, стабильности и беспроблемности кластерного файловера, а также непрерывающего работу обновления ПО контроллеров.</li>
<li>Высокая надежность хранения и поддержания целостности данных (RAID-DP, scrubbing, checksum)</li>
<li>Удобные и практичные фичи, такие, как snapshots.</li>
</ul>
<p>Посмотреть PDF презентации можно тут:<br />
<a href="http://openlab.web.cern.ch/sites/openlab.web.cern.ch/files/presentations/2010OOW-08.pdf">http://openlab.web.cern.ch/sites/openlab.web.cern.ch/files/presentations/2010OOW-08.pdf</a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="cern.html" rel="tag">cern</a>, <a href="lrc.html" rel="tag">lrc</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="nfs/index.html" rel="tag">nfs</a>, <a href="oracle/index.html" rel="tag">oracle</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1193/trackback.html#comments" title="Комментарий к записи NetApp в CERN">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1147">
				<h2 class="posttitle"><a href="../1147/trackback.html" rel="bookmark" title="Permanent Link to Сравнительное тестирование HDS AMS2100 и NetApp FAS2240-2">Сравнительное тестирование HDS AMS2100 и NetApp FAS2240-2</a></h2>
				<div class="postmetadata">26 Апрель 2012, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Нам пишут наши читатели:</p>
<p>Оригнал здесь, перепечатывается оттуда по согласию с автором: <a href="http://ua9uqb.livejournal.com/79872.html">http://ua9uqb.livejournal.com/79872.html</a></p>
<hr />
<p>Не так давно довелось мне протестировать две системы хранения данных, делюсь результатами. В тесте принимали участие системы начального уровня NetApp FAS2240 и Hitachi AMS2100.    <br />Надо понимать, что системы эти сравнимы довольно условно, так как AMS - обычное, бедное по функционалу блочное хранилище, в отличии от сильно мозговитого, &quot;всё-всё умеющего&quot; NetApp-а. Конфигурации системы, методики тестирования, и прочие тюнинги, были согласованны со специалистами вендоров. </p>
<p>Немного подробностей по методике:    <br />1. Тестирование проводилось программой IOMeter версии 2006.07.27 для Windows. </p>
<p>2. Подключение СХД Hitachi AMS2100 производится посредством FC4G, протокол FC    <br />Cостав LUN и томов СХД     <br />Raid10 8 x 450gb 15k 3.5’ Usable: 1.5Tb Lun: 700Gb     <br />Raid6 8+2 450gb 15k 3.5’ Usable: 3.1Tb Lun: 700Gb </p>
<p>3. Подключение СХД NetApp FAS2240 производится посредством 10Ge, протокол iscsi    <br />Состав LUN и томов СХД     <br />RaidDP 9+2 x 600gb 10k 2.5’ Usable: 4.33Tb Lun: 700Gb </p>
<p>4. Тесты проводится в режиме файловой системы NTFS 4к, выравнивание партишина 64к; </p>
<p>5. Настройки программы IOMeter:    <br />• Worker&#8217;s – 4     <br />• Target – 16 (в каждом из Worker’s)     <br />• Disk Size – 200000000 (100Gb)     <br />• Ramp Up Time – 600 сек     <br />• Run Time – 30 мин </p>
<p>6. Фиксация результатов каждого теста для IOMeter длиться 30 минут начиная с 10-й и заканчивая 40-й минутой теста; </p>
<p>7. Профили нагрузок(название профилей условное), используемые для тестирования IOMeter следующие:&#160; <br /><strong> Нагрузка характерная для приложений ORACLE&#160; <br /></strong>• размер блока 8КБ;     <br />• соотношение количества операций чтения/запись 30/70;     <br />• характер нагрузки – 100% случайный доступ; </p>
<p><strong> Нагрузка характерная для VMware: </strong>    <br />• размер блока 4КБ;     <br />• соотношение количества операций чтения/запись 40/60;     <br />• характер нагрузки – 45% линейный и 55% случайный доступ; </p>
<p><strong>Нагрузка характерная для операций Backup:      <br /></strong>• размер блока 64КБ;     <br />• 100% последовательное чтение; </p>
<p>??тог:    <br /><a href="http://pics.livejournal.com/ua9uqb/pic/000f0e30"><img alt="" src="http://pics.livejournal.com/ua9uqb/pic/000f0e30" width="466" height="268" /></a>     </p>
<p>Табличка довольно прозрачная, поэтому никаких выводов делать не буду.    <br />NetApp FAS2240(в центре, где куча вертикальных планочек, и жёлтая наклейка сверху): </p>
<p><a href="http://pics.livejournal.com/ua9uqb/pic/000ezadb"><img alt="" src="http://pics.livejournal.com/ua9uqb/pic/000ezadb" width="640" height="424" /></a>&#160;</p>
<p>Hitachi AMS2100 </p>
<p><a href="http://pics.livejournal.com/ua9uqb/pic/000eyraa"><img alt="" src="http://pics.livejournal.com/ua9uqb/pic/000eyraa" width="640" height="424" /></a>     </p>
<p>PS. Дополнительно проводилось тестирование программой IOZone, порядок цифр примерно тот же, если будут интересующиеся, выложу результаты. </p>
<p>PPS. Пост навеян коментом френдессы <a href="http://balorus.livejournal.com/profile"><img alt="[info]" src="http://l-stat.livejournal.com/img/userinfo.gif?v=91.1" width="16" height="16" /></a><a href="http://balorus.livejournal.com/">balorus</a> к <a href="http://ua9uqb.livejournal.com/79392.html">посту про сервер Sun T4-4</a> :-) </p>
<p>PPPS. Мой выбор был бы NetApp, если бы Хитача в те же деньги не уложила сильно больше шпинделей. А так же не ещё один сильно политический нюанс, который очень сложно перебить даже теми волшебными, и крайне необходимыми нам штуками, которые NetApp умеет делать очень хорошо, а AMS не умеет в принципе. </p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="2100.html" rel="tag">2100</a>, <a href="2240.html" rel="tag">2240</a>, <a href="2240-2.html" rel="tag">2240-2</a>, <a href="ams2100.html" rel="tag">AMS2100</a>, <a href="hds.html" rel="tag">hds</a>, <a href="hitachi.html" rel="tag">hitachi</a>, <a href="iometer.html" rel="tag">iometer</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="performance/index.html" rel="tag">performance</a>, <a href="vmware/index.html" rel="tag">vmware</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1147/trackback.html#comments" title="Комментарий к записи Сравнительное тестирование HDS AMS2100 и NetApp FAS2240-2">Комментарии (18)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1140">
				<h2 class="posttitle"><a href="../1140/trackback.html" rel="bookmark" title="Permanent Link to Про тестирования и про производительности">Про тестирования и про производительности</a></h2>
				<div class="postmetadata">9 Апрель 2012, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Некоторое время назад по IT-новостям прокатилось сообщение что “<a href="http://www.theregister.co.uk/2012/03/15/oracle_zfs_spec_result/">Система хранения Oracle 7320 победила в тестах NetApp FAS3270!! адинадин</a>”. На прошлой неделе у меня дошли руки посмотреть все же что там, как, кто, и кого победил. О результатах рассказываю.</p>
<p>Тема “тестирований производительности” (кавычки мои, romx) есть любимая тема любого сисадмина.</p>
<p>Допустим, вы читаете в новостях сообщение, что <em>“Мотоцикл Honda CBR150 обошел на стометровке с места болид Formula1 Ferrari!”</em>. “Ну, круто” – подумаете вы, “но кому интересно соревнование с формульным болидом на стометровке с места? Они бы еще соревновались по параметру “экономия бензина” с велосипедом!” А вот нет, оказывается, прекрасная новость и <a href="https://www.google.com/search?q=oracle+7320+netapp&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a">информационный повод</a> проспамить прессрелизом IT-издания.</p>
<p>Уже не раз в этом блоге я писал, что “<a href="../926/trackback.html">дьявол – в деталях</a>”, “<a href="../982/trackback.html">всегда читайте мелкий шрифт</a>”, и не ограничивайтесь одними лишь заголовками смотрите вглубь, мы – инженеры, именно за умение смотреть вглубь и читать портянки текстов на английском нам платят наши деньги.</p>
<p>Но, для начала, несколько вводных слов.</p>
<p>Тестирование – тема очень непростая. Очень важный аспект в любом бенчмарке это создание повторяемой среды, отражающей реальные условия использования тестируемого предмета. Результаты процесса “копирования ISO в тотал коммандере”&#160; совершенно неприменимы для оценки быстродействия системы хранения на задаче OLTP database, а данные чисто “синтетического” теста могут не отражать адекватно ваши реальные рабочие результаты, на вашей реальной рабочей задаче, в жизни.</p>
<p>Но если в том что касается бенчмарка, то есть создания повторяемой среды тестирования идентичной для всех тестирующихся систем, можно положиться на авторитет общепризнанных тестов, каковыми на сегодня являются, например <a href="http://www.spec.org/sfs2008/results/sfs2008.html">SPECsfs2008</a> для файловых протоколов (NFS и CIFS), и <a href="http://www.storageperformance.org/results/benchmark_results_spc1">SPC-1</a> для блочных протоколов (FC и iSCSI), то вот в подготовке тестируемой системы есть некоторая свобода, которой иногда (довольно часто, к сожалению) пользуются <em>некоторые производители</em> с целью создать “систему хранения”, единственная цель которой – победа в тестировании. В англоязычном сегменте такое называется <em>lab queen</em>, по-русски я слышал название “звездолет”. </p>
<p>Вариантов как построить <em>звездолет</em> есть масса. Например можно взять <a href="../523/trackback.html">хай-энд систему и набить ее SSD, получив систему за шесть миллионов долларов на 19TB usable</a> . Можно <a href="../872/trackback.html">поставить вместе четыре стораджа, и в результатах тупо просуммировать показанные ими по отдельности результаты</a>. Можно, наконец, тестировать систему на голых дисках без RAID или на RAID-0. ??спользовать множество дисков малого объема. Разбить пространство тестирование на большое количество мелких разделов, снижая “разбег” random access seek, и так далее. Полученные таким образом результаты окажутся неприменимыми в реальной жизни и в реальной эксплуатации того, что вы можете купить, однако очень эффектно смотрятся в пресс-релизах об очередной победе.</p>
<p>В этом отношении позиция NetApp в тестировании достаточно ясна и четко выражена. NetApp тестирует реальные конфигурации, которые вы можете купить и использовать. Не “звездолет” для получения эффектных результатов бенчмарка, а реальную практичесую систему. Хорошо настроенную специалистами, но без вышеперечисленных “серых мулечек”. Результаты тестирования у NetApp это реальные результаты практической, “покупабельной” системы хранения.</p>
<p>А теперь перейдем собственно к теме. Что же скрывает за собой барабанная дробь <a href="http://www.oracle.com/us/solutions/performance-scalability/sun-zfs-7320-specsfs2008-31512-1558306.html?ssSourceSiteId=opn">прессрелиза</a>?</p>
<p>Согласно требованиям проведения тестирования <a href="http://www.spec.org/sfs2008/results/sfs2008.html">SPECsfs2008</a>, протестированная конфгурация должна быть хорошо и детально документирована и описана. Эти данные доступны на сайте SPEC.org всем желающим. Пожелаем и мы проверить, какую же в точности конфигурацию тестировали в Oracle.</p>
<p>Вот как описывает протестированную конфигурацию сайт SPEC.org:    <br /><a href="http://www.spec.org/sfs2008/results/res2012q1/sfs2008-20120206-00207.html">http://www.spec.org/sfs2008/results/res2012q1/sfs2008-20120206-00207.html</a></p>
<p><a href="http://www.oracle.com/us/products/servers-storage/storage/nas/zfs7320/overview/index.html">Система Oracle Sun ZFS storage 7320</a></p>
<p>136 дисков SAS 15K на 300GB в 6 дисковых полках, обшим usable space емкостью 37,1TB и общей экспортируемой емкостью в 36,96TB были поделены на 32 файловые системы, по 16 на каждый из двух контроллеров (каждая экспортируемая FS имела размер примерно 1,1TB), доступ к которым осуществлялся с трех loadgenerator Sun Fire X4270 M2, подключенных по 10G Ethernet.</p>
<p>Также тестированный сторадж оснащен 8 дисками SSD по 512GB каждый, для кэширования чтения, (так называемый L2ARC), общей емкостью 4TB, пополам на каждом из двух контроллеров, и 8 дисками SSD 73GB в качестве кэша записи (ZIL), суммарно 584GB, без RAID в обоих случаях. Кроме этого, два контроллера системы хранения имели RAM емкостью 288GB (ARC, по 144GB на контроллер), что дает 4968GB суммарной емкости кэша (SSD и RAM).</p>
<p>Суммарная, участвующая в тестировании емкость (fileset) составила 15587,3 GB, то есть <strong>емкость кэша составила примерно треть от используемого файлсета</strong>.</p>
<p>Далее цитата:   <br /><em>The storage configuration consists of 6 shelves, 4 with 24 disk drives, 2 with 20 disk drives and 4 write flash devices. Each controller head has 4 read flash accelerators. Each controller is configured to use 68 disk drives, 4 write flash accelerator devices and 4 read flash accelerator devices. The controller is then set up with pools by dividing the disk drives, write flash accelerators and read flash accelerators into 4 pools. Each of the controller&#8217;s pools is configured with 17 disk drives, 1 write flash accelerator and 1 read flash accelerator. The pools are then set up to stripe the data (RAID0) across all 17 drives. The write flash accelerator in each pool is used for the ZFS Intent Log (ZIL) and the read flash accelerator is used as a level 2 cache (L2ARC) for the pool. All pools are configured with 4 ZFS filesystems each.</em> </p>
<p>“Конфигурация системы хранения содержала 6 дисковых полок, 4 полки на 24 диска и 2 полки на 20 дисков, плюс 4 SSD-кэша на запись. Каждый контроллер использовал 4 SSD-диска в качестве кэша чтения. Каждый контроллер был сконфигурирован на работу с 68 дисками, 4 SSD кэша на запись и 4 SSD кэша на чтение. Каждый контроллер использовал пулы дисков, между которыми были разделены диски, по одному SSD-кэшу на чтение и на запись на каждый пул. Пулы были настроены таким образом, чтобы данные страйпились на все входящие в него 17 дисков (RAID-0). Write flash accelerator (SSD емкостью 73GB) в каждом пуле использовался в качестве ZFS Intent Log (ZIL), а read flash accelerator (SSD емкостью 512GB) как level 2 cache (L2ARC). На каждом из пулов было создано по 4 файловые системы.”</p>
<p>Как мы видим, несмотря на использование ZFS, для организации дисков в пулах был выбран <strong>простой stripe, без RAID (фактически RAID-0!)</strong>. Кроме того стоит отметить, что общая тестируемая емкость дисков была поделена на сравнительно маленькие файловые системы, <strong>всего около 1,1TB каждая, числом 32</strong> (зачем такой финт – см. выше).</p>
<p>Очевидно, что такая конфигурация довольно далека от реально эксплуатируемой на такого рода системах. Кто в здравом уме будет класть данные на <strong>17-дисковую</strong> группу в <strong>RAID-0</strong>?! А как планируется использовать пространство, разбитое на 32 отдельных FS для хранения, например, больших объемов? А каковы 512GB write cache на SSD, без малейшей защиты от сбоя?</p>
<p>Кстати интересный вопрос: Если ZFS так хороша и производительна, и так хорош RAID-Z и RAID-Z2, то почему его не использует при выкатке систем на тестирование даже сам Oracle? Что за засада с ним, господа из Oracle? Вот NetApp показывает свой результат на реальных, эксплуатируемых конфигурациях, с RAID-DP и даже со включенным thin provisioning, а в результатах Oracle в SFS2008 – Stripe (RAID-0), а в <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/Oracle/A00108_Oracle-Sun-ZFS-7420c/a00108_Oracle-Sun_ZFS-7420c%20_SPC1_full-disclosure-r1.pdf">SPC-1 – mirror (RAID-1)</a>. Почему не RAID-Z(2)? Почему бы не показать результаты с ними? Может быть они совсем не так хороши?</p>
<p>Для сравнения давайте посмотрим на упомянутую конфигурацию NetApp FAS3270, которую “побеждали”.</p>
<p>FAS3270 в конфигурации с SAS-дисками и без Flash Cache, поставки таких систем начались в ноябре 2010 года, около полутора лет назад. </p>
<p>360 дисков 450GB 15K, общая usable емкость дисков 125,7TB (в RAID-DP), экспортированная емкость равна 110,08TB (88% от usable) в 2 файловых системах (по одной на контроллер). Диски организованы в два aggregate из 11 RAID-групп 14d+2p в RAID-DP (RAID-6),&#160; тестовая нагрузка генерировалась с помощью 12 Loadgenerators типа IBM 3650M2.</p>
<p>Exported capacity равна 110TB, файлсет, на котором проводилос тестирование - 11749.7 GB&#160; Размер RAM, используемого как кэш на системе хранения, равен <strong>36GB, что составляет 1/326 от fileset</strong>.</p>
<p><strong><a href="http://www.spec.org/sfs2008/results/res2010q4/sfs2008-20101018-00171.html">SPECsfs2008_nfs.v3=101183 Ops/Sec (Overall Response Time = 1.66 msec)</a></strong></p>
<p>&#160;</p>
<p>У “победившей” его полтора года спустя системы с RAID-0, с кэшами разного уровня, составляющими суммарно до трети тестируемого файлсета, включая около 4,5TB на SSD, с в шесть раз большим RAM контроллера и с тестируемым пространством побитым на 32 кусочка-FS:</p>
<p><strong><a href="http://www.spec.org/sfs2008/results/res2012q1/sfs2008-20120206-00207.html">SPECsfs2008_nfs.v3=134140 Ops/Sec (Overall Response Time = 1.51 msec)</a></strong></p>
<p>&#160;</p>
<p>На 32,5% больше IOPS и на 8,5% лучше latency.</p>
<p>&#160;</p>
<p>Ребята из Oracle, что называется &quot;при всем уважени”, но вы правда считаете, что таким результатом, при описанном выше устройстве тестируемой системы, и способе проведения тестирования, это победа и этим стоит гордиться? Нет, ну правда?</p>
<p>Оно дешевле стоит? Ну, согласен, дешевле. Мотоцикл порвал Феррари на стометровке. Но кто гоняет на Феррари на стометровке? Какой смысл сравнивать по цене лоу-мидрендж (“<em>Entry-level cluster option for high availability</em>”, цитата из <a href="http://www.oracle.com/us/products/servers-storage/sun-zfs-storage-family-ds-173238.pdf">техспеков</a> на 7320), ZFS-сервер, со стораджем, в максимуме тянущем в 6,6 раз большую чем 7320 емкость, используещем RAID-6, и демонстрируемом даже близко не на пределе своих возможностей по тестируемой емкости?</p>
<p>Впрочем, несколько слов и о цене. В тесте SPECsfs2008 условия тестирования не требуют называния цены тестируемой системы, поэтому спекуляции о цене делаются на довольно мутном базисе “<a href="https://blogs.oracle.com/si/entry/oracle_posts_spec_sfs_benchmark">нашли гуглом какой-то прайс нетаппа, где-то в интернете, и прикинули</a>”. Однако в случае SPC-1 требуется указывать такой параметр, как IOPS/$ и цена всей тестируемой конфигурации называется. Тут, однако, тоже есть поле для… ну-у… скажем так, для “оптимизации” :). Например на тестировании SPC-1 NetApp называет цену листпрайса (см стр. 18 <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1E/NetApp/AE00004_NetApp_FAS3270A/ae00004_NetApp_FAS3270A_SPC1E_full-disclosure.pdf">отчета</a>), а Oracle, ничуть не смущаясь приводит цену с “вшитой” 30% скидкой по всем позициям (см. стр. 14 <a href="http://www.storageperformance.org/benchmark_results_files/SPC-1/Oracle/A00108_Oracle-Sun-ZFS-7420c/a00108_Oracle-Sun_ZFS-7420c%20_SPC1_full-disclosure-r1.pdf">отчета</a>) и именно ее берет в расчете IOPS/$ в SPC-1.</p>
<p>Так что, повторю сказанное мной в начале поста: Читайте мелкий шрифт, не ленитесь разбираться в конфигурациях и их деталях, и оставьте пресс-релизы (и выводы только на их основании) для С*O-менеджеров. :)</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="benchmark/index.html" rel="tag">benchmark</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="nfs/index.html" rel="tag">nfs</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="specsfs2008.html" rel="tag">specsfs2008</a>, <a href="sun.html" rel="tag">sun</a>, <a href="zfs.html" rel="tag">zfs</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1140/trackback.html#respond" title="Комментарий к записи Про тестирования и про производительности">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1074">
				<h2 class="posttitle"><a href="../1074/trackback.html" rel="bookmark" title="Permanent Link to Эксперименты с Calibration IO в Oracle 11g">Эксперименты с Calibration IO в Oracle 11g</a></h2>
				<div class="postmetadata">2 Ноябрь 2011, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Сегодня у нас снова перевод короткой заметки Neto – технического архитектора NetApp, занимающегося вопросами работы с базами данных Oracle.</p>
<h3><a href="http://communities.netapp.com/community/netapp-blogs/databases/blog/2011/08/10/playing-with-calibration-io--oracle-11g">Playing with Calibration IO - Oracle 11g</a></h3>
<p>Posted by <a href="http://communities.netapp.com/people/neto">neto</a> on Aug 11, 2011 2:37:40 AM </p>
<p>Oracle 11g имеет интересную возможность эмулировать ввод-вывод (случайное чтение большими блоками (1MByte)). Это называется Calibration IO - <a href="http://download.oracle.com/docs/cd/B28359_01/server.111/b28274/iodesign.htm">http://download.oracle.com/docs/cd/B28359_01/server.111/b28274/iodesign.htm</a></p>
<p>Давайте проделаем небольшой тест с помощью этого средства.</p>
<p>&#160;</p>
<p><strong>1) Проверяем, что все файлы данных используют asynchronous IO:</strong></p>
<p><code>col name format a50<br />
select name,asynch_io from v$datafile f,v$iostat_file i where f.file#=i.file_no and (filetype_name=&#8217;Data File&#8217; or filetype_name=&#8217;Temp File&#8217;);<br />
NAME&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ASYNCH_IO<br />
&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211; &#8212;&#8212;&#8212;<br />
/oracle/databases/prod/data/system01.dbf&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ASYNC_ON<br />
/oracle/databases/prod/data/system01.dbf&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ASYNC_ON<br />
/oracle/databases/prod/data/sysaux01.dbf&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ASYNC_ON<br />
/oracle/databases/prod/data/undotbs01.dbf&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ASYNC_ON<br />
/oracle/databases/prod/data/users01.dbf&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ASYNC_ON<br />
/oracle/databases/prod/data/soe.dbf&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ASYNC_ON<br /></code></p>
<p>&#160;</p>
<p><strong>2) Запускаем Calibration IO</strong></p>
<p><code><br />
SET SERVEROUTPUT ON<br />
DECLARE<br />
&#160; lat&#160; INTEGER;<br />
&#160; iops INTEGER;<br />
&#160; mbps INTEGER;<br />
BEGIN<br />
&#8211; DBMS_RESOURCE_MANAGER.CALIBRATE_IO (&lt;DISKS&gt;, &lt;MAX_LATENCY&gt;, iops, mbps, lat);<br />
&#160;&#160; DBMS_RESOURCE_MANAGER.CALIBRATE_IO (2, 10, iops, mbps, lat);<br />
&#160; DBMS_OUTPUT.PUT_LINE (&#8217;max_iops = &#8216; || iops);<br />
&#160; DBMS_OUTPUT.PUT_LINE (&#8217;latency&#160; = &#8216; || lat);<br />
&#160; dbms_output.put_line(&#8217;max_mbps = &#8216; || mbps);<br />
end;<br /></code></p>
<p>&#160;</p>
<p><strong>3) Смотрим на стороне NetApp:</strong></p>
<p><code><br />
[root@dl585-10 ~]# ssh 10.61.106.103 sysstat 1<br />
CPU&#160;&#160;&#160; NFS&#160;&#160; CIFS&#160;&#160; HTTP&#160;&#160;&#160;&#160;&#160; Net kB/s&#160;&#160;&#160;&#160; Disk kB/s&#160;&#160;&#160;&#160;&#160; Tape kB/s&#160;&#160;&#160; Cache<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; in&#160;&#160; out&#160;&#160;&#160;&#160; read&#160; write&#160;&#160;&#160; read write&#160;&#160;&#160;&#160; age<br />
21%&#160;&#160; 2987&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160; 2848 102705&#160;&#160;&#160; 86688&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 2s<br />
26%&#160;&#160; 2955&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160; 2833 101569&#160;&#160;&#160; 85000&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 2s<br />
21%&#160;&#160; 2879&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160; 2768 98919&#160;&#160;&#160;&#160; 77168&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 3s<br />
21%&#160;&#160; 2964&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160; 2810 101982&#160;&#160;&#160; 82673&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 3s<br />
21%&#160;&#160; 3952&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160; 2807 111602&#160;&#160;&#160; 85412&#160;&#160; 6064&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 3s<br />
21%&#160;&#160; 2894&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160; 2729 97518&#160;&#160;&#160;&#160; 79832&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 2s<br />
22%&#160;&#160; 3033&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160; 2877 104390&#160;&#160;&#160; 92552&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 2s<br />
20%&#160;&#160; 2825&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160; 2674 97233&#160;&#160;&#160;&#160; 81780&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 2s<br />
21%&#160;&#160; 2808&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160; 2696 96510&#160;&#160;&#160;&#160; 81396&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160; 0&#160;&#160;&#160;&#160;&#160;&#160; 2s<br /></code></p>
<p><strong>4) Результаты Calibration IO:</strong></p>
<p><code>max_iops = 5570<br />
latency = 10<br />
max_mbps = 110</code></p>
<p>&#160;</p>
<p>110 Mега<strong>байт</strong> в секунду, довольно неплохо для одного 1Gbit интерфейса с сервера Oracle на NetApp!</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="11g.html" rel="tag">11g</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="performance/index.html" rel="tag">performance</a><br />					Раздел: <a href="../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;" rel="category tag">переводы</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1074/trackback.html#comments" title="Комментарий к записи Эксперименты с Calibration IO в Oracle 11g">Комментарии (2)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-1073">
				<h2 class="posttitle"><a href="../1073/trackback.html" rel="bookmark" title="Permanent Link to Производительность на NFS: эксперимент">Производительность на NFS: эксперимент</a></h2>
				<div class="postmetadata">19 Октябрь 2011, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Уже цитировавшийся в этом блоге специалист по Oracle и блоггер NetApp с ником Neto (ранее из Бразилии, а теперь сотрудник датацентра NetApp в Triangle Park, USA), опубликовал результаты интересного эксперимента, демонстрирующие возможности и производительность NFS на системах хранения NetApp. Ниже перевод его заметки.</p>
<p>&#160;</p>
<h3><a href="http://communities.netapp.com/community/netapp-blogs/databases/blog/2011/10/07/i-cannot-believe-there-still-exists-people-today-that-do-not-believe-about-nfs-performance">Не могу поверить&#8230; Еще остались люди, которые не верят в производительность на NFS</a></h3>
<p>Posted by <a href="http://communities.netapp.com/people/neto">neto</a> on Oct 8, 2011 5:23:41 AM </p>
<p>Многие годы я получаю много вопросов и FUD на тему того, что, якобы, NFS не обеспечивает достаточно&#160; хорошую производительность.</p>
<p>Давайте смотреть.</p>
<p>Linux CentOS 6 с двумя портами 10Gb Ethernet (Jumbo Frames ON)</p>
<p>NFS v3</p>
<p>NetApp Cluster – каждый с одним интерфейсом 10Gb Ethernet (Jumbo Frames ON)</p>
<p>Cisco Nexus Switch</p>
<p>Я создал&#160; 4 файла на каждой mountpoint:</p>
<p>&#160;</p>
<p><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics//image157.png" width="408" height="308" /></p>
<p><strong>Запускаем ORION…</strong></p>
<p><a href="http://www.oracle.com/technetwork/topics/index-089595.html">http://www.oracle.com/technetwork/topics/index-089595.html      <br /></a></p>
<blockquote><p>ORION (Oracle I/O Calibration Tool) это инструмент для тестирования и калибровки показателей производительность ввода-вывода системы хранения, намеченной для использования под базы Oracle. Результаты полезны для понимания возможностей системы хранения по производительности, а таже для поиска проблем, которые могут отражаться на производительности базы Oracle, или же для сайзинга нвой инсталляции. Так как ORION это отдельный инструмент, то для проведения измерений пользователям не требуется создавать и запускать базу Oracle.      <br />ORION генерирует синтетичекую нагрузку ввода-вывода максмально приближенную к работе базы данных Oracle, и использует тот же I/O software stack, что и Oracle. ORION может быть сконфигурирован на генерирование широкого диапазона нагрузки ввода-вывода, включая нагрузки характерные для OLTP и data warehouse.</p>
</blockquote>
<p><code>./orion_linux_x86-64 -run advanced -testname disk1 -num_disks 64 -matrix point -num_small 0 -num_large 1 -size_large 1024 -type seq -num_streamIO 8 -write 0 -simulate raid0 -cache_size 0 -duration 60 &amp;</code></p>
<p><code>./orion_linux_x86-64 -run advanced -testname disk2 -num_disks 64 -matrix point -num_small 0 -num_large 1 -size_large 1024 -type seq -num_streamIO 8 -write 0 -simulate raid0 -cache_size 0 -duration 60 &amp;</code></p>
<p><code>./orion_linux_x86-64 -run advanced -testname disk3 -num_disks 64 -matrix point -num_small 0 -num_large 1 -size_large 1024 -type seq -num_streamIO 8 -write 0 -simulate raid0 -cache_size 0 -duration 60 &amp;</code></p>
<p><code>./orion_linux_x86-64 -run advanced -testname disk4 -num_disks 64 -matrix point -num_small 0 -num_large 1 -size_large 1024 -type seq -num_streamIO 8 -write 0 -simulate raid0 -cache_size 0 -duration 60 &amp;</code></p>
<p>&#160;</p>
<p>Копируем скриншоты&#8230;</p>
<p><strong>Controller 1</strong></p>
<p><a href="/pics//image158.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics//image-thumb51.png" width="640" height="376" /></a></p>
<p><strong>Controller 2</strong></p>
<p><a href="/pics//image159.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics//image-thumb52.png" width="640" height="376" /></a></p>
<p><strong>Server</strong></p>
<p><a href="/pics//image160.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics//image-thumb53.png" width="640" height="406" /></a></p>
<p>&#160;</p>
<p>Я полагаю, что <strong>2 гигабайта (БАЙТА!) в секунду</strong>, этого должно хватить! Так-то. :-)</p>
<p>NFS это хорошо (на NetApp, конечно же).</p>
<p>Всех благ!</p>
<p>Neto</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="netapp/index.html" rel="tag">netapp</a>, <a href="nfs/index.html" rel="tag">nfs</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="orion.html" rel="tag">orion</a>, <a href="performance/index.html" rel="tag">performance</a><br />					Раздел: <a href="../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;" rel="category tag">переводы</a>&nbsp;&nbsp;|&nbsp;
					<a href="../1073/trackback.html#comments" title="Комментарий к записи Производительность на NFS: эксперимент">Комментарии (18)</a>									 </div>
			</div>
	
						
			<div class="post" id="post-948">
				<h2 class="posttitle"><a href="../948/trackback.html" rel="bookmark" title="Permanent Link to Сравнение производительности протоколов на примере Oracle 11g/RHEL">Сравнение производительности протоколов на примере Oracle 11g/RHEL</a></h2>
				<div class="postmetadata">29 Июнь 2011, 8:53 <!-- от  --></div>
				<div class="postentry">
					<p>??нтересный <a href="http://www.netapp.com/us/library/technical-reports/tr-3932.html">отчет</a> опубликовала сегодня тестовая лаборатория NetApp, анализировавшая производительность Oracle 11g на RHEL и системе хранения NetApp.</p>
<p>Для затравки вам картинка:</p>
<p><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="/pics//image105.png" width="739" height="383" /></p>
<p>Полностью читать – там:    <br /><strong>Red Hat Enterprise Linux Protocol Performance Comparison with Oracle Database 11g Release 2      <br /></strong><a href="http://www.netapp.com/us/library/technical-reports/tr-3932.html">http://www.netapp.com/us/library/technical-reports/tr-3932.html</a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="11g.html" rel="tag">11g</a>, <a href="dnfs.html" rel="tag">dnfs</a>, <a href="fc.html" rel="tag">fc</a>, <a href="fcoe.html" rel="tag">FCoE</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="nfs/index.html" rel="tag">nfs</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="rhel.html" rel="tag">rhel</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;" rel="category tag">новости</a>&nbsp;&nbsp;|&nbsp;
					<a href="../948/trackback.html#respond" title="Комментарий к записи Сравнение производительности протоколов на примере Oracle 11g/RHEL">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-644">
				<h2 class="posttitle"><a href="../644/trackback.html" rel="bookmark" title="Permanent Link to NetApp и Consistency Groups">NetApp и Consistency Groups</a></h2>
				<div class="postmetadata">29 Июль 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Довольно долго наблюдаю, как некоторые конкуренты NetApp указывают на то, что системы хранения NetApp якобы лишены механизма Consistency Groups. Для начала, что такое Consistency Group как таковое.</p>
<p>В опеределенных задачах, например в базах данных, при репликации или создания снпшотов, необходимо оперировать двумя и более разделами данных (это могут быть, например, LUN-ы, или разделы NFS) как единой, логически связанной структурой данных.</p>
<p>Например, наша база данных осуществляет запись данных в лог БД об осуществлении операции, и заносит запись в собственно базу, находящихся в разных LUN. Либо наша бизнес-операция требует связанного изменения в различных базах, располагающихся в разных разделах (или даже на разных контроллерах) например при проведении операции продажи уменьшить на единицу количесетво товара на складе, и одновременно увеличить баланс на цену товара. При этом, если мы создадим снэпшот без учета этой связности, а, как назло, момент создания снэпшота придется между завершением одной и началом второй операции, мы получим неконсистентный “слепок” нашей базы, верный лишь частично, и способный создать в дальнейшем серьезные проблемы.</p>
<p>??менно для этого такие разделы данных объединяют в логическую структуру под названием Consisency Group, операции над которой следует рассматривать “в целом”, либо целиком успешными, либо целиком неудачными и “откаченными”.</p>
<p>??так, Consistency Groups на NetApp. Какова же ситуация сегодня на самом деле?</p>
<p>Consistency Groups на системах NetApp FAS существуют с версии Data ONTAP 7.2, однако работа с ними со стороны хоста производится через специальный API (ZAPI), который предоставляет, например, ПО SnapDrive. Работать с Consistency Groups можно как непосредственно из SnapDrive (UNIX/Windows), так и вызывая средства API из скриптов, например на Perl.</p>
<p>В рамках этого API так называемый “агент” (это может быть или собственный “высокоуровневый” продукт NetApp, например SnapManager for Oracle, SnapCreator, или же оперирующий вызовами API самодельный скрипт):</p>
<ul>
<li>Отдает команду участвующим в процессе контроллеру (или контроллерам, если наша consistency group расположена на разных контроллерах): <strong>start-checkpoint</strong>. </li>
<li>Контроллеры приостанавливают (fence) процесс записи на тома, входящие в заданную consistency group (CG). </li>
<li>Контроллеры подготавливают snapshot для указанных томов. </li>
<li>Агент получает уведомление <strong>fence-success</strong> от всех участвующих контроллеров </li>
<li>Агент отдает команду <strong>commit-checkpoint</strong> всем участвующим контроллерам </li>
<li>Приняв команду контроллеры производят одновременное создание снэпшотов томов в CG </li>
<li>По завершении контроллеры рапортуют об успешном завершении и снимают блокирование записи (unfence). </li>
</ul>
<p>В случае использования интефейса SnapDrive команда создания снэпшота, использующая CG очень проста.    <br />Допустим, у нас есть база данных (/u01/oradata/prod), расположенная на LUN-ах, лежащая на томах двух контроллеров – filer1 и filer2 (filer1:/vol/prodvol1 и filer2:/vol/prodvol1). Тогда процесс создания консистентной копии в снэпшоте с использованием snapdrive будет прост:</p>
<p><code>&gt; snapdrive snap create -fs /u01/oradata/prod -snapname snap_prod_cg</code></p>
<p>Эта команда автоматически инициирует все процессы для всех задействованных в файловой системе <em>/u01/oradata/prod</em> LUN-ов, скомандует их контроллерам, и создаст консистентную копию с именем <em>snap_prod_cg.      <br /></em>Аналогичным образом сработает команда для консистентной копии двух разных файловых систем (u01 и u02):</p>
<p><code>&gt; snapdrive snap create -fs /u01/oradata/prod /u02/oradata/prod -snapname snap_prod_cg </code></p>
<p>Так что утверждение, что, якобы, на NetApp нет consistency groups действительности не соответствует. Они есть, работают, и достаточно активно используются, а утверждающим это специалистам конкурентов стоит обновить свои знания о состоянии дел в продукции конкурентов.</p>
<p>Подробнее о Consisency Groups и работе с ними в контексте Oracle:    <br /><a href="http://media.netapp.com/documents/tr-3858.pdf"><strong>TR-3858: Using Crash-Consistent Snapshot Copies as Valid Oracle Backups</strong></a>     <br />Очень полезный документ о работе со снэпшотами баз Oracle, использования их как резервных копий, восстановления из них, в том числе много рассматривается тема <em>consistency groups</em>.     <br />Одним из авторов документа является “гуру” темы использования NetApp под Oracle, сотрудник бразильского офиса – <a href="http://blogs.netapp.com/databases/biography.html">Neto</a>, автор весьма интересного (и что еще лучше – регулярно пополняемого) <a href="http://blogs.netapp.com/databases/">блога на сайте NetApp</a>.</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="consistency-groups.html" rel="tag">consistency groups</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="techtalk/index.html" rel="tag">techtalk</a><br />					Раздел: <a href="../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;" rel="category tag">techtalk</a>&nbsp;&nbsp;|&nbsp;
					<a href="../644/trackback.html#respond" title="Комментарий к записи NetApp и Consistency Groups">Комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-519">
				<h2 class="posttitle"><a href="../519/trackback.html" rel="bookmark" title="Permanent Link to Oracle на NetApp &ndash; вся библиотека techlibrary">Oracle на NetApp &ndash; вся библиотека techlibrary</a></h2>
				<div class="postmetadata">28 Январь 2010, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Уверен, вы уже знакомы с черезвычайно полезны ресурсом на сайте NetApp, сборником справочной литературы, Best Practices, и рекомендаций по многочисленным областям применений систем хранения NetApp. Расположен он вот по этому адресу: <a href="http://www.netapp.com/us/library/">http://www.netapp.com/us/library/</a></p>
<p>А ниже собраны для примера все документы NetApp касающиеся только одного продукта – СУБД Oracle.</p>
<p>Возможно практическим dba такая подборка будет полезна, а остальных впечатлит размерами :)</p>
<p><strong>NetApp Best Practices      <br /></strong><a href="http://media.netapp.com/documents/tr-3369.pdf">http://media.netapp.com/documents/tr-3369.pdf</a>&#160; Best Practices for Oracle (through 10g)     <br /><a href="http://media.netapp.com/documents/tr-3633.pdf">http://media.netapp.com/documents/tr-3633.pdf</a>&#160; Best Practices for 11g     <br /><a href="http://media.netapp.com/documents/tr-3761.pdf">http://media.netapp.com/documents/tr-3761.pdf</a>&#160; Best Practices for SnapManager 3     <br /><a href="http://media.netapp.com/documents/tr-3426.pdf">http://media.netapp.com/documents/tr-3426.pdf</a>&#160; SnapManager with 10g RAC Grid     <br /><a href="http://media.netapp.com/documents/tr-3442.pdf">http://media.netapp.com/documents/tr-3442.pdf</a>&#160; SAP on Unix and Oracle with NFS     <br /><a href="http://media.netapp.com/documents/ra-0002.pdf">http://media.netapp.com/documents/ra-0002.pdf</a>&#160; Test/Dev Reference Architecture with Data Guard     <br /><a href="http://media.netapp.com/documents/tr-3803.pdf">http://media.netapp.com/documents/tr-3803.pdf</a>&#160; Oracle VM Best Practices </p>
<p><strong>Performance      <br /></strong><a href="http://media.netapp.com/documents/tr-3700.pdf">http://media.netapp.com/documents/tr-3700.pdf</a>&#160; Oracle 11g Protocol Performance on Linux     <br /><a href="http://media.netapp.com/documents/tr-3495.pdf">http://media.netapp.com/documents/tr-3495.pdf</a>&#160; Storage Protocol Performance on Linux     <br /><a href="http://media.netapp.com/documents/tr-3408.pdf">http://media.netapp.com/documents/tr-3408.pdf</a>&#160; Storage Protocol Performance on AIX     <br /><a href="http://media.netapp.com/documents/tr-3496.pdf">http://media.netapp.com/documents/tr-3496.pdf</a>&#160; Storage Protocol Performance on Solaris     <br /><a href="http://media.netapp.com/documents/tr-3322.pdf">http://media.netapp.com/documents/tr-3322.pdf</a>&#160; Oracle NFS Performance on Solaris     <br /><a href="http://media.netapp.com/documents/tr-3557.pdf">http://media.netapp.com/documents/tr-3557.pdf</a>&#160; HP-UX NFS Performance on 10g     <br /><a href="http://media.netapp.com/documents/tr-3357.pdf">http://media.netapp.com/documents/tr-3357.pdf</a>&#160; Oracle 9i RAC OLTP performance on iSCSI     <br /><a href="http://media.netapp.com/documents/tr-3753.pdf">http://media.netapp.com/documents/tr-3753.pdf</a>&#160; OLTP Performance with NetApp Performance Acceleration Module     <br /><a href="http://media.netapp.com/documents/tr-3622.pdf">http://media.netapp.com/documents/tr-3622.pdf</a>&#160; 11g Single Instance Sequential Workload Performance with DNFS and iSCSI on Windows     <br /><a href="http://media.netapp.com/documents/tr-3628.pdf">http://media.netapp.com/documents/tr-3628.pdf</a>&#160; Sequential Workload Performance with iSCSI and NFS</p>
<p><strong>Data Protection      <br /></strong><a href="http://media.netapp.com/documents/tr-3520.pdf">http://media.netapp.com/documents/tr-3520.pdf</a>&#160; SAP Data Protection for Unix on Fibre Channel     <br /><a href="http://media.netapp.com/documents/tr-3211.pdf">http://media.netapp.com/documents/tr-3211.pdf</a>&#160; Data Protection for 9i on Windows     <br /><a href="http://media.netapp.com/documents/tr-3368.pdf">http://media.netapp.com/documents/tr-3368.pdf</a>&#160; Data Protection for 10g on Asianux     <br /><a href="http://media.netapp.com/documents/tr-3377.pdf">http://media.netapp.com/documents/tr-3377.pdf</a>&#160; Oracle with NetApp Open Systems SnapVault (OSSV)</p>
<p><strong>Applications      <br /></strong><a href="http://media.netapp.com/documents/tr-3444.pdf">http://media.netapp.com/documents/tr-3444.pdf</a>&#160; SAP on Microsoft Windows with NetApp     <br /><a href="http://media.netapp.com/documents/tr-3533.pdf">http://media.netapp.com/documents/tr-3533.pdf</a>&#160; SAP on Unix with Fibre Channel     <br /><a href="http://media.netapp.com/documents/tr-3391.pdf">http://media.netapp.com/documents/tr-3391.pdf</a>&#160; Oracle E-Business Suite on NetApp     <br /><a href="http://media.netapp.com/documents/tr-3797.pdf">http://media.netapp.com/documents/tr-3797.pdf</a>&#160; SAP TDMS (Test Data Migration Server) on NetApp     <br /><a href="http://media.netapp.com/documents/tr-3300.pdf">http://media.netapp.com/documents/tr-3300.pdf</a>&#160; Cloning Oracle E-Business Suite with SnapMirror     <br /><a href="http://media.netapp.com/documents/tr-3366.pdf">http://media.netapp.com/documents/tr-3366.pdf</a>&#160; SAP Data Protection on Oracle on Windows     <br /><a href="http://media.netapp.com/documents/tr-3365.pdf">http://media.netapp.com/documents/tr-3365.pdf</a>&#160; SAP Data Protection on Unix and NFS     <br /><a href="http://media.netapp.com/documents/tr-3672.pdf">http://media.netapp.com/documents/tr-3672.pdf</a>&#160; Fusion Middleware Disaster Recovery</p>
<p><strong>Real Applicaiton Clusters      <br /></strong><a href="http://media.netapp.com/documents/tr-3572.pdf">http://media.netapp.com/documents/tr-3572.pdf</a>&#160; Oracle 10gR2 NFS Setup     <br /><a href="http://media.netapp.com/documents/tr-3572.pdf">http://media.netapp.com/documents/tr-3572.pdf</a>&#160; Oracle 10g RAC with ASM on NFS     <br /><a href="http://media.netapp.com/documents/tr-3349.pdf">http://media.netapp.com/documents/tr-3349.pdf</a>&#160; Oracle 10g RAC with ASM on iSCSI     <br /><a href="http://media.netapp.com/documents/tr-3189.pdf">http://media.netapp.com/documents/tr-3189.pdf</a>&#160; Oracle 9i RAC on Red Hat 3     <br /><a href="http://media.netapp.com/documents/tr-3413.pdf">http://media.netapp.com/documents/tr-3413.pdf</a>&#160; Oracle 10g RAC on SUSE     <br /><a href="http://media.netapp.com/documents/tr-3536.pdf">http://media.netapp.com/documents/tr-3536.pdf</a>&#160; Oracle 10g RAC on SUSE9     <br /><a href="http://media.netapp.com/documents/tr-3555.pdf">http://media.netapp.com/documents/tr-3555.pdf</a>&#160; Oracle 10g RAC Cluster Synchronization Services with NetApp     <br /><a href="http://media.netapp.com/documents/tr-3527.pdf">http://media.netapp.com/documents/tr-3527.pdf</a>&#160; Oracle 10g with Power Linux (RHEL AS4 U3)     <br /><a href="http://media.netapp.com/documents/tr-3542.pdf">http://media.netapp.com/documents/tr-3542.pdf</a>&#160; Oracle 10g RAC on AIX     <br /><a href="http://media.netapp.com/documents/tr-3479.pdf">http://media.netapp.com/documents/tr-3479.pdf</a>&#160; Oracle 10g RAC on AIX     <br /><a href="http://media.netapp.com/documents/tr-3330.pdf">http://media.netapp.com/documents/tr-3330.pdf</a>&#160; Oracle 10g RAC with RHEL 3     <br /><a href="http://media.netapp.com/documents/tr-3389.pdf">http://media.netapp.com/documents/tr-3389.pdf</a>&#160; Oracle RAC for HP Service Guard/HP LVM over Fibre Channel     <br /><a href="http://media.netapp.com/documents/tr-3399.pdf">http://media.netapp.com/documents/tr-3399.pdf</a>&#160; Oracle RAC on IBM HACMP SAN</p>
<p><strong>DNFS      <br /></strong><a href="http://media.netapp.com/documents/tr-3614.pdf">http://media.netapp.com/documents/tr-3614.pdf</a>&#160; HA for Oracle with DNFS on NetApp MetroCluster</p>
<p><strong>Disaster Recovery      <br /></strong><a href="http://media.netapp.com/documents/tr-3455.pdf">http://media.netapp.com/documents/tr-3455.pdf</a>&#160; Disaster Recovery for Oracle on NetApp     <br /><a href="http://media.netapp.com/documents/tr-3639.pdf">http://media.netapp.com/documents/tr-3639.pdf</a>&#160; Disaster Recovery with Sun Cluster and NetApp MetroCluster</p>
<p><strong>Misc      <br /></strong><a href="http://media.netapp.com/documents/tr-3646.pdf">http://media.netapp.com/documents/tr-3646.pdf</a>&#160; Oracle 11g with VMWare     <br /><a href="http://media.netapp.com/documents/tr-3803.pdf">http://media.netapp.com/documents/tr-3803.pdf</a>&#160; Upgrading to 11g leveraging SnapMirror, FlexClone, and Real Applicaiton Testing      <br /><a href="http://media.netapp.com/documents/tr-3762.pdf">http://media.netapp.com/documents/tr-3762.pdf</a>&#160; Oracle Data Masking with SnapManager for Oracle     <br /><a href="http://media.netapp.com/documents/tr-3792.pdf">http://media.netapp.com/documents/tr-3792.pdf</a>&#160; Database Migration to Large ONTAP 8.0 Aggregates     <br /><a href="http://media.netapp.com/documents/tr-3414.pdf">http://media.netapp.com/documents/tr-3414.pdf</a>&#160; Ensuring Oracle Data Integrity with NetApp SnapValidator     <br /><a href="http://media.netapp.com/documents/tr-3469.pdf">http://media.netapp.com/documents/tr-3469.pdf</a>&#160; Enterprise Manager plug-in for NetApp     <br /><a href="http://media.netapp.com/documents/tr-3781.pdf">http://media.netapp.com/documents/tr-3781.pdf</a>&#160; NetApp with Oracle ILM Assistant     <br /><a href="http://media.netapp.com/documents/tr-3791.pdf">http://media.netapp.com/documents/tr-3791.pdf</a>&#160; Leveraging Transportable Tablespaces with Flexclones     <br /><a href="http://media.netapp.com/documents/tr-3575.pdf">http://media.netapp.com/documents/tr-3575.pdf</a>&#160; Oracle 10g with Decru DataFort on RHEL 4 on FCP</p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="documents.html" rel="tag">documents</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="techlibrary.html" rel="tag">techlibrary</a><br />					Раздел: <a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;" rel="category tag">justread</a>,  <a href="../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;" rel="category tag">review</a>&nbsp;&nbsp;|&nbsp;
					<a href="../519/trackback.html#comments" title="Комментарий к записи Oracle на NetApp &ndash; вся библиотека techlibrary">1 комментарий</a>									 </div>
			</div>
	
						
			<div class="post" id="post-337">
				<h2 class="posttitle"><a href="../337/trackback.html" rel="bookmark" title="Permanent Link to ??спользование STATSPACK для Oracle">??спользование STATSPACK для Oracle</a></h2>
				<div class="postmetadata">22 Июль 2009, 8:00 <!-- от  --></div>
				<div class="postentry">
					<p>Сайзинг под базы Oracle есть критически важный параметр для создания системы хранения достаточной производительности. Сбор данных perfstat* и Oracle STATSPACK позволит выбрать правильно сконфигурированную систему хранения NetApp, как в плане размера, так и производительности.</p>
<p>Важно помнить несколько вещей, когда вы собираете статистику системы:</p>
<ul>
<li>Собирайте данные, когда система под большой нагрузкой</li>
<li>Собирайте данные со всех хостов инфраструктуры</li>
<li>Собирайте данные в perfstat и STATSPACK за один период времени</li>
</ul>
<p><strong>Установка Oracle STATSPACK.</strong></p>
<p>STATSPACK это утилита диагностики произвдительности СУБД, которая доступна начиная с  Oracle8i. STATSPACK это дальнейшее развитие утилит BSTAT и ESTAT. Рекомендуется установить timed_statistics в true. Для установки STATSPACK выполните следующие шаги:</p>
<p>1. Создайте PERFSTAT Tablespace:</p>
<p><code>SQL> CREATE TABLESPACE statspack<br />
     DATAFILE &#8216;/path_to_file.dbf&#8217; SIZE 200M REUSE<br />
     EXTENT MANAGEMENT LOCAL UNIFORM SIZE 512K<br />
     SEGMENT SPACE MANAGEMENT AUTO<br />
     PERMANENT<br />
     ONLINE;</code></p>
<p>2. Запустите catdbsyn.sql и dbmspool.sql как SYS из SQLPLUS</p>
<p><code>$ sqlplus "/ as sysdba"</p>
<p>SQL> @?/rdbms/admin/catdbsyn.sql</p>
<p>SQL> @?/rdbms/admin/dbmspool.sql</code></p>
<p>3. Запустите скрипт</p>
<p><code>$ sqlplus "/ as sysdba"</p>
<p>SQL> @?/rdbms/admin/spcreate</code></p>
<p>Можете начинать пользоваться Oracle STATSPACK.</p>
<p><strong>Сбор Oracle Statspack с помощью Perfstat с хоста Unix.</strong></p>
<p><em>Как я могу собирать данные Oracle Statspack и Perfstat одновременно?</em> </p>
<p>Для Perfstat версии 6.28 или позднее мы можем собирать данные Oracle Statspack из Perfstat используя единую команду Perfstat. Это работает для версии perfstat под unix, и не работает для версии perfstat под Windows.</p>
<p>Небольшая выжимка их манов к Perfstat:</p>
<p>Требования:</p>
<p>1. Perfstat может собирать данные Oracle STATSPACK только с одного хоста.<br />
2. ??нстанс Oracle должен быть запущен до того, как будет вызван Perfstat.<br />
3. ??спользуйте флаг <strong>-o</strong> чтобы передать специфические опции statspack в perfstat.</p>
<p>Опции и значения по умолчанию:</p>
<p><code>oracle_host=`hostname`<br />
sqlplus=&#8221;sqlplus&#8221;<br />
oracle_login=&#8221;perfstat/perfstat&#8221;<br />
runas=&#8221;"<br />
sysdba=&#8221;false&#8221;</code></p>
<p><strong><code>-oracle_host </code></strong> - умолчание для localhost, может быть одним из хостов, определенных с помощью -h из команд perfstat</p>
<p><strong><code>-sqlplus</code></strong> - может быть использован для того, чтобы определить абсолтный путь к команде &#8217;sqlplus&#8217;</p>
<p><strong><code>-runas</code></strong> - может использоваться для запуска sqlplus от имени другого пользователя (то есть пользователь Unix, где установлен Oracle, обычно не root.)</p>
<p><strong><code>-sysdba</code></strong> - может использоваться для подключения к oracle как sysdba, игнорируя параметр oracle_login. Ключ sysdba вводит следующие команды в логин к sqlplus:</p>
<ul>
<li>a. sqlplus /nolog </li>
<li>b. connect / as sysdba.</li>
</ul>
<p>Примеры:</p>
<p><code>perfstat.sh -a oracle<br />
perfstat.sh -h host1 -a oracle -o oracle_host=host1<br />
perfstat.sh -h host1 -a oracle -o oracle_host=host1,sqlplus=/oracle/bin/sqlplus/<br />
perfstat.sh -a oracle -o oracle_login=user/pass<br />
perfstat.sh -a oracle -o runas=oracle,sysdba=true</code></p>
<p>Более сложные примеры:</p>
<p><code>perfstat.sh -a oracle -t 5 -i 5 -f filer -o runas=oracle, sysdba=true >/opt/perfstat.out</code></p>
<p>Note: Для того, чтобы собирать статистику самого файлера вместе с данными статистики Oracle, должен быть использован ключ <strong>-f</strong>.</p>
<p>Пример приведенный выше запускает perfstat и statspack 5 раз по 5 минут. Он переключает пользователя в oracle (с помощью команды su - oracle), и входит в sqlplus с помощью:</p>
<ul>
<li>a. sqlplus /nolog </li>
<li>b. connect / as sysdba.</li>
</ul>
<p>Еще почитать:<br />
<a href="http://www.akadia.com/services/ora_statspack_survival_guide.html">http://www.akadia.com/services/ora_statspack_survival_guide.html</a><br />
<a href="https://now.netapp.com/Knowledgebase/solutionarea.asp?id=kb9096">https://now.netapp.com/Knowledgebase/solutionarea.asp?id=kb9096</a><br />
<a href="http://www.dba-oracle.com/art_statspack.htm">http://www.dba-oracle.com/art_statspack.htm</a><br />
<a href="http://www.datadisk.co.uk/html_docs/oracle/awr.htm">http://www.datadisk.co.uk/html_docs/oracle/awr.htm</a></p>
<p>Взято тут:<br />
<a href="http://blogs.netapp.com/databases/2009/07/gathering-oracle-statspack-data-for-netapp.html">http://blogs.netapp.com/databases/2009/07/gathering-oracle-statspack-data-for-netapp.html</a></p>
<p>* perfstat - собственная утилита - shell-script NetApp для сбора статистики, может быть скачана с вебсайта NOW:  <a href="http://now.netapp.com/NOW/download/tools/perfstat/">http://now.netapp.com/NOW/download/tools/perfstat/</a></p>
				</div>
		
				<div class="postmetadata">
					Метки: <a href="howto/index.html" rel="tag">howto</a>, <a href="netapp/index.html" rel="tag">netapp</a>, <a href="oracle/index.html" rel="tag">oracle</a>, <a href="performance/index.html" rel="tag">performance</a>, <a href="sizing.html" rel="tag">sizing</a><br />					Раздел: <a href="../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;" rel="category tag">howto</a>&nbsp;&nbsp;|&nbsp;
					<a href="../337/trackback.html#respond" title="Комментарий к записи ??спользование STATSPACK для Oracle">Комментарий</a>									 </div>
			</div>
	
		
		<div class="navigation">
			<div class="alignleft"><a href="oracle/page/2.html">&laquo; Previous Entries</a></div>
			<div class="alignright"></div>
		</div>
		
	
	</div>
	<div id="sidebar">
		<ul>
			
			
			<!-- Author information is disabled per default. Uncomment and fill in your details if you want to use it.
			<li><h2>Автор</h2>
			<p>A little something about you, the author. Nothing lengthy, just an overview.</p>
			</li>
			-->

			<li class="pagenav"><h2>Страницы</h2><ul><li class="page_item page-item-153"><a href="../../about/trackback.html" title="about">about</a></li>
<li class="page_item page-item-215"><a href="../../distributory-v-rossii/trackback.html" title="Дистрибуторы в России">Дистрибуторы в России</a></li>
<li class="page_item page-item-1327"><a href="../../disti-ua/trackback.html" title="Дистрибуторы в Украине">Дистрибуторы в Украине</a></li>
</ul></li>
			<li><h2>Рубрики</h2>
				<ul>
					<li class="cat-item cat-item-89"><a href="../category/commands/index.html" title="Просмотреть все записи в рубрике &laquo;commands&raquo;">commands</a>
</li>
	<li class="cat-item cat-item-37"><a href="../category/howto/index.html" title="Просмотреть все записи в рубрике &laquo;howto&raquo;">howto</a>
</li>
	<li class="cat-item cat-item-52"><a href="../category/justread/index.html" title="Просмотреть все записи в рубрике &laquo;justread&raquo;">justread</a>
</li>
	<li class="cat-item cat-item-51"><a href="../category/review/index.html" title="Просмотреть все записи в рубрике &laquo;review&raquo;">review</a>
</li>
	<li class="cat-item cat-item-3"><a href="../category/techtalk/index.html" title="Просмотреть все записи в рубрике &laquo;techtalk&raquo;">techtalk</a>
</li>
	<li class="cat-item cat-item-71"><a href="../category/tricks/index.html" title="Просмотреть все записи в рубрике &laquo;tricks&raquo;">tricks</a>
</li>
	<li class="cat-item cat-item-95"><a href="../category/utilities/index.html" title="Просмотреть все записи в рубрике &laquo;utilities&raquo;">utilities</a>
</li>
	<li class="cat-item cat-item-44"><a href="../category/whoisho/index.html" title="Просмотреть все записи в рубрике &laquo;whoisho&raquo;">whoisho</a>
</li>
	<li class="cat-item cat-item-1"><a href="../category/news/index.html" title="Просмотреть все записи в рубрике &laquo;новости&raquo;">новости</a>
</li>
	<li class="cat-item cat-item-387"><a href="../category/opros.html" title="Просмотреть все записи в рубрике &laquo;опрос&raquo;">опрос</a>
</li>
	<li class="cat-item cat-item-8"><a href="../category/translations/index.html" title="Просмотреть все записи в рубрике &laquo;переводы&raquo;">переводы</a>
</li>
	<li class="cat-item cat-item-40"><a href="../category/citaty/index.html" title="Просмотреть все записи в рубрике &laquo;цитаты&raquo;">цитаты</a>
</li>
				</ul>
			</li>

			<li><h2>Архивы</h2>
				<ul>
					<li><a href='../date/2018/01.html' title='Январь 2018'>Январь 2018</a></li>
	<li><a href='../date/2015/10.html' title='Октябрь 2015'>Октябрь 2015</a></li>
	<li><a href='../date/2015/04.html' title='Апрель 2015'>Апрель 2015</a></li>
	<li><a href='../date/2015/03.html' title='Март 2015'>Март 2015</a></li>
	<li><a href='../date/2015/01.html' title='Январь 2015'>Январь 2015</a></li>
	<li><a href='../date/2014/12.html' title='Декабрь 2014'>Декабрь 2014</a></li>
	<li><a href='../date/2014/11.html' title='Ноябрь 2014'>Ноябрь 2014</a></li>
	<li><a href='../date/2014/10.html' title='Октябрь 2014'>Октябрь 2014</a></li>
	<li><a href='../date/2014/09.html' title='Сентябрь 2014'>Сентябрь 2014</a></li>
	<li><a href='../date/2014/08.html' title='Август 2014'>Август 2014</a></li>
	<li><a href='../date/2014/07.html' title='Июль 2014'>Июль 2014</a></li>
	<li><a href='../date/2014/06.html' title='Июнь 2014'>Июнь 2014</a></li>
	<li><a href='../date/2014/05.html' title='Май 2014'>Май 2014</a></li>
	<li><a href='../date/2014/04.html' title='Апрель 2014'>Апрель 2014</a></li>
	<li><a href='../date/2014/03.html' title='Март 2014'>Март 2014</a></li>
	<li><a href='../date/2014/02.html' title='Февраль 2014'>Февраль 2014</a></li>
	<li><a href='../date/2014/01.html' title='Январь 2014'>Январь 2014</a></li>
	<li><a href='../date/2013/12.html' title='Декабрь 2013'>Декабрь 2013</a></li>
	<li><a href='../date/2013/11.html' title='Ноябрь 2013'>Ноябрь 2013</a></li>
	<li><a href='../date/2013/10.html' title='Октябрь 2013'>Октябрь 2013</a></li>
	<li><a href='../date/2013/09.html' title='Сентябрь 2013'>Сентябрь 2013</a></li>
	<li><a href='../date/2013/08.html' title='Август 2013'>Август 2013</a></li>
	<li><a href='../date/2013/07.html' title='Июль 2013'>Июль 2013</a></li>
	<li><a href='../date/2013/06.html' title='Июнь 2013'>Июнь 2013</a></li>
	<li><a href='../date/2013/05.html' title='Май 2013'>Май 2013</a></li>
	<li><a href='../date/2013/04.html' title='Апрель 2013'>Апрель 2013</a></li>
	<li><a href='../date/2013/03.html' title='Март 2013'>Март 2013</a></li>
	<li><a href='../date/2013/02.html' title='Февраль 2013'>Февраль 2013</a></li>
	<li><a href='../date/2013/01.html' title='Январь 2013'>Январь 2013</a></li>
	<li><a href='../date/2012/12.html' title='Декабрь 2012'>Декабрь 2012</a></li>
	<li><a href='../date/2012/11.html' title='Ноябрь 2012'>Ноябрь 2012</a></li>
	<li><a href='../date/2012/10.html' title='Октябрь 2012'>Октябрь 2012</a></li>
	<li><a href='../date/2012/09.html' title='Сентябрь 2012'>Сентябрь 2012</a></li>
	<li><a href='../date/2012/08.html' title='Август 2012'>Август 2012</a></li>
	<li><a href='../date/2012/07.html' title='Июль 2012'>Июль 2012</a></li>
	<li><a href='../date/2012/06.html' title='Июнь 2012'>Июнь 2012</a></li>
	<li><a href='../date/2012/05.html' title='Май 2012'>Май 2012</a></li>
	<li><a href='../date/2012/04.html' title='Апрель 2012'>Апрель 2012</a></li>
	<li><a href='../date/2012/03.html' title='Март 2012'>Март 2012</a></li>
	<li><a href='../date/2012/02.html' title='Февраль 2012'>Февраль 2012</a></li>
	<li><a href='../date/2012/01.html' title='Январь 2012'>Январь 2012</a></li>
	<li><a href='../date/2011/12.html' title='Декабрь 2011'>Декабрь 2011</a></li>
	<li><a href='../date/2011/11.html' title='Ноябрь 2011'>Ноябрь 2011</a></li>
	<li><a href='../date/2011/10/index.html' title='Октябрь 2011'>Октябрь 2011</a></li>
	<li><a href='../date/2011/09/index.html' title='Сентябрь 2011'>Сентябрь 2011</a></li>
	<li><a href='../date/2011/08.html' title='Август 2011'>Август 2011</a></li>
	<li><a href='../date/2011/07/index.html' title='Июль 2011'>Июль 2011</a></li>
	<li><a href='../date/2011/06/index.html' title='Июнь 2011'>Июнь 2011</a></li>
	<li><a href='../date/2011/05/index.html' title='Май 2011'>Май 2011</a></li>
	<li><a href='../date/2011/04/index.html' title='Апрель 2011'>Апрель 2011</a></li>
	<li><a href='../date/2011/03/index.html' title='Март 2011'>Март 2011</a></li>
	<li><a href='../date/2011/02.html' title='Февраль 2011'>Февраль 2011</a></li>
	<li><a href='../date/2011/01.html' title='Январь 2011'>Январь 2011</a></li>
	<li><a href='../date/2010/12.html' title='Декабрь 2010'>Декабрь 2010</a></li>
	<li><a href='../date/2010/11/index.html' title='Ноябрь 2010'>Ноябрь 2010</a></li>
	<li><a href='../date/2010/10/index.html' title='Октябрь 2010'>Октябрь 2010</a></li>
	<li><a href='../date/2010/09/index.html' title='Сентябрь 2010'>Сентябрь 2010</a></li>
	<li><a href='../date/2010/08.html' title='Август 2010'>Август 2010</a></li>
	<li><a href='../date/2010/07/index.html' title='Июль 2010'>Июль 2010</a></li>
	<li><a href='../date/2010/06.html' title='Июнь 2010'>Июнь 2010</a></li>
	<li><a href='../date/2010/05.html' title='Май 2010'>Май 2010</a></li>
	<li><a href='../date/2010/04/index.html' title='Апрель 2010'>Апрель 2010</a></li>
	<li><a href='../date/2010/03/index.html' title='Март 2010'>Март 2010</a></li>
	<li><a href='../date/2010/02.html' title='Февраль 2010'>Февраль 2010</a></li>
	<li><a href='../date/2010/01.html' title='Январь 2010'>Январь 2010</a></li>
	<li><a href='../date/2009/12/index.html' title='Декабрь 2009'>Декабрь 2009</a></li>
	<li><a href='../date/2009/11/index.html' title='Ноябрь 2009'>Ноябрь 2009</a></li>
	<li><a href='../date/2009/10.html' title='Октябрь 2009'>Октябрь 2009</a></li>
	<li><a href='../date/2009/09.html' title='Сентябрь 2009'>Сентябрь 2009</a></li>
	<li><a href='../date/2009/08/index.html' title='Август 2009'>Август 2009</a></li>
	<li><a href='../date/2009/07/index.html' title='Июль 2009'>Июль 2009</a></li>
	<li><a href='../date/2009/06.html' title='Июнь 2009'>Июнь 2009</a></li>
	<li><a href='../date/2009/05.html' title='Май 2009'>Май 2009</a></li>
	<li><a href='../date/2009/04.html' title='Апрель 2009'>Апрель 2009</a></li>
	<li><a href='../date/2009/03.html' title='Март 2009'>Март 2009</a></li>
	<li><a href='../date/2009/02.html' title='Февраль 2009'>Февраль 2009</a></li>
	<li><a href='../date/2009/01.html' title='Январь 2009'>Январь 2009</a></li>
	<li><a href='../date/2008/12.html' title='Декабрь 2008'>Декабрь 2008</a></li>
	<li><a href='../date/2008/11.html' title='Ноябрь 2008'>Ноябрь 2008</a></li>
	<li><a href='../date/2008/10.html' title='Октябрь 2008'>Октябрь 2008</a></li>
	<li><a href='../date/2008/09.html' title='Сентябрь 2008'>Сентябрь 2008</a></li>
	<li><a href='../date/2008/08.html' title='Август 2008'>Август 2008</a></li>
	<li><a href='../date/2008/03.html' title='Март 2008'>Март 2008</a></li>
	<li><a href='../date/2008/02.html' title='Февраль 2008'>Февраль 2008</a></li>
	<li><a href='../date/2007/12.html' title='Декабрь 2007'>Декабрь 2007</a></li>
	<li><a href='../date/2007/11.html' title='Ноябрь 2007'>Ноябрь 2007</a></li>
	<li><a href='../date/2007/10.html' title='Октябрь 2007'>Октябрь 2007</a></li>
	<li><a href='../date/2007/09.html' title='Сентябрь 2007'>Сентябрь 2007</a></li>
	<li><a href='../date/2007/08.html' title='Август 2007'>Август 2007</a></li>
	<li><a href='../date/2007/07/index.html' title='Июль 2007'>Июль 2007</a></li>
	<li><a href='../date/2007/06.html' title='Июнь 2007'>Июнь 2007</a></li>
	<li><a href='../date/2007/05.html' title='Май 2007'>Май 2007</a></li>
				</ul>
			</li>

			
					</ul>
	</div>

</div> <!-- wrapper -->
<div id="footer">
	<a href="../../feed">Entries (RSS)</a> and <a href="../../comments/feed">Comments (RSS)</a>. Valid <a href="http://validator.w3.org/check/referer" title="This page validates as XHTML 1.0 Transitional"><abbr title="eXtensible HyperText Markup Language">XHTML</abbr></a> and <a href="http://jigsaw.w3.org/css-validator/check/referer"><abbr title="Cascading Style Sheets">CSS</abbr></a>.<br />
	Powered by <a href="http://wordpress.org/" title="Powered by WordPress.">WordPress</a> and <a href="http://srinig.com/wordpress/themes/fluid-blue/">Fluid Blue theme</a>.<br />
	<!-- 15 queries. 0.106 seconds. -->
	</div>
</div> <!-- page -->
</body>
</html>
